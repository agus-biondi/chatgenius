2025-01-11 02:03:11 [main] INFO  c.g.a.chatgenius.Application - Starting Application using Java 21.0.3 with PID 22948 (C:\Users\Agustin\Gauntlet\ChatGenius2\backend\build\classes\java\main started by Agustin in C:\Users\Agustin\Gauntlet\ChatGenius2)
2025-01-11 02:03:11 [main] DEBUG c.g.a.chatgenius.Application - Running with Spring Boot v3.2.2, Spring v6.1.3
2025-01-11 02:03:11 [main] INFO  c.g.a.chatgenius.Application - The following 1 profile is active: "dev"
2025-01-11 02:03:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-11 02:03:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 288 ms. Found 3 JPA repository interfaces.
2025-01-11 02:03:16 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-01-11 02:03:16 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-11 02:03:16 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.18]
2025-01-11 02:03:16 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-11 02:03:16 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4497 ms
2025-01-11 02:03:16 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-11 02:03:16 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2025-01-11 02:03:17 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-11 02:03:17 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-11 02:03:17 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-11 02:03:19 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-11 02:03:19 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-11 02:03:19 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@8ab231
2025-01-11 02:03:19 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-01-11 02:03:19 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-11 02:03:20 [main] DEBUG c.g.a.c.security.ClerkAuthFilter - Filter 'clerkAuthFilter' configured for use
2025-01-11 02:03:20 [main] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Filter 'logFilter' configured for use
2025-01-11 02:03:20 [main] DEBUG c.g.a.c.c.RequestLoggingConfig$1 - Filter 'corsLoggingFilter' configured for use
2025-01-11 02:03:21 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 51925eac-e521-47be-aa89-1b38266e3a1b

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-01-11 02:03:21 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws/**] in 'stompWebSocketHandlerMapping'
2025-01-11 02:03:21 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 11 mappings in 'requestMappingHandlerMapping'
2025-01-11 02:03:21 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-01-11 02:03:21 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@59f56892, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@389fad5b, org.springframework.security.web.context.SecurityContextHolderFilter@28a33dc9, org.springframework.security.web.header.HeaderWriterFilter@1dcf5f38, org.springframework.web.filter.CorsFilter@5d72da0b, org.springframework.security.web.csrf.CsrfFilter@1d397e87, org.springframework.security.web.authentication.logout.LogoutFilter@2044f708, com.gauntletai.agustinbiondi.chatgenius.security.ClerkAuthFilter@7a482b3a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@32db94fb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6278371a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@285b63eb, org.springframework.security.web.session.SessionManagementFilter@1407b93f, org.springframework.security.web.access.ExceptionTranslationFilter@68a7bc12, org.springframework.security.web.access.intercept.AuthorizationFilter@240c626d]
2025-01-11 02:03:21 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.g.a.c.c.ChannelController:
	
2025-01-11 02:03:21 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.g.a.c.c.ClerkWebhookController:
	
2025-01-11 02:03:21 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.g.a.c.c.DevUserController:
	
2025-01-11 02:03:21 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.g.a.c.c.UserController:
	
2025-01-11 02:03:21 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.g.a.c.c.WebSocketController:
	{[MESSAGE],[/channels/{channelId}/messages]}: handleMessage(UUID,MessageDTO,Principal)
	{[MESSAGE],[/channels/{channelId}/typing]}: handleTypingEvent(UUID,Principal)
2025-01-11 02:03:21 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.b.a.w.s.e.BasicErrorController:
	
2025-01-11 02:03:21 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-01-11 02:03:21 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-01-11 02:03:22 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-01-11 02:03:22 [main] DEBUG org.springframework.web.SimpLogging - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-01-11 02:03:22 [main] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-01-11 02:03:22 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-01-11 02:03:22 [main] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5e8f0c54]
2025-01-11 02:03:22 [main] DEBUG org.springframework.web.SimpLogging - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5e8f0c54]
2025-01-11 02:03:22 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5e8f0c54]]
2025-01-11 02:03:22 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-01-11 02:03:22 [main] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-01-11 02:03:22 [main] DEBUG org.springframework.web.SimpLogging - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-01-11 02:03:22 [main] INFO  c.g.a.chatgenius.Application - Started Application in 11.619 seconds (process running for 12.461)
2025-01-11 02:03:36 [http-nio-8080-exec-3] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-11 02:03:36 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-01-11 02:03:36 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-01-11 02:03:36 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-01-11 02:03:36 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-01-11 02:03:36 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@116fe252
2025-01-11 02:03:36 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@8a0a1d1
2025-01-11 02:03:36 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='true': request parameters and headers will be shown which may lead to unsafe logging of potentially sensitive data
2025-01-11 02:03:36 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 8 ms
2025-01-11 02:03:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels
2025-01-11 02:03:36 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 02:03:36 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 02:03:36 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels
2025-01-11 02:03:36 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 02:03:36 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 02:03:37 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 02:03:37 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 02:03:38 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 02:03:38 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 02:03:38 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 02:03:38 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 02:03:38 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels
2025-01-11 02:03:38 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 02:03:38 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels
2025-01-11 02:03:38 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 02:03:38 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels]
2025-01-11 02:03:38 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 02:03:38 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 02:03:38 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels - Origin: http://localhost:5173
2025-01-11 02:03:38 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels", parameters={}
2025-01-11 02:03:38 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 02:03:38 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getChannels()
2025-01-11 02:03:38 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 02:03:38 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 02:03:38 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: ChannelController.getChannels
2025-01-11 02:03:38 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 02:03:38 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 02:03:38 [http-nio-8080-exec-3] INFO  c.g.a.c.controller.ChannelController - GET /api/channels endpoint hit
2025-01-11 02:03:38 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 3ms
2025-01-11 02:03:38 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[]>
2025-01-11 02:03:38 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 02:03:38 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-01-11 02:03:38 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 02:03:38 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels]
2025-01-11 02:03:38 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 02:03:38 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 229ms
2025-01-11 02:03:38 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 02:03:38 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 02:03:38 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 02:03:38 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 02:03:38 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 02:04:21 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-01-11 02:34:22 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 2, active threads = 1, queued tasks = 0, completed tasks = 1]
2025-01-11 03:04:22 [MessageBroker-2] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 3, active threads = 1, queued tasks = 0, completed tasks = 2]
2025-01-11 03:34:22 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 0, completed tasks = 3]
2025-01-11 04:04:22 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 0, completed tasks = 4]
2025-01-11 04:34:22 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 0, completed tasks = 5]
2025-01-11 05:04:22 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 0, completed tasks = 6]
2025-01-11 05:34:22 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 0, completed tasks = 7]
2025-01-11 06:04:22 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 0, completed tasks = 8]
2025-01-11 06:34:22 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 0, completed tasks = 9]
2025-01-11 07:04:22 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 0, completed tasks = 10]
2025-01-11 07:34:22 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 0, completed tasks = 11]
2025-01-11 08:04:22 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 0, completed tasks = 12]
2025-01-11 08:34:22 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 0, completed tasks = 13]
2025-01-11 09:04:22 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 0, completed tasks = 14]
2025-01-11 09:34:22 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 0, completed tasks = 15]
2025-01-11 10:04:22 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 0, completed tasks = 16]
2025-01-11 10:34:22 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 0, completed tasks = 17]
2025-01-11 10:54:32 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/channels
2025-01-11 10:54:32 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users
2025-01-11 10:54:32 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 10:54:32 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels
2025-01-11 10:54:32 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 10:54:32 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels
2025-01-11 10:54:32 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 10:54:32 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 10:54:32 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 10:54:32 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 10:54:32 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 10:54:32 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 10:54:32 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 10:54:32 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 10:54:32 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 10:54:32 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels
2025-01-11 10:54:32 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels
2025-01-11 10:54:32 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 10:54:32 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels]
2025-01-11 10:54:32 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 10:54:32 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels - Origin: http://localhost:5173
2025-01-11 10:54:32 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 10:54:32 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 10:54:32 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels", parameters={}
2025-01-11 10:54:32 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getChannels()
2025-01-11 10:54:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 10:54:32 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 10:54:32 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: ChannelController.getChannels
2025-01-11 10:54:32 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 10:54:32 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 10:54:32 [http-nio-8080-exec-8] INFO  c.g.a.c.controller.ChannelController - GET /api/channels endpoint hit
2025-01-11 10:54:32 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 0ms
2025-01-11 10:54:32 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[]>
2025-01-11 10:54:33 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 10:54:33 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-01-11 10:54:33 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 10:54:33 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels]
2025-01-11 10:54:33 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 10:54:33 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 118ms
2025-01-11 10:54:33 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 10:54:33 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 10:54:33 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 10:54:33 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 10:54:33 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 10:55:13 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 10:55:13 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels
2025-01-11 10:55:13 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 10:55:13 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 10:55:13 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels
2025-01-11 10:55:13 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 10:55:13 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 10:55:13 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 10:55:13 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 10:55:13 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 10:55:13 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 10:55:13 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 10:55:13 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 10:55:13 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels
2025-01-11 10:55:13 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 10:55:13 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels
2025-01-11 10:55:13 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 10:55:13 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels]
2025-01-11 10:55:13 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 10:55:13 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels - Origin: http://localhost:5173
2025-01-11 10:55:13 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 10:55:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels", parameters={}
2025-01-11 10:55:13 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getChannels()
2025-01-11 10:55:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 10:55:13 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: ChannelController.getChannels
2025-01-11 10:55:13 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 10:55:13 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 10:55:13 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 10:55:13 [http-nio-8080-exec-1] INFO  c.g.a.c.controller.ChannelController - GET /api/channels endpoint hit
2025-01-11 10:55:13 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 0ms
2025-01-11 10:55:13 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[]>
2025-01-11 10:55:13 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 10:55:13 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 10:55:13 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-01-11 10:55:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 10:55:13 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels]
2025-01-11 10:55:13 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 26ms
2025-01-11 10:55:13 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 10:55:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 10:55:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 10:55:13 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 10:55:13 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 11:04:22 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 0, completed tasks = 18]
2025-01-11 11:08:50 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 11:08:50 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels
2025-01-11 11:08:50 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 11:08:50 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels
2025-01-11 11:08:50 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:08:50 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:08:50 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:08:50 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:08:50 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:08:50 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:08:50 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:08:50 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels
2025-01-11 11:08:50 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:08:50 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels
2025-01-11 11:08:50 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 11:08:50 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels]
2025-01-11 11:08:50 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels - Origin: http://localhost:5173
2025-01-11 11:08:50 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 11:08:50 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 11:08:50 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels", parameters={}
2025-01-11 11:08:50 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 11:08:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getChannels()
2025-01-11 11:08:50 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 11:08:50 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 11:08:50 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: ChannelController.getChannels
2025-01-11 11:08:50 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 11:08:50 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:08:50 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:08:50 [http-nio-8080-exec-7] INFO  c.g.a.c.controller.ChannelController - GET /api/channels endpoint hit
2025-01-11 11:08:50 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 1ms
2025-01-11 11:08:50 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[]>
2025-01-11 11:08:50 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 11:08:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:08:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-01-11 11:08:50 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 41ms
2025-01-11 11:08:50 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 11:08:50 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:08:50 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:08:50 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels]
2025-01-11 11:08:50 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 11:08:50 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:08:50 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 11:08:57 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 11:08:57 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 11:08:57 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels
2025-01-11 11:08:57 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:08:57 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels
2025-01-11 11:08:57 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:08:57 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:08:57 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:08:57 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:08:57 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:08:57 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:08:57 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 11:08:57 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 11:08:57 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 11:08:57 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 11:08:57 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 11:08:57 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 11:08:57 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 11:08:57 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:08:57 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 11:08:57 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:08:57 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels
2025-01-11 11:08:58 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels
2025-01-11 11:08:58 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels]
2025-01-11 11:08:58 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 53ms
2025-01-11 11:08:58 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels - Origin: http://localhost:5173
2025-01-11 11:08:58 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 11:08:58 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels", parameters={}
2025-01-11 11:08:58 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getChannels()
2025-01-11 11:08:58 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:08:58 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 11:08:58 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: ChannelController.getChannels
2025-01-11 11:08:58 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:08:58 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 11:08:58 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:08:58 [http-nio-8080-exec-9] INFO  c.g.a.c.controller.ChannelController - GET /api/channels endpoint hit
2025-01-11 11:08:58 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 2ms
2025-01-11 11:08:58 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[]>
2025-01-11 11:08:58 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:08:58 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-01-11 11:08:58 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:08:58 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels]
2025-01-11 11:10:13 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels
2025-01-11 11:10:13 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 11:10:13 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 11:10:13 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels
2025-01-11 11:10:13 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:10:13 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:10:13 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:10:13 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:10:13 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:10:13 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels
2025-01-11 11:10:13 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels
2025-01-11 11:10:13 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels]
2025-01-11 11:10:13 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels - Origin: http://localhost:5173
2025-01-11 11:10:13 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels", parameters={}
2025-01-11 11:10:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getChannels()
2025-01-11 11:10:13 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: ChannelController.getChannels
2025-01-11 11:10:13 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:10:13 [http-nio-8080-exec-3] INFO  c.g.a.c.controller.ChannelController - GET /api/channels endpoint hit
2025-01-11 11:10:13 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 1ms
2025-01-11 11:10:13 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[]>
2025-01-11 11:10:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:10:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-01-11 11:10:13 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:10:13 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels]
2025-01-11 11:10:13 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:10:13 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:10:13 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:10:13 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 11:10:13 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 11:10:13 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 11:10:13 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 11:10:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 11:10:13 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 11:10:13 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 11:10:13 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:10:13 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 11:10:13 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 14ms
2025-01-11 11:10:13 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 11:10:13 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:10:13 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 11:10:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:10:13 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 11:10:18 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 11:10:18 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels
2025-01-11 11:10:18 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 11:10:18 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:10:18 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:10:18 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels
2025-01-11 11:10:18 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:10:18 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:10:18 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:10:18 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:10:18 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:10:18 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 11:10:18 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 11:10:18 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 11:10:18 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 11:10:18 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 11:10:18 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 11:10:18 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 11:10:18 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:10:18 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:10:18 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels
2025-01-11 11:10:18 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels
2025-01-11 11:10:18 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 11:10:18 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels]
2025-01-11 11:10:18 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels - Origin: http://localhost:5173
2025-01-11 11:10:18 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels", parameters={}
2025-01-11 11:10:18 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getChannels()
2025-01-11 11:10:18 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: ChannelController.getChannels
2025-01-11 11:10:18 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:10:18 [http-nio-8080-exec-4] INFO  c.g.a.c.controller.ChannelController - GET /api/channels endpoint hit
2025-01-11 11:10:18 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 1ms
2025-01-11 11:10:18 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[]>
2025-01-11 11:10:18 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:10:18 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-01-11 11:10:18 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:10:18 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels]
2025-01-11 11:10:18 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 17ms
2025-01-11 11:10:18 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 11:10:18 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:10:18 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 11:10:18 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:10:18 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 11:10:55 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels
2025-01-11 11:10:55 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 11:10:55 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels
2025-01-11 11:10:55 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:10:55 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:10:55 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 11:10:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:10:55 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:10:55 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:10:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:10:55 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:10:55 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 11:10:55 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 11:10:55 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 11:10:55 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 11:10:55 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 11:10:55 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 11:10:55 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 11:10:55 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:10:56 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 11:10:56 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 13ms
2025-01-11 11:10:56 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 11:10:56 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:10:56 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 11:10:56 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:10:56 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 11:10:56 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:10:56 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels
2025-01-11 11:10:56 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels
2025-01-11 11:10:56 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels]
2025-01-11 11:10:56 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels - Origin: http://localhost:5173
2025-01-11 11:10:56 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels", parameters={}
2025-01-11 11:10:56 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getChannels()
2025-01-11 11:10:56 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: ChannelController.getChannels
2025-01-11 11:10:56 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:10:56 [http-nio-8080-exec-8] INFO  c.g.a.c.controller.ChannelController - GET /api/channels endpoint hit
2025-01-11 11:10:56 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 1ms
2025-01-11 11:10:56 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[]>
2025-01-11 11:10:56 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:10:56 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-01-11 11:10:56 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:10:56 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels]
2025-01-11 11:15:14 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels
2025-01-11 11:15:14 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 11:15:14 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 11:15:14 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels
2025-01-11 11:15:14 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:15:14 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:15:14 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:15:14 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:15:15 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:15:15 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:15:15 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:15:15 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:15:15 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 11:15:15 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels
2025-01-11 11:15:15 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels
2025-01-11 11:15:15 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 11:15:15 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels]
2025-01-11 11:15:15 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 11:15:15 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels - Origin: http://localhost:5173
2025-01-11 11:15:15 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 11:15:15 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels", parameters={}
2025-01-11 11:15:15 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 11:15:15 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 11:15:15 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getChannels()
2025-01-11 11:15:15 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 11:15:15 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: ChannelController.getChannels
2025-01-11 11:15:15 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:15:15 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:15:15 [http-nio-8080-exec-3] INFO  c.g.a.c.controller.ChannelController - GET /api/channels endpoint hit
2025-01-11 11:15:15 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 2ms
2025-01-11 11:15:15 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[]>
2025-01-11 11:15:15 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:15:15 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-01-11 11:15:15 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 11:15:15 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:15:15 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels]
2025-01-11 11:15:15 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 31ms
2025-01-11 11:15:15 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 11:15:15 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:15:15 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 11:15:15 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:15:15 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 11:16:18 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 11:16:18 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels
2025-01-11 11:16:18 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 11:16:18 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:16:18 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels
2025-01-11 11:16:18 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:16:18 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:16:18 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:16:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:16:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:16:18 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:16:18 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:16:18 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels
2025-01-11 11:16:18 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 11:16:18 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels
2025-01-11 11:16:18 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 11:16:18 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels]
2025-01-11 11:16:18 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 11:16:18 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels - Origin: http://localhost:5173
2025-01-11 11:16:18 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 11:16:18 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels", parameters={}
2025-01-11 11:16:18 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 11:16:18 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getChannels()
2025-01-11 11:16:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 11:16:18 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: ChannelController.getChannels
2025-01-11 11:16:18 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:16:18 [http-nio-8080-exec-7] INFO  c.g.a.c.controller.ChannelController - GET /api/channels endpoint hit
2025-01-11 11:16:18 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 11:16:18 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:16:18 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 1ms
2025-01-11 11:16:18 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[]>
2025-01-11 11:16:18 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:16:18 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-01-11 11:16:18 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:16:18 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels]
2025-01-11 11:16:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 11:16:18 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 11ms
2025-01-11 11:16:18 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 11:16:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:16:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 11:16:18 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:16:18 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 11:17:06 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 11:17:06 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels
2025-01-11 11:17:06 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels
2025-01-11 11:17:06 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:17:06 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 11:17:06 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:17:06 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:17:06 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:17:06 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:17:06 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:17:06 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:17:06 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 11:17:06 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 11:17:06 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:17:06 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 11:17:06 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels
2025-01-11 11:17:06 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels
2025-01-11 11:17:06 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 11:17:06 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels]
2025-01-11 11:17:06 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels - Origin: http://localhost:5173
2025-01-11 11:17:06 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 11:17:06 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels", parameters={}
2025-01-11 11:17:06 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 11:17:06 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getChannels()
2025-01-11 11:17:06 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: ChannelController.getChannels
2025-01-11 11:17:06 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 11:17:06 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:17:06 [http-nio-8080-exec-10] INFO  c.g.a.c.controller.ChannelController - GET /api/channels endpoint hit
2025-01-11 11:17:06 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 1ms
2025-01-11 11:17:06 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:17:06 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[]>
2025-01-11 11:17:06 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:17:06 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-01-11 11:17:06 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 11:17:06 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:17:06 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels]
2025-01-11 11:17:06 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 9ms
2025-01-11 11:17:06 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 11:17:06 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:17:06 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 11:17:06 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:17:06 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 11:18:25 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 11:18:25 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels
2025-01-11 11:18:25 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 11:18:25 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:18:25 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels
2025-01-11 11:18:25 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:18:25 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:18:25 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:18:25 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:18:25 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:18:25 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:18:25 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels
2025-01-11 11:18:25 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:18:25 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels
2025-01-11 11:18:25 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 11:18:25 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels]
2025-01-11 11:18:25 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels - Origin: http://localhost:5173
2025-01-11 11:18:25 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels", parameters={}
2025-01-11 11:18:25 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 11:18:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getChannels()
2025-01-11 11:18:25 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 11:18:25 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 11:18:25 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: ChannelController.getChannels
2025-01-11 11:18:25 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 11:18:25 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:18:25 [http-nio-8080-exec-4] INFO  c.g.a.c.controller.ChannelController - GET /api/channels endpoint hit
2025-01-11 11:18:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 11:18:25 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 1ms
2025-01-11 11:18:25 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 11:18:25 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[]>
2025-01-11 11:18:25 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:18:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:18:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-01-11 11:18:25 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 11:18:25 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:18:25 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels]
2025-01-11 11:18:25 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 10ms
2025-01-11 11:18:25 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 11:18:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:18:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 11:18:25 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:18:25 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 11:18:40 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 11:18:40 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 11:18:40 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:18:40 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels
2025-01-11 11:18:40 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:18:40 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels
2025-01-11 11:18:40 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:18:40 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:18:40 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:18:40 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 11:18:40 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:18:40 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 11:18:40 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 11:18:40 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 11:18:40 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 11:18:40 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 11:18:40 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 11:18:40 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:18:40 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 11:18:40 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:18:40 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 32ms
2025-01-11 11:18:40 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 11:18:40 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:18:40 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 11:18:40 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:18:40 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 11:18:40 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:18:40 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels
2025-01-11 11:18:40 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels
2025-01-11 11:18:40 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels]
2025-01-11 11:18:40 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels - Origin: http://localhost:5173
2025-01-11 11:18:40 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels", parameters={}
2025-01-11 11:18:40 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getChannels()
2025-01-11 11:18:40 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: ChannelController.getChannels
2025-01-11 11:18:40 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:18:40 [http-nio-8080-exec-6] INFO  c.g.a.c.controller.ChannelController - GET /api/channels endpoint hit
2025-01-11 11:18:40 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 0ms
2025-01-11 11:18:40 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[]>
2025-01-11 11:18:40 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:18:40 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-01-11 11:18:40 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:18:40 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels]
2025-01-11 11:19:57 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels
2025-01-11 11:19:57 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 11:19:57 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 11:19:57 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:19:57 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels
2025-01-11 11:19:57 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:19:57 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:19:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:19:57 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:19:57 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:19:57 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 11:19:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:19:57 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 11:19:57 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 11:19:57 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 11:19:57 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 11:19:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 11:19:57 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 11:19:57 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:19:57 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:19:57 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels
2025-01-11 11:19:57 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels
2025-01-11 11:19:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 11:19:57 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels]
2025-01-11 11:19:57 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels - Origin: http://localhost:5173
2025-01-11 11:19:57 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels", parameters={}
2025-01-11 11:19:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getChannels()
2025-01-11 11:19:57 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: ChannelController.getChannels
2025-01-11 11:19:57 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:19:57 [http-nio-8080-exec-5] INFO  c.g.a.c.controller.ChannelController - GET /api/channels endpoint hit
2025-01-11 11:19:57 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 1ms
2025-01-11 11:19:57 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[]>
2025-01-11 11:19:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:19:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-01-11 11:19:57 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:19:57 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels]
2025-01-11 11:19:57 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 15ms
2025-01-11 11:19:57 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 11:19:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:19:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 11:19:57 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:19:57 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 11:20:11 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 11:20:11 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 11:20:11 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:20:11 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels
2025-01-11 11:20:11 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels
2025-01-11 11:20:11 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:20:11 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:20:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:20:11 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:20:11 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:20:11 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:20:11 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 11:20:11 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 11:20:11 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 11:20:11 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 11:20:11 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 11:20:11 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 11:20:11 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 11:20:11 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:20:11 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:20:11 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels
2025-01-11 11:20:11 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels
2025-01-11 11:20:11 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels]
2025-01-11 11:20:11 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels - Origin: http://localhost:5173
2025-01-11 11:20:11 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels", parameters={}
2025-01-11 11:20:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 11:20:11 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getChannels()
2025-01-11 11:20:11 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: ChannelController.getChannels
2025-01-11 11:20:11 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:20:11 [http-nio-8080-exec-2] INFO  c.g.a.c.controller.ChannelController - GET /api/channels endpoint hit
2025-01-11 11:20:11 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 1ms
2025-01-11 11:20:11 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[]>
2025-01-11 11:20:11 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:20:11 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-01-11 11:20:11 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:20:11 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels]
2025-01-11 11:20:11 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 27ms
2025-01-11 11:20:11 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 11:20:11 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:20:11 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 11:20:11 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:20:11 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 11:22:43 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels
2025-01-11 11:22:43 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 11:22:43 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels
2025-01-11 11:22:43 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 11:22:43 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:22:43 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:22:43 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:22:43 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:22:43 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:22:43 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:22:43 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:22:43 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:22:43 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels
2025-01-11 11:22:43 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 11:22:43 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 11:22:43 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 11:22:43 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels
2025-01-11 11:22:43 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 11:22:43 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels]
2025-01-11 11:22:43 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels - Origin: http://localhost:5173
2025-01-11 11:22:43 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 11:22:43 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels", parameters={}
2025-01-11 11:22:43 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getChannels()
2025-01-11 11:22:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 11:22:43 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 11:22:43 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:22:43 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: ChannelController.getChannels
2025-01-11 11:22:43 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:22:43 [http-nio-8080-exec-9] INFO  c.g.a.c.controller.ChannelController - GET /api/channels endpoint hit
2025-01-11 11:22:43 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 0ms
2025-01-11 11:22:43 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 11:22:43 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[]>
2025-01-11 11:22:43 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:22:43 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-01-11 11:22:43 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:22:43 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels]
2025-01-11 11:22:43 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 11ms
2025-01-11 11:22:43 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 11:22:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:22:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 11:22:43 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:22:43 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 11:23:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 11:23:36 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels
2025-01-11 11:23:36 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 11:23:36 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:23:36 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels
2025-01-11 11:23:36 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:23:36 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:23:36 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:23:36 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:23:37 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:23:37 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 11:23:37 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 11:23:37 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 11:23:37 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 11:23:37 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:23:37 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 11:23:37 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 11:23:37 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 11:23:37 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:23:37 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:23:37 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels
2025-01-11 11:23:37 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels
2025-01-11 11:23:37 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels]
2025-01-11 11:23:37 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels - Origin: http://localhost:5173
2025-01-11 11:23:37 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels", parameters={}
2025-01-11 11:23:37 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getChannels()
2025-01-11 11:23:37 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: ChannelController.getChannels
2025-01-11 11:23:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 11:23:37 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:23:37 [http-nio-8080-exec-1] INFO  c.g.a.c.controller.ChannelController - GET /api/channels endpoint hit
2025-01-11 11:23:37 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 2ms
2025-01-11 11:23:37 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[]>
2025-01-11 11:23:37 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:23:37 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 15ms
2025-01-11 11:23:37 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-01-11 11:23:37 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 11:23:37 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:23:37 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:23:37 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels]
2025-01-11 11:23:37 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 11:23:37 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:23:37 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 11:23:54 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 11:23:54 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 11:23:54 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:23:54 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels
2025-01-11 11:23:54 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:23:54 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels
2025-01-11 11:23:54 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:23:54 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:23:54 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:23:54 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:23:54 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:23:54 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 11:23:54 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 11:23:54 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 11:23:54 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 11:23:54 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 11:23:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 11:23:54 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 11:23:54 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:23:54 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:23:54 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels
2025-01-11 11:23:54 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels
2025-01-11 11:23:54 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 11:23:54 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels]
2025-01-11 11:23:54 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels - Origin: http://localhost:5173
2025-01-11 11:23:54 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels", parameters={}
2025-01-11 11:23:54 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getChannels()
2025-01-11 11:23:54 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: ChannelController.getChannels
2025-01-11 11:23:54 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:23:54 [http-nio-8080-exec-4] INFO  c.g.a.c.controller.ChannelController - GET /api/channels endpoint hit
2025-01-11 11:23:54 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 1ms
2025-01-11 11:23:54 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[]>
2025-01-11 11:23:54 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 8ms
2025-01-11 11:23:54 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 11:23:54 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:23:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:23:54 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-01-11 11:23:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 11:23:54 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:23:54 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels]
2025-01-11 11:23:54 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:23:54 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 11:25:15 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 11:25:15 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 11:25:15 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:25:15 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:25:15 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels
2025-01-11 11:25:15 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels
2025-01-11 11:25:15 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:25:15 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:25:15 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:25:15 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:25:15 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 11:25:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:25:15 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 11:25:15 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 11:25:15 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 11:25:15 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 11:25:15 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 11:25:15 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 11:25:15 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:25:15 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 11:25:15 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:25:15 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels
2025-01-11 11:25:15 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels
2025-01-11 11:25:15 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 16ms
2025-01-11 11:25:15 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels]
2025-01-11 11:25:15 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 11:25:15 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels - Origin: http://localhost:5173
2025-01-11 11:25:15 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels", parameters={}
2025-01-11 11:25:15 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:25:15 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 11:25:15 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:25:15 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getChannels()
2025-01-11 11:25:15 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 11:25:15 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: ChannelController.getChannels
2025-01-11 11:25:15 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:25:15 [http-nio-8080-exec-8] INFO  c.g.a.c.controller.ChannelController - GET /api/channels endpoint hit
2025-01-11 11:25:15 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 0ms
2025-01-11 11:25:15 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[]>
2025-01-11 11:25:15 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:25:15 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-01-11 11:25:15 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:25:15 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels]
2025-01-11 11:25:38 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 11:25:38 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels
2025-01-11 11:25:38 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 11:25:38 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels
2025-01-11 11:25:38 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:25:38 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:25:38 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:25:38 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:25:38 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:25:38 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:25:38 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:25:38 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:25:38 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 11:25:38 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels
2025-01-11 11:25:38 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 11:25:38 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 11:25:38 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels
2025-01-11 11:25:38 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 11:25:38 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels]
2025-01-11 11:25:38 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 11:25:38 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels - Origin: http://localhost:5173
2025-01-11 11:25:38 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 11:25:38 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels", parameters={}
2025-01-11 11:25:38 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getChannels()
2025-01-11 11:25:38 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 11:25:38 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: ChannelController.getChannels
2025-01-11 11:25:38 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:25:38 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:25:38 [http-nio-8080-exec-3] INFO  c.g.a.c.controller.ChannelController - GET /api/channels endpoint hit
2025-01-11 11:25:38 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 2ms
2025-01-11 11:25:38 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 11:25:38 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[]>
2025-01-11 11:25:38 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:25:38 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-01-11 11:25:38 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:25:38 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels]
2025-01-11 11:25:38 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 46ms
2025-01-11 11:25:38 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 11:25:38 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:25:38 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 11:25:38 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:25:38 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 11:26:57 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 11:26:57 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 11:26:57 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:26:57 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:26:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels
2025-01-11 11:26:57 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels
2025-01-11 11:26:57 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:26:57 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:26:57 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:26:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:26:57 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:26:57 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels
2025-01-11 11:26:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels
2025-01-11 11:26:57 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:26:57 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 11:26:57 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels]
2025-01-11 11:26:57 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels - Origin: http://localhost:5173
2025-01-11 11:26:57 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels", parameters={}
2025-01-11 11:26:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getChannels()
2025-01-11 11:26:57 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: ChannelController.getChannels
2025-01-11 11:26:57 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:26:57 [http-nio-8080-exec-7] INFO  c.g.a.c.controller.ChannelController - GET /api/channels endpoint hit
2025-01-11 11:26:57 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 0ms
2025-01-11 11:26:57 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 11:26:57 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[]>
2025-01-11 11:26:57 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 11:26:57 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 11:26:57 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 11:26:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:26:57 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 11:26:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-01-11 11:26:57 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 11:26:57 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:26:57 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:26:57 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels]
2025-01-11 11:26:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 11:26:57 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 18ms
2025-01-11 11:26:57 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 11:26:57 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:26:57 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 11:26:57 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:26:57 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 11:27:12 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 11:27:12 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 11:27:12 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:27:12 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:27:12 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels
2025-01-11 11:27:12 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels
2025-01-11 11:27:12 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:27:12 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:27:12 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:27:12 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:27:12 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:27:12 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 11:27:12 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 11:27:12 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 11:27:12 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 11:27:12 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 11:27:12 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 11:27:12 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 11:27:12 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:27:12 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:27:12 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels
2025-01-11 11:27:12 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels
2025-01-11 11:27:12 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 11:27:12 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels]
2025-01-11 11:27:12 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels - Origin: http://localhost:5173
2025-01-11 11:27:12 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels", parameters={}
2025-01-11 11:27:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getChannels()
2025-01-11 11:27:12 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: ChannelController.getChannels
2025-01-11 11:27:12 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:27:12 [http-nio-8080-exec-5] INFO  c.g.a.c.controller.ChannelController - GET /api/channels endpoint hit
2025-01-11 11:27:12 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 2ms
2025-01-11 11:27:12 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 15ms
2025-01-11 11:27:12 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 11:27:12 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[]>
2025-01-11 11:27:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:27:12 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:27:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-01-11 11:27:12 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 11:27:12 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:27:12 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:27:12 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 11:27:12 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels]
2025-01-11 11:27:35 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 11:27:35 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels
2025-01-11 11:27:36 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 11:27:36 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels
2025-01-11 11:27:36 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:27:36 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:27:36 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:27:36 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:27:36 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:27:36 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:27:36 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:27:36 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels
2025-01-11 11:27:36 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels
2025-01-11 11:27:36 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels]
2025-01-11 11:27:36 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:27:36 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 11:27:36 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels - Origin: http://localhost:5173
2025-01-11 11:27:36 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 11:27:36 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels", parameters={}
2025-01-11 11:27:36 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getChannels()
2025-01-11 11:27:36 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 11:27:36 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 11:27:36 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: ChannelController.getChannels
2025-01-11 11:27:36 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 11:27:36 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:27:36 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 11:27:36 [http-nio-8080-exec-4] INFO  c.g.a.c.controller.ChannelController - GET /api/channels endpoint hit
2025-01-11 11:27:36 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 0ms
2025-01-11 11:27:36 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 11:27:36 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[]>
2025-01-11 11:27:36 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:27:36 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:27:36 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-01-11 11:27:36 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:27:36 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 11:27:36 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels]
2025-01-11 11:27:36 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 10ms
2025-01-11 11:27:36 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 11:27:36 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:27:36 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 11:27:36 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:27:36 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 11:28:15 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels
2025-01-11 11:28:15 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels
2025-01-11 11:28:15 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 11:28:15 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 11:28:15 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:28:15 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:28:15 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:28:15 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:28:15 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:28:15 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:28:15 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:28:15 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:28:15 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels
2025-01-11 11:28:15 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 11:28:15 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels
2025-01-11 11:28:15 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels]
2025-01-11 11:28:15 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 11:28:15 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels - Origin: http://localhost:5173
2025-01-11 11:28:15 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 11:28:15 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels", parameters={}
2025-01-11 11:28:15 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 11:28:15 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getChannels()
2025-01-11 11:28:15 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 11:28:15 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: ChannelController.getChannels
2025-01-11 11:28:15 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 11:28:15 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:28:15 [http-nio-8080-exec-8] INFO  c.g.a.c.controller.ChannelController - GET /api/channels endpoint hit
2025-01-11 11:28:15 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 11:28:15 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 2ms
2025-01-11 11:28:15 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:28:15 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[]>
2025-01-11 11:28:15 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:28:15 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-01-11 11:28:15 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:28:15 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels]
2025-01-11 11:28:15 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 11:28:15 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 27ms
2025-01-11 11:28:15 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 11:28:15 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:28:15 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 11:28:15 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:28:15 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 11:28:17 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 11:28:17 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels
2025-01-11 11:28:17 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 11:28:17 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:28:17 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels
2025-01-11 11:28:17 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:28:17 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:28:17 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:28:17 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:28:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:28:17 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:28:17 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:28:17 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels
2025-01-11 11:28:17 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 11:28:17 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels
2025-01-11 11:28:17 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 11:28:17 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels]
2025-01-11 11:28:17 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 11:28:17 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 11:28:17 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 11:28:17 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels - Origin: http://localhost:5173
2025-01-11 11:28:17 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels", parameters={}
2025-01-11 11:28:17 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getChannels()
2025-01-11 11:28:17 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 11:28:17 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: ChannelController.getChannels
2025-01-11 11:28:17 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 11:28:17 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:28:17 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:28:17 [http-nio-8080-exec-5] INFO  c.g.a.c.controller.ChannelController - GET /api/channels endpoint hit
2025-01-11 11:28:17 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 1ms
2025-01-11 11:28:17 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 11:28:17 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[]>
2025-01-11 11:28:17 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:28:17 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-01-11 11:28:17 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:28:17 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels]
2025-01-11 11:28:17 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 20ms
2025-01-11 11:28:17 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 11:28:17 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:28:17 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 11:28:17 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:28:17 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 11:30:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels
2025-01-11 11:30:40 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 11:30:40 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels
2025-01-11 11:30:40 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 11:30:40 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:30:40 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:30:40 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:30:40 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:30:40 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:30:40 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:30:40 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:30:40 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:30:40 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels
2025-01-11 11:30:40 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 11:30:40 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 11:30:40 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 11:30:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels
2025-01-11 11:30:40 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 11:30:40 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 11:30:40 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels]
2025-01-11 11:30:40 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 11:30:40 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels - Origin: http://localhost:5173
2025-01-11 11:30:40 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels", parameters={}
2025-01-11 11:30:40 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getChannels()
2025-01-11 11:30:40 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 11:30:40 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: ChannelController.getChannels
2025-01-11 11:30:40 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:30:40 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:30:40 [http-nio-8080-exec-2] INFO  c.g.a.c.controller.ChannelController - GET /api/channels endpoint hit
2025-01-11 11:30:40 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 1ms
2025-01-11 11:30:40 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[]>
2025-01-11 11:30:40 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 11:30:40 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:30:40 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-01-11 11:30:40 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:30:40 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels]
2025-01-11 11:30:40 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 12ms
2025-01-11 11:30:40 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 11:30:40 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:30:40 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 11:30:40 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:30:40 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 11:30:58 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 11:30:58 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 11:30:58 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels
2025-01-11 11:30:58 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:30:58 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels
2025-01-11 11:30:58 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:30:58 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:30:58 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:30:58 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:30:58 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:30:58 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:30:59 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 11:30:59 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 11:30:59 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 11:30:59 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 11:30:59 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 11:30:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 11:30:59 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 11:30:59 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:30:59 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels
2025-01-11 11:30:59 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:30:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels
2025-01-11 11:30:59 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels]
2025-01-11 11:30:59 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels - Origin: http://localhost:5173
2025-01-11 11:30:59 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels", parameters={}
2025-01-11 11:30:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getChannels()
2025-01-11 11:30:59 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: ChannelController.getChannels
2025-01-11 11:30:59 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:30:59 [http-nio-8080-exec-9] INFO  c.g.a.c.controller.ChannelController - GET /api/channels endpoint hit
2025-01-11 11:30:59 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 0ms
2025-01-11 11:30:59 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 11:30:59 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[]>
2025-01-11 11:30:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:30:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-01-11 11:30:59 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:30:59 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels]
2025-01-11 11:30:59 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 14ms
2025-01-11 11:30:59 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 11:30:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:30:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 11:30:59 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:30:59 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 11:31:08 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels
2025-01-11 11:31:08 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 11:31:08 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels
2025-01-11 11:31:08 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 11:31:08 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:31:08 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:31:08 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:31:08 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:31:08 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:31:08 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:31:09 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:31:09 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:31:09 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels
2025-01-11 11:31:09 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 11:31:09 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 11:31:09 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 11:31:09 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels
2025-01-11 11:31:09 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels]
2025-01-11 11:31:09 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 11:31:09 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels - Origin: http://localhost:5173
2025-01-11 11:31:09 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 11:31:09 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels", parameters={}
2025-01-11 11:31:09 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 11:31:09 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getChannels()
2025-01-11 11:31:09 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: ChannelController.getChannels
2025-01-11 11:31:09 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:31:09 [http-nio-8080-exec-10] INFO  c.g.a.c.controller.ChannelController - GET /api/channels endpoint hit
2025-01-11 11:31:09 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 11:31:09 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 1ms
2025-01-11 11:31:09 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:31:09 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[]>
2025-01-11 11:31:09 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:31:09 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-01-11 11:31:09 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:31:09 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 11:31:09 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels]
2025-01-11 11:31:09 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 22ms
2025-01-11 11:31:09 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 11:31:09 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:31:09 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 11:31:09 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:31:09 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 11:31:12 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 11:31:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels
2025-01-11 11:31:12 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 11:31:12 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels
2025-01-11 11:31:12 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:31:12 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:31:12 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:31:12 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:31:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:31:12 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:31:12 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:31:12 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 11:31:12 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 11:31:12 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 11:31:12 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 11:31:12 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 11:31:12 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 11:31:12 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 11:31:12 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:31:12 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:31:12 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels
2025-01-11 11:31:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels
2025-01-11 11:31:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 11:31:12 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels]
2025-01-11 11:31:12 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels - Origin: http://localhost:5173
2025-01-11 11:31:12 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels", parameters={}
2025-01-11 11:31:12 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getChannels()
2025-01-11 11:31:12 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: ChannelController.getChannels
2025-01-11 11:31:12 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:31:12 [http-nio-8080-exec-4] INFO  c.g.a.c.controller.ChannelController - GET /api/channels endpoint hit
2025-01-11 11:31:12 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 1ms
2025-01-11 11:31:12 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[]>
2025-01-11 11:31:12 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:31:12 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-01-11 11:31:12 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 11ms
2025-01-11 11:31:12 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:31:12 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 11:31:12 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels]
2025-01-11 11:31:12 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:31:12 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 11:31:12 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:31:12 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 11:31:19 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 11:31:19 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels
2025-01-11 11:31:19 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels
2025-01-11 11:31:19 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 11:31:19 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:31:19 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:31:19 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:31:19 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:31:19 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:31:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:31:19 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:31:19 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels
2025-01-11 11:31:19 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels
2025-01-11 11:31:19 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels]
2025-01-11 11:31:19 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels - Origin: http://localhost:5173
2025-01-11 11:31:19 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:31:19 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 11:31:19 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels", parameters={}
2025-01-11 11:31:19 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getChannels()
2025-01-11 11:31:19 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 11:31:19 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: ChannelController.getChannels
2025-01-11 11:31:19 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 11:31:19 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:31:19 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 11:31:19 [http-nio-8080-exec-6] INFO  c.g.a.c.controller.ChannelController - GET /api/channels endpoint hit
2025-01-11 11:31:19 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 11:31:19 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 1ms
2025-01-11 11:31:19 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 11:31:19 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[]>
2025-01-11 11:31:19 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 11:31:19 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:31:19 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:31:19 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-01-11 11:31:19 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:31:19 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels]
2025-01-11 11:31:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 11:31:19 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 10ms
2025-01-11 11:31:19 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 11:31:19 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:31:19 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 11:31:19 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:31:19 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 11:34:22 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 0, completed tasks = 19]
2025-01-11 11:40:57 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels
2025-01-11 11:40:57 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 11:40:57 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels
2025-01-11 11:40:57 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 11:40:57 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:40:57 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:40:57 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:40:57 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:40:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:40:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:40:57 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:40:57 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels
2025-01-11 11:40:57 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels
2025-01-11 11:40:57 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels]
2025-01-11 11:40:57 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels - Origin: http://localhost:5173
2025-01-11 11:40:57 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels", parameters={}
2025-01-11 11:40:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getChannels()
2025-01-11 11:40:57 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: ChannelController.getChannels
2025-01-11 11:40:57 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:40:57 [http-nio-8080-exec-10] INFO  c.g.a.c.controller.ChannelController - GET /api/channels endpoint hit
2025-01-11 11:40:57 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 1ms
2025-01-11 11:40:57 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[]>
2025-01-11 11:40:57 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:40:57 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 11:40:57 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 11:40:57 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 11:40:57 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 11:40:57 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 11:40:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 11:40:57 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 11:40:57 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:40:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:40:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-01-11 11:40:57 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:40:57 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels]
2025-01-11 11:40:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 11:40:57 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 50ms
2025-01-11 11:40:57 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 11:40:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:40:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 11:40:57 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:40:57 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 11:41:13 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 11:41:13 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 11:41:13 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels
2025-01-11 11:41:13 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:41:13 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels
2025-01-11 11:41:13 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:41:13 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:41:13 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:41:13 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:41:13 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:41:13 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:41:13 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 11:41:13 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 11:41:13 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 11:41:13 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 11:41:13 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 11:41:13 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 11:41:13 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 11:41:13 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:41:13 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 11:41:13 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:41:13 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels
2025-01-11 11:41:13 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels
2025-01-11 11:41:13 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels]
2025-01-11 11:41:13 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels - Origin: http://localhost:5173
2025-01-11 11:41:13 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels", parameters={}
2025-01-11 11:41:13 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getChannels()
2025-01-11 11:41:13 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: ChannelController.getChannels
2025-01-11 11:41:13 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:41:13 [http-nio-8080-exec-4] INFO  c.g.a.c.controller.ChannelController - GET /api/channels endpoint hit
2025-01-11 11:41:13 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 1ms
2025-01-11 11:41:13 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[]>
2025-01-11 11:41:13 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:41:13 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-01-11 11:41:13 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:41:13 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels]
2025-01-11 11:41:13 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 100ms
2025-01-11 11:41:13 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 11:41:13 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:41:13 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 11:41:13 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:41:13 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 11:43:00 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 11:43:00 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels
2025-01-11 11:43:00 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels
2025-01-11 11:43:00 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:43:00 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 11:43:00 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:43:00 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:43:00 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:43:00 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:43:00 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 11:43:00 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:43:00 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 11:43:00 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 11:43:00 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 11:43:00 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 11:43:00 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 11:43:00 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 11:43:00 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:43:00 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:43:00 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 11:43:00 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:43:00 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels
2025-01-11 11:43:00 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels
2025-01-11 11:43:00 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels]
2025-01-11 11:43:00 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels - Origin: http://localhost:5173
2025-01-11 11:43:00 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels", parameters={}
2025-01-11 11:43:00 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getChannels()
2025-01-11 11:43:00 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: ChannelController.getChannels
2025-01-11 11:43:00 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:43:00 [http-nio-8080-exec-8] INFO  c.g.a.c.controller.ChannelController - GET /api/channels endpoint hit
2025-01-11 11:43:00 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 0ms
2025-01-11 11:43:00 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[]>
2025-01-11 11:43:00 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:43:00 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-01-11 11:43:00 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 19ms
2025-01-11 11:43:00 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:43:00 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 11:43:00 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels]
2025-01-11 11:43:00 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:43:00 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 11:43:00 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:43:00 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 11:43:46 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 11:43:46 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels
2025-01-11 11:43:46 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels
2025-01-11 11:43:46 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:43:46 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:43:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:43:46 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:43:46 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels
2025-01-11 11:43:46 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels
2025-01-11 11:43:46 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels]
2025-01-11 11:43:46 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels - Origin: http://localhost:5173
2025-01-11 11:43:46 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels", parameters={}
2025-01-11 11:43:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getChannels()
2025-01-11 11:43:46 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: ChannelController.getChannels
2025-01-11 11:43:46 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:43:46 [http-nio-8080-exec-5] INFO  c.g.a.c.controller.ChannelController - GET /api/channels endpoint hit
2025-01-11 11:43:46 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 0ms
2025-01-11 11:43:46 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[]>
2025-01-11 11:43:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:43:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-01-11 11:43:46 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:43:46 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels]
2025-01-11 11:43:46 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 11:43:46 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:43:46 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:43:46 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:43:46 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:43:46 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 11:43:46 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 11:43:46 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 11:43:46 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 11:43:46 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 11:43:46 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 11:43:46 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 11:43:46 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:43:46 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 11:43:46 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 10ms
2025-01-11 11:43:46 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 11:43:46 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:43:46 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 11:43:46 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:43:46 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 11:44:08 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 11:44:08 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 11:44:08 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:44:08 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels
2025-01-11 11:44:08 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:44:08 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels
2025-01-11 11:44:08 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:44:08 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:44:08 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:44:08 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:44:08 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:44:08 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 11:44:08 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 11:44:08 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 11:44:08 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:44:08 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels
2025-01-11 11:44:08 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels
2025-01-11 11:44:08 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 11:44:08 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels]
2025-01-11 11:44:08 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 11:44:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 11:44:08 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels - Origin: http://localhost:5173
2025-01-11 11:44:08 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 11:44:08 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels", parameters={}
2025-01-11 11:44:08 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:44:08 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getChannels()
2025-01-11 11:44:08 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: ChannelController.getChannels
2025-01-11 11:44:08 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:44:08 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 11:44:08 [http-nio-8080-exec-2] INFO  c.g.a.c.controller.ChannelController - GET /api/channels endpoint hit
2025-01-11 11:44:08 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 2ms
2025-01-11 11:44:08 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[]>
2025-01-11 11:44:08 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:44:08 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-01-11 11:44:08 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:44:08 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels]
2025-01-11 11:44:08 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 12ms
2025-01-11 11:44:08 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 11:44:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:44:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 11:44:08 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:44:08 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 11:45:05 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 11:45:05 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 11:45:05 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:45:05 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:45:05 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels
2025-01-11 11:45:05 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels
2025-01-11 11:45:05 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:45:05 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:45:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:45:05 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:45:05 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:45:05 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:45:05 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 11:45:05 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels
2025-01-11 11:45:05 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 11:45:05 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels
2025-01-11 11:45:05 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 11:45:05 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels]
2025-01-11 11:45:05 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 11:45:05 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels - Origin: http://localhost:5173
2025-01-11 11:45:05 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 11:45:05 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels", parameters={}
2025-01-11 11:45:05 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 11:45:05 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getChannels()
2025-01-11 11:45:05 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 11:45:05 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: ChannelController.getChannels
2025-01-11 11:45:05 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:45:05 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:45:05 [http-nio-8080-exec-9] INFO  c.g.a.c.controller.ChannelController - GET /api/channels endpoint hit
2025-01-11 11:45:05 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 0ms
2025-01-11 11:45:05 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[]>
2025-01-11 11:45:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 11:45:05 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:45:05 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-01-11 11:45:05 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:45:05 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels]
2025-01-11 11:45:05 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 13ms
2025-01-11 11:45:05 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 11:45:05 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:45:05 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 11:45:05 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:45:05 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 11:45:42 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 11:45:42 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels
2025-01-11 11:45:42 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels
2025-01-11 11:45:42 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:45:42 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:45:42 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 11:45:42 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 11:45:42 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 11:45:42 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:45:42 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 11:45:42 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:45:42 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 11:45:42 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 11:45:42 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 11:45:42 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 11:45:42 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 11:45:42 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 11:45:42 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 11:45:42 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels
2025-01-11 11:45:42 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 11:45:42 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels
2025-01-11 11:45:42 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:45:42 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels]
2025-01-11 11:45:42 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels - Origin: http://localhost:5173
2025-01-11 11:45:42 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels", parameters={}
2025-01-11 11:45:42 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getChannels()
2025-01-11 11:45:42 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: ChannelController.getChannels
2025-01-11 11:45:42 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 11:45:42 [http-nio-8080-exec-3] INFO  c.g.a.c.controller.ChannelController - GET /api/channels endpoint hit
2025-01-11 11:45:42 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 1ms
2025-01-11 11:45:42 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[]>
2025-01-11 11:45:42 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:45:42 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-01-11 11:45:42 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:45:42 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels]
2025-01-11 11:45:42 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 11:45:42 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 19ms
2025-01-11 11:45:42 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 11:45:42 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 11:45:42 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 11:45:42 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 11:45:42 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 12:01:51 [main] INFO  c.g.a.chatgenius.Application - Starting Application using Java 21.0.3 with PID 27832 (C:\Users\Agustin\Gauntlet\ChatGenius2\backend\build\classes\java\main started by Agustin in C:\Users\Agustin\Gauntlet\ChatGenius2)
2025-01-11 12:01:51 [main] DEBUG c.g.a.chatgenius.Application - Running with Spring Boot v3.2.2, Spring v6.1.3
2025-01-11 12:01:51 [main] INFO  c.g.a.chatgenius.Application - The following 1 profile is active: "dev"
2025-01-11 12:01:52 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration.propertySourcesPlaceholderConfigurer
2025-01-11 12:01:52 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-01-11 12:01:52 [main] ERROR o.s.boot.SpringApplication - Application run failed
java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration.propertySourcesPlaceholderConfigurer
	at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60)
	at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108)
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:183)
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:144)
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:120)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:428)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:289)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:349)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:118)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:788)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:606)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.gauntletai.agustinbiondi.chatgenius.Application.main(Application.java:12)
Caused by: java.lang.IllegalStateException: Failed to introspect Class [com.gauntletai.agustinbiondi.chatgenius.config.OpenAPIConfig] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@33909752]
	at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483)
	at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:360)
	at org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:417)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$1(AbstractAutowireCapableBeanFactory.java:749)
	at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:748)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:681)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:652)
	at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1644)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:562)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:534)
	at org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:247)
	at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:240)
	at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:230)
	at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:183)
	at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:158)
	at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47)
	... 17 common frames omitted
Caused by: java.lang.NoClassDefFoundError: io/swagger/v3/oas/models/OpenAPI
	at java.base/java.lang.Class.getDeclaredMethods0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3578)
	at java.base/java.lang.Class.getDeclaredMethods(Class.java:2676)
	at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465)
	... 33 common frames omitted
Caused by: java.lang.ClassNotFoundException: io.swagger.v3.oas.models.OpenAPI
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	... 37 common frames omitted
2025-01-11 12:06:27 [main] INFO  c.g.a.chatgenius.Application - Starting Application using Java 21.0.3 with PID 33292 (C:\Users\Agustin\Gauntlet\ChatGenius2\backend\build\classes\java\main started by Agustin in C:\Users\Agustin\Gauntlet\ChatGenius2)
2025-01-11 12:06:27 [main] DEBUG c.g.a.chatgenius.Application - Running with Spring Boot v3.2.2, Spring v6.1.3
2025-01-11 12:06:27 [main] INFO  c.g.a.chatgenius.Application - The following 1 profile is active: "dev"
2025-01-11 12:06:28 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration.propertySourcesPlaceholderConfigurer
2025-01-11 12:06:28 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-01-11 12:06:29 [main] ERROR o.s.boot.SpringApplication - Application run failed
java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration.propertySourcesPlaceholderConfigurer
	at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60)
	at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108)
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:183)
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:144)
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:120)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:428)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:289)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:349)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:118)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:788)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:606)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.gauntletai.agustinbiondi.chatgenius.Application.main(Application.java:12)
Caused by: java.lang.IllegalStateException: Failed to introspect Class [com.gauntletai.agustinbiondi.chatgenius.config.OpenAPIConfig] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@33909752]
	at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483)
	at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:360)
	at org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:417)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$1(AbstractAutowireCapableBeanFactory.java:749)
	at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:748)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:681)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:652)
	at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1644)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:562)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:534)
	at org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:247)
	at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:240)
	at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:230)
	at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:183)
	at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:158)
	at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47)
	... 17 common frames omitted
Caused by: java.lang.NoClassDefFoundError: io/swagger/v3/oas/models/OpenAPI
	at java.base/java.lang.Class.getDeclaredMethods0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3578)
	at java.base/java.lang.Class.getDeclaredMethods(Class.java:2676)
	at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465)
	... 33 common frames omitted
Caused by: java.lang.ClassNotFoundException: io.swagger.v3.oas.models.OpenAPI
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	... 37 common frames omitted
2025-01-11 12:06:41 [main] INFO  c.g.a.chatgenius.Application - Starting Application using Java 21.0.3 with PID 19156 (C:\Users\Agustin\Gauntlet\ChatGenius2\backend\build\classes\java\main started by Agustin in C:\Users\Agustin\Gauntlet\ChatGenius2)
2025-01-11 12:06:41 [main] DEBUG c.g.a.chatgenius.Application - Running with Spring Boot v3.2.2, Spring v6.1.3
2025-01-11 12:06:41 [main] INFO  c.g.a.chatgenius.Application - The following 1 profile is active: "dev"
2025-01-11 12:06:43 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration.propertySourcesPlaceholderConfigurer
2025-01-11 12:06:43 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-01-11 12:06:43 [main] ERROR o.s.boot.SpringApplication - Application run failed
java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration.propertySourcesPlaceholderConfigurer
	at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60)
	at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108)
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:183)
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:144)
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:120)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:428)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:289)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:349)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:118)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:788)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:606)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.gauntletai.agustinbiondi.chatgenius.Application.main(Application.java:12)
Caused by: java.lang.IllegalStateException: Failed to introspect Class [com.gauntletai.agustinbiondi.chatgenius.config.OpenAPIConfig] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@33909752]
	at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483)
	at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:360)
	at org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:417)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$1(AbstractAutowireCapableBeanFactory.java:749)
	at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:748)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:681)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:652)
	at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1644)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:562)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:534)
	at org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:247)
	at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:240)
	at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:230)
	at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:183)
	at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:158)
	at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47)
	... 17 common frames omitted
Caused by: java.lang.NoClassDefFoundError: io/swagger/v3/oas/models/OpenAPI
	at java.base/java.lang.Class.getDeclaredMethods0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3578)
	at java.base/java.lang.Class.getDeclaredMethods(Class.java:2676)
	at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465)
	... 33 common frames omitted
Caused by: java.lang.ClassNotFoundException: io.swagger.v3.oas.models.OpenAPI
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	... 37 common frames omitted
2025-01-11 12:08:13 [main] INFO  c.g.a.chatgenius.Application - Starting Application using Java 21.0.3 with PID 14248 (C:\Users\Agustin\Gauntlet\ChatGenius2\backend\build\classes\java\main started by Agustin in C:\Users\Agustin\Gauntlet\ChatGenius2)
2025-01-11 12:08:13 [main] DEBUG c.g.a.chatgenius.Application - Running with Spring Boot v3.2.2, Spring v6.1.3
2025-01-11 12:08:13 [main] INFO  c.g.a.chatgenius.Application - The following 1 profile is active: "dev"
2025-01-11 12:08:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-11 12:08:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 192 ms. Found 4 JPA repository interfaces.
2025-01-11 12:08:18 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-01-11 12:08:18 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-11 12:08:18 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.18]
2025-01-11 12:08:18 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-11 12:08:18 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5567 ms
2025-01-11 12:08:19 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-11 12:08:20 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2025-01-11 12:08:20 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-11 12:08:20 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-11 12:08:21 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-11 12:08:23 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-11 12:08:24 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-11 12:08:24 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@752180c4
2025-01-11 12:08:24 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-01-11 12:08:24 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-11 12:08:26 [main] DEBUG c.g.a.c.security.ClerkAuthFilter - Filter 'clerkAuthFilter' configured for use
2025-01-11 12:08:26 [main] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Filter 'logFilter' configured for use
2025-01-11 12:08:26 [main] DEBUG c.g.a.c.c.RequestLoggingConfig$1 - Filter 'corsLoggingFilter' configured for use
2025-01-11 12:08:26 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-11 12:08:30 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 32e7127a-c6a3-4e15-8e4f-b9d0ad8ece0a

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-01-11 12:08:30 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws/**] in 'stompWebSocketHandlerMapping'
2025-01-11 12:08:30 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 26 mappings in 'requestMappingHandlerMapping'
2025-01-11 12:08:30 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-01-11 12:08:30 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5bbfd031, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b3f2fe1, org.springframework.security.web.context.SecurityContextHolderFilter@54dfdad7, org.springframework.security.web.header.HeaderWriterFilter@2e259c54, org.springframework.web.filter.CorsFilter@799c1c8, org.springframework.security.web.csrf.CsrfFilter@59e285e, org.springframework.security.web.authentication.logout.LogoutFilter@11ab8594, com.gauntletai.agustinbiondi.chatgenius.security.ClerkAuthFilter@687d31a9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@517c2be7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@33be99c1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7fefa1cc, org.springframework.security.web.session.SessionManagementFilter@11c80834, org.springframework.security.web.access.ExceptionTranslationFilter@2ee6196f, org.springframework.security.web.access.intercept.AuthorizationFilter@61b67cbb]
2025-01-11 12:08:31 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.g.a.c.c.ChannelController:
	
2025-01-11 12:08:31 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.g.a.c.c.ClerkWebhookController:
	
2025-01-11 12:08:31 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.g.a.c.c.DevUserController:
	
2025-01-11 12:08:31 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.g.a.c.c.UserController:
	
2025-01-11 12:08:31 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.g.a.c.c.WebSocketController:
	{[MESSAGE],[/channels/{channelId}/messages]}: handleMessage(UUID,MessageDTO,Principal)
	{[MESSAGE],[/channels/{channelId}/typing]}: handleTypingEvent(UUID,Principal)
2025-01-11 12:08:31 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.b.a.w.s.e.BasicErrorController:
	
2025-01-11 12:08:31 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.a.OpenApiWebMvcResource:
	
2025-01-11 12:08:31 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.u.SwaggerWelcomeWebMvc:
	
2025-01-11 12:08:31 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.u.SwaggerConfigResource:
	
2025-01-11 12:08:31 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-01-11 12:08:31 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-01-11 12:08:31 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-01-11 12:08:31 [main] DEBUG org.springframework.web.SimpLogging - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-01-11 12:08:31 [main] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-01-11 12:08:31 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-01-11 12:08:31 [main] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@703b2538]
2025-01-11 12:08:31 [main] DEBUG org.springframework.web.SimpLogging - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@703b2538]
2025-01-11 12:08:31 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@703b2538]]
2025-01-11 12:08:31 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-01-11 12:08:31 [main] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-01-11 12:08:31 [main] DEBUG org.springframework.web.SimpLogging - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-01-11 12:08:31 [main] INFO  c.g.a.chatgenius.Application - Started Application in 19.884 seconds (process running for 20.78)
2025-01-11 12:08:54 [http-nio-8080-exec-3] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-11 12:08:54 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-01-11 12:08:54 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-01-11 12:08:54 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-01-11 12:08:54 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-01-11 12:08:54 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2f397395
2025-01-11 12:08:54 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@7e35c8b5
2025-01-11 12:08:54 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='true': request parameters and headers will be shown which may lead to unsafe logging of potentially sensitive data
2025-01-11 12:08:54 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 141 ms
2025-01-11 12:08:54 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/channels
2025-01-11 12:08:54 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users
2025-01-11 12:08:54 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 12:08:54 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 12:08:54 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels
2025-01-11 12:08:54 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:08:54 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels
2025-01-11 12:08:54 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:08:55 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:08:55 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:08:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:08:55 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:08:55 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:08:55 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:08:55 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 12:08:55 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels
2025-01-11 12:08:55 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 12:08:55 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels
2025-01-11 12:08:55 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 12:08:55 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels]
2025-01-11 12:08:55 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels - Origin: http://localhost:5173
2025-01-11 12:08:55 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 12:08:55 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 12:08:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels", parameters={}
2025-01-11 12:08:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 12:08:55 [http-nio-8080-exec-2] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' is not supported]
2025-01-11 12:08:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 405 METHOD_NOT_ALLOWED
2025-01-11 12:08:55 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels]
2025-01-11 12:08:55 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-01-11 12:08:55 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 12:08:55 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 12:08:55 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 12:08:56 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 12:08:56 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 191ms
2025-01-11 12:08:56 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 12:08:56 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 12:08:56 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 12:08:56 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 12:08:56 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 12:09:31 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-01-11 12:10:03 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 12:10:03 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 12:10:03 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels
2025-01-11 12:10:03 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:10:03 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels
2025-01-11 12:10:03 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:10:03 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:10:03 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:10:03 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:10:03 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:10:03 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:10:03 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 12:10:03 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 12:10:03 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 12:10:03 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 12:10:03 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 12:10:03 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 12:10:03 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 12:10:03 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 12:10:03 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:10:03 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 12:10:03 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels
2025-01-11 12:10:03 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels
2025-01-11 12:10:03 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels]
2025-01-11 12:10:03 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels - Origin: http://localhost:5173
2025-01-11 12:10:03 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels", parameters={}
2025-01-11 12:10:03 [http-nio-8080-exec-9] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' is not supported]
2025-01-11 12:10:03 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 405 METHOD_NOT_ALLOWED
2025-01-11 12:10:03 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels]
2025-01-11 12:10:03 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-01-11 12:10:03 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 12:10:03 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 51ms
2025-01-11 12:10:03 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 12:10:03 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 12:10:03 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 12:10:03 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 12:10:03 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 12:10:32 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 12:10:32 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 12:10:32 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:10:32 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels
2025-01-11 12:10:32 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels
2025-01-11 12:10:32 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:10:32 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:10:32 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:10:32 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:10:32 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:10:32 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:10:32 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels
2025-01-11 12:10:32 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels
2025-01-11 12:10:32 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels]
2025-01-11 12:10:32 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels - Origin: http://localhost:5173
2025-01-11 12:10:32 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels", parameters={}
2025-01-11 12:10:32 [http-nio-8080-exec-1] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' is not supported]
2025-01-11 12:10:32 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:10:32 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 405 METHOD_NOT_ALLOWED
2025-01-11 12:10:32 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 12:10:32 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels]
2025-01-11 12:10:32 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 12:10:32 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 12:10:32 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-01-11 12:10:32 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 12:10:32 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 12:10:32 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 12:10:32 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 12:10:32 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 12:10:32 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 12:10:32 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 12:10:32 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 24ms
2025-01-11 12:10:32 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 12:10:32 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 12:10:32 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 12:10:32 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 12:10:32 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 12:23:20 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 12:23:20 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/api/channels/available
2025-01-11 12:23:20 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 12:23:20 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:23:20 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/api/channels/available
2025-01-11 12:23:20 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/api/channels/available
2025-01-11 12:23:20 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:23:20 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:23:20 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:23:20 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:23:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:23:21 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:23:21 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:23:21 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/api/channels/available
2025-01-11 12:23:21 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 12:23:21 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/api/channels/available
2025-01-11 12:23:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 12:23:21 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 12:23:21 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/api/channels/available]
2025-01-11 12:23:21 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/api/channels/available - Origin: http://localhost:5173
2025-01-11 12:23:21 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 12:23:21 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 12:23:21 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/api/channels/available", parameters={}
2025-01-11 12:23:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 12:23:21 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 12:23:21 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 12:23:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-01-11 12:23:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 12:23:21 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 60ms
2025-01-11 12:23:21 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 12:23:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 12:23:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 12:23:21 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 12:23:21 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 12:23:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-01-11 12:23:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/api/channels/available.]
2025-01-11 12:23:21 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-01-11 12:23:21 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/api/channels/available]
2025-01-11 12:23:21 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-01-11 12:23:21 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 12:23:40 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 12:23:40 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/api/channels/available
2025-01-11 12:23:40 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 12:23:40 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/api/channels/available
2025-01-11 12:23:40 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:23:40 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:23:40 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:23:40 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:23:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:23:40 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:23:40 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:23:40 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 12:23:40 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 12:23:40 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 12:23:40 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 12:23:40 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 12:23:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 12:23:40 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:23:40 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/api/channels/available
2025-01-11 12:23:40 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/api/channels/available
2025-01-11 12:23:40 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/api/channels/available]
2025-01-11 12:23:40 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/api/channels/available - Origin: http://localhost:5173
2025-01-11 12:23:40 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/api/channels/available", parameters={}
2025-01-11 12:23:40 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-01-11 12:23:40 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 12:23:40 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 12:23:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 12:23:40 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 15ms
2025-01-11 12:23:40 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 12:23:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 12:23:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 12:23:40 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 12:23:40 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 12:23:40 [http-nio-8080-exec-10] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-01-11 12:23:40 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/api/channels/available.]
2025-01-11 12:23:40 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-01-11 12:23:40 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/api/channels/available]
2025-01-11 12:23:40 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-01-11 12:23:40 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 12:24:10 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 12:24:10 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 12:24:10 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:24:10 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/api/channels/available
2025-01-11 12:24:10 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/api/channels/available
2025-01-11 12:24:10 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:24:10 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:24:10 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:24:10 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:24:10 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:24:10 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:24:10 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:24:10 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/api/channels/available
2025-01-11 12:24:10 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 12:24:10 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/api/channels/available
2025-01-11 12:24:10 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 12:24:10 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 12:24:10 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/api/channels/available]
2025-01-11 12:24:10 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/api/channels/available - Origin: http://localhost:5173
2025-01-11 12:24:10 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 12:24:10 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/api/channels/available", parameters={}
2025-01-11 12:24:10 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 12:24:10 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 12:24:10 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-01-11 12:24:10 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 12:24:10 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 12:24:10 [http-nio-8080-exec-4] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-01-11 12:24:10 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/api/channels/available.]
2025-01-11 12:24:10 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 12:24:10 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-01-11 12:24:10 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/api/channels/available]
2025-01-11 12:24:10 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-01-11 12:24:10 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 12:24:10 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 96ms
2025-01-11 12:24:10 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 12:24:10 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 12:24:10 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 12:24:10 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 12:24:10 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 12:24:37 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 12:24:37 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 12:24:37 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:24:37 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/api/channels/available
2025-01-11 12:24:37 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/api/channels/available
2025-01-11 12:24:37 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:24:37 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:24:37 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:24:37 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:24:37 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:24:37 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:24:37 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 12:24:37 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 12:24:37 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 12:24:37 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 12:24:37 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 12:24:37 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 12:24:37 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 12:24:37 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 12:24:37 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 12:24:37 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:24:37 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/api/channels/available
2025-01-11 12:24:37 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/api/channels/available
2025-01-11 12:24:37 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/api/channels/available]
2025-01-11 12:24:37 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/api/channels/available - Origin: http://localhost:5173
2025-01-11 12:24:37 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/api/channels/available", parameters={}
2025-01-11 12:24:37 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-01-11 12:24:37 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 20ms
2025-01-11 12:24:37 [http-nio-8080-exec-7] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-01-11 12:24:37 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 12:24:37 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/api/channels/available.]
2025-01-11 12:24:37 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-01-11 12:24:37 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 12:24:37 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/api/channels/available]
2025-01-11 12:24:37 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 12:24:37 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-01-11 12:24:37 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 12:24:37 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 12:24:37 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 12:24:46 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/api/channels/available
2025-01-11 12:24:46 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 12:24:46 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/api/channels/available
2025-01-11 12:24:46 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:24:46 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:24:46 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 12:24:46 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:24:46 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:24:46 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:24:46 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:24:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:24:46 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/api/channels/available
2025-01-11 12:24:46 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/api/channels/available
2025-01-11 12:24:46 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/api/channels/available]
2025-01-11 12:24:46 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/api/channels/available - Origin: http://localhost:5173
2025-01-11 12:24:46 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/api/channels/available", parameters={}
2025-01-11 12:24:46 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-01-11 12:24:46 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:24:46 [http-nio-8080-exec-10] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-01-11 12:24:46 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 12:24:46 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 12:24:46 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/api/channels/available.]
2025-01-11 12:24:46 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 12:24:46 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-01-11 12:24:46 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 12:24:46 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/api/channels/available]
2025-01-11 12:24:46 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 12:24:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 12:24:46 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-01-11 12:24:46 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 12:24:46 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 12:24:46 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 12:24:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 12:24:46 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 80ms
2025-01-11 12:24:46 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 12:24:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 12:24:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 12:24:46 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 12:24:46 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 12:25:50 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 12:25:50 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/channels/available
2025-01-11 12:25:50 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 12:25:50 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:25:50 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:25:50 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/available
2025-01-11 12:25:50 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/available
2025-01-11 12:25:50 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:25:50 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:25:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:25:50 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:25:50 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:25:50 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 12:25:50 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 12:25:50 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 12:25:50 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 12:25:50 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 12:25:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 12:25:50 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 12:25:50 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 12:25:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 12:25:50 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:25:50 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 15ms
2025-01-11 12:25:50 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/available
2025-01-11 12:25:50 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 12:25:50 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/available
2025-01-11 12:25:50 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/available]
2025-01-11 12:25:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 12:25:50 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/available - Origin: http://localhost:5173
2025-01-11 12:25:50 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/available", parameters={}
2025-01-11 12:25:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 12:25:50 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getAvailableChannels(String)
2025-01-11 12:25:50 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 12:25:50 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 12:25:51 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /available, Controller: ChannelController.getAvailableChannels
2025-01-11 12:25:51 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: [user_2rMjbsf5HEAsTOk08nq01mt3exa]
2025-01-11 12:25:51 [http-nio-8080-exec-4] INFO  c.g.a.c.service.ChannelServiceImpl - Fetching public channels and DM channels for user: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:25:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type='PUBLIC' 
        or (
            c1_0.type='DIRECT_MESSAGE' 
            and exists(select
                cm1_0.id 
            from
                channel_memberships cm1_0 
            where
                cm1_0.channel_id=c1_0.id 
                and cm1_0.user_id=?)
        )
2025-01-11 12:25:51 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /available, Duration: 656ms
2025-01-11 12:25:51 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 12:25:51 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 12:25:51 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 12:25:51 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 12:25:51 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/available]
2025-01-11 12:25:58 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 12:25:58 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/available
2025-01-11 12:25:58 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 12:25:58 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:25:58 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/available
2025-01-11 12:25:58 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:25:58 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:25:58 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:25:58 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:25:58 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:25:58 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:25:58 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 12:25:58 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 12:25:58 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 12:25:58 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:25:58 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 12:25:58 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 12:25:58 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/available
2025-01-11 12:25:58 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 12:25:58 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/available
2025-01-11 12:25:58 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/available]
2025-01-11 12:25:58 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 12:25:58 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/available - Origin: http://localhost:5173
2025-01-11 12:25:58 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 12:25:58 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/available", parameters={}
2025-01-11 12:25:58 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getAvailableChannels(String)
2025-01-11 12:25:58 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /available, Controller: ChannelController.getAvailableChannels
2025-01-11 12:25:58 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: [user_2rMjbsf5HEAsTOk08nq01mt3exa]
2025-01-11 12:25:58 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 12:25:58 [http-nio-8080-exec-9] INFO  c.g.a.c.service.ChannelServiceImpl - Fetching public channels and DM channels for user: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:25:58 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 12ms
2025-01-11 12:25:58 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 12:25:58 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type='PUBLIC' 
        or (
            c1_0.type='DIRECT_MESSAGE' 
            and exists(select
                cm1_0.id 
            from
                channel_memberships cm1_0 
            where
                cm1_0.channel_id=c1_0.id 
                and cm1_0.user_id=?)
        )
2025-01-11 12:25:58 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 12:25:58 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 12:25:58 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 12:25:58 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 12:25:58 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /available, Duration: 101ms
2025-01-11 12:25:58 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 12:25:58 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 12:25:58 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 12:25:58 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 12:25:58 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/available]
2025-01-11 12:28:44 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 12:28:44 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/available
2025-01-11 12:28:44 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 12:28:44 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:28:44 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/available
2025-01-11 12:28:44 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:28:44 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:28:44 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:28:44 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:28:44 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:28:44 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:28:44 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:28:44 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/available
2025-01-11 12:28:44 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 12:28:44 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/available
2025-01-11 12:28:44 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 12:28:44 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 12:28:44 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/available]
2025-01-11 12:28:44 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 12:28:44 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/available - Origin: http://localhost:5173
2025-01-11 12:28:44 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 12:28:44 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/available", parameters={}
2025-01-11 12:28:44 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 12:28:44 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getAvailableChannels(String)
2025-01-11 12:28:44 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 12:28:44 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /available, Controller: ChannelController.getAvailableChannels
2025-01-11 12:28:44 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 12:28:44 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: [user_2rMjbsf5HEAsTOk08nq01mt3exa]
2025-01-11 12:28:44 [http-nio-8080-exec-3] INFO  c.g.a.c.service.ChannelServiceImpl - Fetching public channels and DM channels for user: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:28:44 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 12:28:44 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type='PUBLIC' 
        or (
            c1_0.type='DIRECT_MESSAGE' 
            and exists(select
                cm1_0.id 
            from
                channel_memberships cm1_0 
            where
                cm1_0.channel_id=c1_0.id 
                and cm1_0.user_id=?)
        )
2025-01-11 12:28:44 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 17ms
2025-01-11 12:28:44 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /available, Duration: 19ms
2025-01-11 12:28:44 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 12:28:45 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 12:28:45 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 12:28:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 12:28:45 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 12:28:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 12:28:45 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 12:28:45 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/available]
2025-01-11 12:28:45 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 12:28:45 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 12:29:23 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/available
2025-01-11 12:29:23 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 12:29:23 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/available
2025-01-11 12:29:23 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:29:23 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 12:29:23 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:29:23 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:29:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:29:23 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:29:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:29:23 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:29:23 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:29:23 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/available
2025-01-11 12:29:23 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/available
2025-01-11 12:29:23 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 12:29:23 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/available]
2025-01-11 12:29:23 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/available - Origin: http://localhost:5173
2025-01-11 12:29:23 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/available", parameters={}
2025-01-11 12:29:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getAvailableChannels(String)
2025-01-11 12:29:23 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 12:29:23 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /available, Controller: ChannelController.getAvailableChannels
2025-01-11 12:29:23 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: [user_2rMjbsf5HEAsTOk08nq01mt3exa]
2025-01-11 12:29:23 [http-nio-8080-exec-7] INFO  c.g.a.c.service.ChannelServiceImpl - Fetching public channels and DM channels for user: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:29:23 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 12:29:23 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 12:29:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type='PUBLIC' 
        or (
            c1_0.type='DIRECT_MESSAGE' 
            and exists(select
                cm1_0.id 
            from
                channel_memberships cm1_0 
            where
                cm1_0.channel_id=c1_0.id 
                and cm1_0.user_id=?)
        )
2025-01-11 12:29:23 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 12:29:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 12:29:23 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 12:29:23 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 12:29:23 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /available, Duration: 19ms
2025-01-11 12:29:23 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 12:29:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 12:29:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 12:29:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 12:29:23 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 12:29:23 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/available]
2025-01-11 12:29:23 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 21ms
2025-01-11 12:29:23 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 12:29:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 12:29:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 12:29:23 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 12:29:23 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 12:29:43 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 12:29:43 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/available
2025-01-11 12:29:43 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 12:29:43 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:29:43 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:29:43 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/available
2025-01-11 12:29:43 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:29:43 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:29:43 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:29:43 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:29:43 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:29:43 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:29:43 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 12:29:43 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/available
2025-01-11 12:29:43 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 12:29:43 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/available
2025-01-11 12:29:43 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 12:29:43 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/available]
2025-01-11 12:29:43 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/available - Origin: http://localhost:5173
2025-01-11 12:29:43 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 12:29:43 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/available", parameters={}
2025-01-11 12:29:43 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 12:29:43 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getAvailableChannels(String)
2025-01-11 12:29:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 12:29:43 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 12:29:43 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /available, Controller: ChannelController.getAvailableChannels
2025-01-11 12:29:43 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 12:29:43 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: [user_2rMjbsf5HEAsTOk08nq01mt3exa]
2025-01-11 12:29:43 [http-nio-8080-exec-5] INFO  c.g.a.c.service.ChannelServiceImpl - Fetching public channels and DM channels for user: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:29:43 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 12:29:43 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type='PUBLIC' 
        or (
            c1_0.type='DIRECT_MESSAGE' 
            and exists(select
                cm1_0.id 
            from
                channel_memberships cm1_0 
            where
                cm1_0.channel_id=c1_0.id 
                and cm1_0.user_id=?)
        )
2025-01-11 12:29:43 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 16ms
2025-01-11 12:29:43 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 12:29:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 12:29:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 12:29:43 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 12:29:43 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 12:29:43 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /available, Duration: 20ms
2025-01-11 12:29:43 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 12:29:43 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 12:29:43 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 12:29:43 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 12:29:43 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/available]
2025-01-11 12:30:52 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/available
2025-01-11 12:30:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 12:30:52 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 12:30:52 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:30:52 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/available
2025-01-11 12:30:52 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:30:52 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:30:52 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:30:52 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:30:52 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:30:52 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:30:52 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 12:30:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 12:30:52 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 12:30:52 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 12:30:52 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 12:30:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 12:30:52 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:30:52 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/available
2025-01-11 12:30:52 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/available
2025-01-11 12:30:52 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/available]
2025-01-11 12:30:52 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/available - Origin: http://localhost:5173
2025-01-11 12:30:52 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 12:30:52 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/available", parameters={}
2025-01-11 12:30:52 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 12:30:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getAvailableChannels(String)
2025-01-11 12:30:52 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /available, Controller: ChannelController.getAvailableChannels
2025-01-11 12:30:52 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 12:30:52 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: [user_2rMjbsf5HEAsTOk08nq01mt3exa]
2025-01-11 12:30:52 [http-nio-8080-exec-4] INFO  c.g.a.c.service.ChannelServiceImpl - Fetching public channels and DM channels for user: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:30:52 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type='PUBLIC' 
        or (
            c1_0.type='DIRECT_MESSAGE' 
            and exists(select
                cm1_0.id 
            from
                channel_memberships cm1_0 
            where
                cm1_0.channel_id=c1_0.id 
                and cm1_0.user_id=?)
        )
2025-01-11 12:30:52 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 23ms
2025-01-11 12:30:52 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 12:30:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 12:30:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 12:30:52 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 12:30:52 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 12:30:52 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /available, Duration: 22ms
2025-01-11 12:30:52 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 12:30:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 12:30:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 12:30:52 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 12:30:52 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/available]
2025-01-11 12:31:57 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/available
2025-01-11 12:31:57 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/available
2025-01-11 12:31:57 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:31:57 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:31:57 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 12:31:57 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:31:57 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 12:31:57 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:31:57 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:31:57 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/available
2025-01-11 12:31:57 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/available
2025-01-11 12:31:57 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/available]
2025-01-11 12:31:57 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/available - Origin: http://localhost:5173
2025-01-11 12:31:57 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/available", parameters={}
2025-01-11 12:31:57 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:31:57 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getAvailableChannels(String)
2025-01-11 12:31:57 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /available, Controller: ChannelController.getAvailableChannels
2025-01-11 12:31:57 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: [user_2rMjbsf5HEAsTOk08nq01mt3exa]
2025-01-11 12:31:57 [http-nio-8080-exec-9] INFO  c.g.a.c.service.ChannelServiceImpl - Fetching public channels and DM channels for user: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:31:57 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:31:57 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type='PUBLIC' 
        or (
            c1_0.type='DIRECT_MESSAGE' 
            and exists(select
                cm1_0.id 
            from
                channel_memberships cm1_0 
            where
                cm1_0.channel_id=c1_0.id 
                and cm1_0.user_id=?)
        )
2025-01-11 12:31:57 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:31:57 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 12:31:57 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 12:31:57 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 12:31:57 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 12:31:57 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 12:31:57 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 12:31:57 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 12:31:57 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 12:31:57 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 12:31:57 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /available, Duration: 36ms
2025-01-11 12:31:57 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 12:31:57 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 12:31:57 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 9ms
2025-01-11 12:31:57 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 12:31:57 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 12:31:57 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 12:31:57 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 12:31:57 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/available]
2025-01-11 12:31:57 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 12:31:57 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 12:31:57 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 12:32:47 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 12:32:47 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 12:32:47 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:32:47 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/available
2025-01-11 12:32:47 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/available
2025-01-11 12:32:47 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:32:47 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:32:47 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:32:47 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:32:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:32:47 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:32:47 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 12:32:47 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 12:32:47 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 12:32:47 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:32:47 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 12:32:47 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/available
2025-01-11 12:32:47 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 12:32:47 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/available
2025-01-11 12:32:47 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/available]
2025-01-11 12:32:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 12:32:47 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/available - Origin: http://localhost:5173
2025-01-11 12:32:47 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 12:32:47 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/available", parameters={}
2025-01-11 12:32:47 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 12:32:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getAvailableChannels(String)
2025-01-11 12:32:47 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /available, Controller: ChannelController.getAvailableChannels
2025-01-11 12:32:47 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: [user_2rMjbsf5HEAsTOk08nq01mt3exa]
2025-01-11 12:32:47 [http-nio-8080-exec-3] INFO  c.g.a.c.service.ChannelServiceImpl - Fetching public channels and DM channels for user: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:32:47 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 12:32:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type='PUBLIC' 
        or (
            c1_0.type='DIRECT_MESSAGE' 
            and exists(select
                cm1_0.id 
            from
                channel_memberships cm1_0 
            where
                cm1_0.channel_id=c1_0.id 
                and cm1_0.user_id=?)
        )
2025-01-11 12:32:47 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 14ms
2025-01-11 12:32:47 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 12:32:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 12:32:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 12:32:47 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 12:32:47 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 12:32:47 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /available, Duration: 20ms
2025-01-11 12:32:47 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 12:32:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 12:32:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 12:32:47 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 12:32:47 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/available]
2025-01-11 12:34:17 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/available
2025-01-11 12:34:17 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 12:34:17 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 12:34:17 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/available
2025-01-11 12:34:17 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:34:17 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:34:17 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:34:17 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:34:17 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:34:17 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:34:18 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:34:18 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/available
2025-01-11 12:34:18 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/available
2025-01-11 12:34:18 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/available]
2025-01-11 12:34:18 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/available - Origin: http://localhost:5173
2025-01-11 12:34:18 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/available", parameters={}
2025-01-11 12:34:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getAvailableChannels(String)
2025-01-11 12:34:18 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:34:18 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 12:34:18 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /available, Controller: ChannelController.getAvailableChannels
2025-01-11 12:34:18 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 12:34:18 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: [user_2rMjbsf5HEAsTOk08nq01mt3exa]
2025-01-11 12:34:18 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 12:34:18 [http-nio-8080-exec-6] INFO  c.g.a.c.service.ChannelServiceImpl - Fetching public channels and DM channels for user: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:34:18 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 12:34:18 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 12:34:18 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 12:34:18 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 12:34:18 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 12:34:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type='PUBLIC' 
        or (
            c1_0.type='DIRECT_MESSAGE' 
            and exists(select
                cm1_0.id 
            from
                channel_memberships cm1_0 
            where
                cm1_0.channel_id=c1_0.id 
                and cm1_0.user_id=?)
        )
2025-01-11 12:34:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 12:34:18 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /available, Duration: 25ms
2025-01-11 12:34:18 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 19ms
2025-01-11 12:34:18 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 12:34:18 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 12:34:18 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 12:34:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 12:34:18 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 12:34:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 12:34:18 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 12:34:18 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/available]
2025-01-11 12:34:18 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 12:34:18 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 12:34:21 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/available
2025-01-11 12:34:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 12:34:21 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/available
2025-01-11 12:34:21 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 12:34:21 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:34:21 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:34:21 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:34:21 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:34:21 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:34:21 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 12:34:21 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:34:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 12:34:21 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 12:34:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:34:21 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 12:34:21 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 12:34:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 12:34:21 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 12:34:21 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 12:34:21 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 12:34:21 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:34:21 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/available
2025-01-11 12:34:21 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/available
2025-01-11 12:34:21 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/available]
2025-01-11 12:34:21 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/available - Origin: http://localhost:5173
2025-01-11 12:34:21 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/available", parameters={}
2025-01-11 12:34:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getAvailableChannels(String)
2025-01-11 12:34:21 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /available, Controller: ChannelController.getAvailableChannels
2025-01-11 12:34:21 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: [user_2rMjbsf5HEAsTOk08nq01mt3exa]
2025-01-11 12:34:21 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 13ms
2025-01-11 12:34:21 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 12:34:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 12:34:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 12:34:21 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 12:34:21 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 12:34:21 [http-nio-8080-exec-8] INFO  c.g.a.c.service.ChannelServiceImpl - Fetching public channels and DM channels for user: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:34:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type='PUBLIC' 
        or (
            c1_0.type='DIRECT_MESSAGE' 
            and exists(select
                cm1_0.id 
            from
                channel_memberships cm1_0 
            where
                cm1_0.channel_id=c1_0.id 
                and cm1_0.user_id=?)
        )
2025-01-11 12:34:21 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /available, Duration: 40ms
2025-01-11 12:34:21 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 12:34:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 12:34:22 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 12:34:22 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 12:34:22 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/available]
2025-01-11 12:35:39 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 12:35:39 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 12:35:39 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:35:39 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:35:39 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/available
2025-01-11 12:35:39 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/available
2025-01-11 12:35:39 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:35:39 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:35:39 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:35:39 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:35:39 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:35:39 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 12:35:39 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 12:35:39 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 12:35:39 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 12:35:39 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 12:35:39 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 12:35:39 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 12:35:39 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 12:35:39 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:35:39 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/available
2025-01-11 12:35:39 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/available
2025-01-11 12:35:39 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/available]
2025-01-11 12:35:39 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 12:35:39 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/available - Origin: http://localhost:5173
2025-01-11 12:35:39 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/available", parameters={}
2025-01-11 12:35:39 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getAvailableChannels(String)
2025-01-11 12:35:39 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /available, Controller: ChannelController.getAvailableChannels
2025-01-11 12:35:39 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: [user_2rMjbsf5HEAsTOk08nq01mt3exa]
2025-01-11 12:35:39 [http-nio-8080-exec-3] INFO  c.g.a.c.service.ChannelServiceImpl - Fetching public channels and DM channels for user: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:35:39 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type='PUBLIC' 
        or (
            c1_0.type='DIRECT_MESSAGE' 
            and exists(select
                cm1_0.id 
            from
                channel_memberships cm1_0 
            where
                cm1_0.channel_id=c1_0.id 
                and cm1_0.user_id=?)
        )
2025-01-11 12:35:39 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 14ms
2025-01-11 12:35:39 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 12:35:39 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 12:35:39 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 12:35:39 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 12:35:39 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 12:35:39 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /available, Duration: 40ms
2025-01-11 12:35:39 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 12:35:39 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 12:35:39 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 12:35:39 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 12:35:39 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/available]
2025-01-11 12:36:11 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/available
2025-01-11 12:36:11 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 12:36:11 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/available
2025-01-11 12:36:11 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:36:11 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:36:11 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 12:36:11 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:36:11 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:36:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:36:11 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:36:11 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:36:11 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/available
2025-01-11 12:36:11 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/available
2025-01-11 12:36:11 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/available]
2025-01-11 12:36:11 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/available - Origin: http://localhost:5173
2025-01-11 12:36:11 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/available", parameters={}
2025-01-11 12:36:11 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getAvailableChannels(String)
2025-01-11 12:36:11 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /available, Controller: ChannelController.getAvailableChannels
2025-01-11 12:36:11 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: [user_2rMjbsf5HEAsTOk08nq01mt3exa]
2025-01-11 12:36:11 [http-nio-8080-exec-4] INFO  c.g.a.c.service.ChannelServiceImpl - Fetching public channels and DM channels for user: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:36:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type='PUBLIC' 
        or (
            c1_0.type='DIRECT_MESSAGE' 
            and exists(select
                cm1_0.id 
            from
                channel_memberships cm1_0 
            where
                cm1_0.channel_id=c1_0.id 
                and cm1_0.user_id=?)
        )
2025-01-11 12:36:11 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:36:11 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 12:36:11 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 12:36:11 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 12:36:11 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 12:36:11 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 12:36:11 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 12:36:11 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 12:36:11 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 12:36:11 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 12:36:11 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /available, Duration: 187ms
2025-01-11 12:36:11 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 12:36:11 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 12:36:11 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 12:36:11 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 12:36:11 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/available]
2025-01-11 12:36:11 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 184ms
2025-01-11 12:36:11 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 12:36:11 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 12:36:11 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 12:36:11 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 12:36:11 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 12:39:31 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 2, active threads = 1, queued tasks = 0, completed tasks = 1]
2025-01-11 12:45:49 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/available
2025-01-11 12:45:49 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 12:45:49 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 12:45:49 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/available
2025-01-11 12:45:49 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:45:49 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:45:49 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:45:49 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:45:49 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:45:49 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:45:49 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:45:49 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:45:49 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 12:45:49 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/available
2025-01-11 12:45:49 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 12:45:49 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/available
2025-01-11 12:45:49 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 12:45:49 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 12:45:49 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/available]
2025-01-11 12:45:49 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 12:45:49 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 12:45:49 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/available - Origin: http://localhost:5173
2025-01-11 12:45:49 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/available", parameters={}
2025-01-11 12:45:49 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 12:45:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getAvailableChannels(String)
2025-01-11 12:45:49 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 12:45:49 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /available, Controller: ChannelController.getAvailableChannels
2025-01-11 12:45:49 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: [user_2rMjbsf5HEAsTOk08nq01mt3exa]
2025-01-11 12:45:49 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 12:45:49 [http-nio-8080-exec-8] INFO  c.g.a.c.service.ChannelServiceImpl - Fetching public channels and DM channels for user: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:45:49 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 14ms
2025-01-11 12:45:49 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 12:45:49 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 12:45:49 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 12:45:49 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 12:45:49 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 12:45:49 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type='PUBLIC' 
        or (
            c1_0.type='DIRECT_MESSAGE' 
            and exists(select
                cm1_0.id 
            from
                channel_memberships cm1_0 
            where
                cm1_0.channel_id=c1_0.id 
                and cm1_0.user_id=?)
        )
2025-01-11 12:45:49 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /available, Duration: 38ms
2025-01-11 12:45:49 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 12:45:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 12:45:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 12:45:49 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 12:45:49 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/available]
2025-01-11 12:45:57 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 12:45:57 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/available
2025-01-11 12:45:57 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 12:45:57 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/available
2025-01-11 12:45:57 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:45:57 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:45:57 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:45:57 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:45:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:45:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:45:57 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:45:57 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:45:57 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 12:45:57 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/available
2025-01-11 12:45:57 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 12:45:57 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/available
2025-01-11 12:45:57 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 12:45:57 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 12:45:57 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/available]
2025-01-11 12:45:57 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 12:45:57 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/available - Origin: http://localhost:5173
2025-01-11 12:45:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 12:45:57 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/available", parameters={}
2025-01-11 12:45:57 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 12:45:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getAvailableChannels(String)
2025-01-11 12:45:57 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 12:45:57 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /available, Controller: ChannelController.getAvailableChannels
2025-01-11 12:45:57 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: [user_2rMjbsf5HEAsTOk08nq01mt3exa]
2025-01-11 12:45:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 12:45:57 [http-nio-8080-exec-10] INFO  c.g.a.c.service.ChannelServiceImpl - Fetching public channels and DM channels for user: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:45:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type='PUBLIC' 
        or (
            c1_0.type='DIRECT_MESSAGE' 
            and exists(select
                cm1_0.id 
            from
                channel_memberships cm1_0 
            where
                cm1_0.channel_id=c1_0.id 
                and cm1_0.user_id=?)
        )
2025-01-11 12:45:57 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 8ms
2025-01-11 12:45:57 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 12:45:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 12:45:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 12:45:57 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 12:45:57 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 12:45:57 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /available, Duration: 18ms
2025-01-11 12:45:57 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 12:45:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 12:45:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 12:45:57 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 12:45:57 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/available]
2025-01-11 12:48:10 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/channels/public
2025-01-11 12:48:10 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 12:48:10 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 12:48:11 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:48:11 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:48:11 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:48:11 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:48:11 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 12:48:11 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 12:48:11 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 12:48:11 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 12:48:11 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 12:48:11 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 12:48:11 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 12:48:11 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 12:48:11 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 12:48:11 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 145ms
2025-01-11 12:48:11 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 12:48:11 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 12:48:11 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 12:48:11 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 12:48:11 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 12:49:12 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 12:49:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 12:49:12 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 12:49:12 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:49:12 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 12:49:12 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:49:12 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:49:12 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:49:12 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:49:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:49:12 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:49:12 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 12:49:12 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 12:49:12 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 12:49:12 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 12:49:12 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 12:49:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 12:49:12 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:49:12 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 12:49:12 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 12:49:12 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 12:49:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 12:49:12 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 12:49:12 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 12:49:12 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 12:49:12 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 12:49:12 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 12:49:12 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 12:49:12 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 12:49:12 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 10ms
2025-01-11 12:49:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 12:49:12 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 12:49:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 12:49:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 12:49:12 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 11ms
2025-01-11 12:49:12 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 12:49:12 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 12:49:12 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 12:49:12 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 12:49:12 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 12:49:12 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 12:49:12 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 12:49:22 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 12:49:22 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 12:49:22 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 12:49:22 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:49:22 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 12:49:22 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 12:49:22 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:49:22 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 12:49:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:49:22 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 12:49:22 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:49:22 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 12:49:22 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 12:49:22 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 12:49:22 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 12:49:22 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 12:49:22 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 12:49:22 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 12:49:22 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 12:49:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 12:49:22 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 12:49:22 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 12:49:22 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 12:49:22 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 12:49:22 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 12:49:22 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 12:49:22 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 12:49:22 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 12:49:22 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 12:49:22 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 12:49:22 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 28ms
2025-01-11 12:49:22 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 12:49:22 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 12:49:22 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 12:49:22 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 12:49:22 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 12:49:22 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 29ms
2025-01-11 12:49:22 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 12:49:22 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 12:49:22 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 12:49:22 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 12:49:22 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 13:09:31 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 3, active threads = 1, queued tasks = 0, completed tasks = 2]
2025-01-11 13:14:26 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users
2025-01-11 13:14:26 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 13:14:26 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 13:14:26 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 13:14:26 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 13:14:26 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 13:14:26 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 13:14:26 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 13:14:26 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 13:14:26 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 13:14:26 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 13:14:26 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 13:14:26 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 13:14:26 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 13:14:26 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 13:14:26 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 13:14:26 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 13:14:26 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 13:14:26 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 13:14:26 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 13:14:26 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 13:14:26 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 13:14:26 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 13:14:26 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 13:14:26 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 13:14:26 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 13:14:26 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 13:14:26 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 13:14:26 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 13:14:26 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 13:14:26 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 13:14:26 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 10ms
2025-01-11 13:14:26 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 13:14:26 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 12ms
2025-01-11 13:14:26 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 13:14:26 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 13:14:26 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 13:14:26 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 13:14:26 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 13:14:26 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 13:14:26 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 13:14:26 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 13:14:26 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 13:15:38 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 13:15:38 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 13:15:38 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 13:15:38 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 13:15:38 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 13:15:38 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 13:15:38 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 13:15:38 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 13:15:38 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 13:15:38 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 13:15:38 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 13:15:38 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 13:15:38 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 13:15:38 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 13:15:38 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 13:15:38 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 13:15:38 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 13:15:38 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 13:15:38 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 13:15:38 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 13:15:38 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 13:15:38 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 13:15:38 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 13:15:38 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 13:15:38 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 13:15:38 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 13:15:38 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 13:15:38 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 13:15:38 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 13:15:38 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 13:15:38 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 12ms
2025-01-11 13:15:38 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 13:15:38 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 13:15:38 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 13:15:38 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 13:15:38 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 13:15:38 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 12ms
2025-01-11 13:15:38 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 13:15:38 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 13:15:38 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 13:15:38 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 13:15:38 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 13:39:31 [MessageBroker-2] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 0, completed tasks = 3]
2025-01-11 14:02:14 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 14:02:14 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/channels/public
2025-01-11 14:02:14 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 14:02:14 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 14:02:14 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 14:02:14 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 14:02:14 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 14:02:14 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 14:02:14 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 14:02:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 14:02:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 14:02:14 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 14:02:14 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 14:02:14 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 14:02:14 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 14:02:14 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 14:02:14 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 14:02:14 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 14:02:14 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 14:02:14 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 14:02:14 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 14:02:14 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 14:02:14 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 14:02:14 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 14:02:14 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 14:02:14 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 14:02:14 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 14:02:14 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 14:02:14 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 14:02:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 14:02:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 14:02:14 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 46ms
2025-01-11 14:02:14 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 47ms
2025-01-11 14:02:14 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 14:02:14 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 14:02:14 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 14:02:14 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 14:02:14 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 14:02:14 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 14:02:14 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 14:02:14 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 14:02:14 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 14:02:14 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 14:06:23 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 14:06:23 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 14:06:23 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 14:06:23 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 14:06:23 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 14:06:23 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 14:06:23 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 14:06:23 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 14:06:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 14:06:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 14:06:23 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 14:06:23 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 14:06:23 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 14:06:23 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 14:06:23 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 14:06:23 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 14:06:23 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 14:06:23 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 14:06:23 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 14:06:23 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 14:06:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 14:06:23 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 14:06:23 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 14:06:23 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 14:06:23 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 14:06:23 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 14:06:23 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 14:06:23 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 14:06:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 14:06:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 14:06:23 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 17ms
2025-01-11 14:06:23 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 15ms
2025-01-11 14:06:23 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 14:06:23 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 14:06:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 14:06:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 14:06:23 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 14:06:23 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 14:06:23 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 14:06:23 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 14:06:23 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 14:06:23 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 14:09:31 [MessageBroker-2] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 0, completed tasks = 4]
2025-01-11 14:39:31 [MessageBroker-2] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 0, completed tasks = 5]
2025-01-11 14:42:45 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 14:42:45 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 14:42:45 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 14:42:45 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users
2025-01-11 14:42:45 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 14:42:45 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 14:42:45 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 14:42:45 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 14:42:45 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 14:42:45 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 14:42:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 14:42:45 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 14:42:45 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 14:42:45 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 14:42:45 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 14:42:45 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 14:42:45 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 14:42:45 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 14:42:45 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 14:42:45 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 14:42:45 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 14:42:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 14:42:45 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 14:42:45 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 14:42:45 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 14:42:45 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 14:42:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 14:42:45 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 14:42:45 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 14:42:45 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 14:42:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 14:42:45 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 11ms
2025-01-11 14:42:45 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 14:42:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 14:42:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 14:42:45 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 14:42:45 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 14:42:45 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 14ms
2025-01-11 14:42:45 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 14:42:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 14:42:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 14:42:45 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 14:42:45 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 15:07:50 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/channels/public
2025-01-11 15:07:50 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 15:07:50 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 15:07:50 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 15:07:50 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 15:07:50 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 15:07:50 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 15:07:50 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 15:07:50 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 15:07:50 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 15:07:50 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 15:07:50 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 15:07:50 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 15:07:50 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 15:07:50 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 15:07:50 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 15:07:50 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 15:07:50 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 15:07:50 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 15:07:50 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 15:07:50 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 15:07:50 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 15:07:50 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 15:07:50 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 15:07:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 15:07:50 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 15:07:50 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 15:07:50 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 15:07:50 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 15:07:50 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 15:07:50 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 15:07:50 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 24ms
2025-01-11 15:07:50 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 25ms
2025-01-11 15:07:50 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 15:07:50 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 15:07:50 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 15:07:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 15:07:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 15:07:50 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 15:07:50 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 15:07:50 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 15:07:50 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 15:07:50 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 15:09:31 [MessageBroker-2] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 0, completed tasks = 6]
2025-01-11 15:34:41 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 15:34:41 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 15:34:41 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 15:34:41 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 15:34:41 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 15:34:41 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 15:34:41 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 15:34:41 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 15:34:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 15:34:41 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 15:34:41 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 15:34:41 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 15:34:41 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 15:34:41 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 15:34:41 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 15:34:41 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 15:34:41 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 15:34:41 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 15:34:41 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 15:34:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 15:34:41 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 15:34:41 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 15:34:41 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 15:34:41 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 15:34:41 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 15:34:41 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 15:34:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 15:34:41 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 15:34:41 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 15:34:41 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 10ms
2025-01-11 15:34:41 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 15:34:41 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 15:34:41 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 15:34:41 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 15:34:41 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 15:34:41 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 15:34:41 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 12ms
2025-01-11 15:34:41 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 15:34:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 15:34:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 15:34:41 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 15:34:41 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 15:35:34 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 15:35:34 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 15:35:34 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 15:35:34 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 15:35:34 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 15:35:34 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 15:35:34 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 15:35:34 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 15:35:35 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 15:35:35 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 15:35:35 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 15:35:35 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 15:35:35 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 15:35:35 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 15:35:35 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 15:35:35 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 15:35:35 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 15:35:35 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 15:35:35 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 15:35:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 15:35:35 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 15:35:35 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 15:35:35 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 15:35:35 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 15:35:35 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 15:35:35 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 15:35:35 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 15:35:35 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 15:35:35 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 15:35:35 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 15:35:35 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 245ms
2025-01-11 15:35:35 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 15:35:35 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 15:35:35 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 15:35:35 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 15:35:35 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 15:35:35 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 120ms
2025-01-11 15:35:35 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 15:35:35 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 15:35:35 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 15:35:36 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 15:35:36 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 15:39:32 [MessageBroker-2] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 0, completed tasks = 7]
2025-01-11 15:40:37 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 15:40:37 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 15:40:37 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 15:40:37 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 15:40:37 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 15:40:37 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 15:40:37 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 15:40:37 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 15:40:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 15:40:37 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 15:40:37 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 15:40:37 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 15:40:37 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 15:40:37 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 15:40:37 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 15:40:37 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 15:40:37 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 15:40:37 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 15:40:37 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 15:40:37 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 15:40:37 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 15:40:37 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 15:40:37 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 15:40:37 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 15:40:37 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 15:40:37 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 15:40:37 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 15:40:37 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 15:40:37 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 15:40:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 15:40:37 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 15ms
2025-01-11 15:40:37 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 15:40:37 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 15:40:37 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 15:40:37 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 17ms
2025-01-11 15:40:37 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 15:40:37 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 15:40:37 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 15:40:37 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 15:40:37 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 15:40:37 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 15:40:37 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 15:43:28 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users
2025-01-11 15:43:28 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 15:43:28 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 15:43:28 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 15:43:28 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 15:43:28 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 15:43:28 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 15:43:28 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 15:43:28 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 15:43:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 15:43:28 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 15:43:28 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 15:43:28 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 15:43:28 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 15:43:28 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 15:43:28 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 15:43:28 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 15:43:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 15:43:28 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 15:43:28 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 15:43:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 15:43:28 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 15:43:28 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 15:43:28 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 15:43:28 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 15:43:28 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 15:43:28 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 15:43:28 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 15:43:28 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 15:43:28 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 15:43:28 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 11ms
2025-01-11 15:43:28 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 15:43:28 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 15:43:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 15:43:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 15:43:28 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 15:43:28 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 15:43:28 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 22ms
2025-01-11 15:43:28 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 15:43:28 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 15:43:28 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 15:43:28 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 15:43:28 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 15:44:42 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 15:44:42 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 15:44:42 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 15:44:42 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 15:44:42 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 15:44:42 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 15:44:42 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 15:44:42 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 15:44:42 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 15:44:42 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 15:44:42 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 15:44:42 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 15:44:42 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 15:44:42 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 15:44:42 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 15:44:42 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 15:44:42 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 15:44:42 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 15:44:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 15:44:42 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 15:44:42 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 15:44:42 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 15:44:42 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 15:44:42 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 15:44:42 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 15:44:42 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 15:44:42 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 15:44:42 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 15:44:42 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 15:44:42 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 15:44:42 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 10ms
2025-01-11 15:44:42 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 15:44:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 15:44:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 15:44:42 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 9ms
2025-01-11 15:44:42 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 15:44:42 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 15:44:42 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 15:44:42 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 15:44:42 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 15:44:42 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 15:44:42 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 15:45:02 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 15:45:02 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 15:45:02 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 15:45:02 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 15:45:02 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 15:45:02 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 15:45:02 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 15:45:02 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 15:45:02 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 15:45:02 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 15:45:02 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 15:45:02 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 15:45:02 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 15:45:02 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 15:45:02 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 15:45:02 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 15:45:02 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 15:45:02 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 15:45:02 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 15:45:02 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 15:45:02 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 15:45:02 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 15:45:02 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 15:45:02 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 15:45:02 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 15:45:02 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 15:45:02 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 15:45:02 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 15:45:02 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 15:45:02 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 15:45:02 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 30ms
2025-01-11 15:45:02 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 29ms
2025-01-11 15:45:02 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 15:45:02 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 15:45:02 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 15:45:02 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 15:45:02 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 15:45:02 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 15:45:02 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 15:45:02 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 15:45:02 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 15:45:02 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 15:46:15 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 15:46:15 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 15:46:15 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 15:46:15 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 15:46:15 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 15:46:15 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 15:46:15 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 15:46:15 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 15:46:15 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 15:46:15 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 15:46:15 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 15:46:15 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 15:46:15 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 15:46:15 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 15:46:15 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 15:46:15 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 15:46:15 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 15:46:15 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 15:46:15 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 15:46:15 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 15:46:15 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 15:46:15 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 15:46:15 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 15:46:15 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 15:46:15 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 15:46:15 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 15:46:15 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 15:46:15 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 15:46:15 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 15:46:15 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 15:46:15 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 9ms
2025-01-11 15:46:15 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 15:46:15 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 15:46:15 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 15:46:15 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 15:46:15 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 15:46:15 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 19ms
2025-01-11 15:46:15 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 15:46:15 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 15:46:15 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 15:46:15 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 15:46:15 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 15:46:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 15:46:52 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 15:46:52 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 15:46:52 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 15:46:52 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 15:46:52 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 15:46:52 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 15:46:52 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 15:46:52 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 15:46:52 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 15:46:52 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 15:46:52 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 15:46:52 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 15:46:52 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 15:46:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 15:46:52 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 15:46:52 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 15:46:52 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 15:46:52 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 15:46:52 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 15:46:52 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 15:46:52 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 15:46:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 15:46:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 15:46:52 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 15:46:52 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 15:46:52 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 15:46:52 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 15:46:52 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 15:46:52 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 15:46:52 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 36ms
2025-01-11 15:46:52 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 35ms
2025-01-11 15:46:52 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 15:46:52 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 15:46:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 15:46:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 15:46:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 15:46:52 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 15:46:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 15:46:52 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 15:46:52 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 15:46:52 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 15:48:08 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 15:48:08 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 15:48:08 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 15:48:08 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 15:48:08 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 15:48:08 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 15:48:08 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 15:48:08 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 15:48:08 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 15:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 15:48:08 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 15:48:08 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 15:48:08 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 15:48:08 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 15:48:08 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 15:48:08 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 15:48:08 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 15:48:08 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 15:48:08 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 15:48:08 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 15:48:08 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 15:48:08 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 15:48:08 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 15:48:08 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 15:48:08 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 15:48:08 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 15:48:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 15:48:08 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 15:48:08 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 15:48:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 15:48:08 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 17ms
2025-01-11 15:48:08 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 15:48:08 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 15:48:08 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 12ms
2025-01-11 15:48:08 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 15:48:08 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 15:48:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 15:48:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 15:48:08 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 15:48:08 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 15:48:08 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 15:48:08 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 15:48:14 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 15:48:14 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 15:48:14 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 15:48:14 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 15:48:14 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 15:48:14 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 15:48:14 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 15:48:14 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 15:48:14 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 15:48:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 15:48:14 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 15:48:14 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 15:48:14 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 15:48:14 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 15:48:14 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 15:48:14 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 15:48:14 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 15:48:14 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 15:48:14 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 15:48:14 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 15:48:14 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 15:48:14 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 15:48:14 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 15:48:14 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 15:48:14 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 15:48:14 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 15:48:14 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 15:48:14 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 15:48:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 15:48:14 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 15:48:14 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 17ms
2025-01-11 15:48:14 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 15:48:14 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 15:48:14 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 15:48:14 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 19ms
2025-01-11 15:48:14 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 15:48:14 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 15:48:14 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 15:48:14 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 15:48:14 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 15:48:14 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 15:48:14 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 15:50:00 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 15:50:00 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 15:50:00 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 15:50:00 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 15:50:00 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 15:50:00 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 15:50:00 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 15:50:00 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 15:50:00 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 15:50:00 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 15:50:00 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 15:50:00 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 15:50:00 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 15:50:00 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 15:50:00 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 15:50:00 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 15:50:00 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 15:50:00 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 15:50:00 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 15:50:00 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 15:50:00 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 15:50:00 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 15:50:00 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 15:50:00 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 15:50:00 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 15:50:00 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 15:50:00 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 15:50:00 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 15:50:00 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 15:50:00 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 15:50:00 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 13ms
2025-01-11 15:50:00 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 15:50:00 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 15:50:00 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 15:50:00 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 15:50:00 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 15:50:00 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 23ms
2025-01-11 15:50:00 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 15:50:00 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 15:50:00 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 15:50:00 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 15:50:00 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 15:52:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 15:52:36 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 15:52:36 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 15:52:36 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 15:52:36 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 15:52:36 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 15:52:36 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 15:52:36 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 15:52:36 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 15:52:36 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 15:52:36 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 15:52:36 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 15:52:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 15:52:36 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 15:52:36 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 15:52:36 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 15:52:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 15:52:36 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 15:52:36 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 15:52:36 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 15:52:36 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 15:52:36 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 15:52:36 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 15:52:36 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 15:52:36 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 15:52:36 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 15:52:36 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 15:52:36 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 15:52:36 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 15:52:36 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 15:52:36 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 97ms
2025-01-11 15:52:36 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 15:52:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 15:52:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 15:52:36 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 15:52:36 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 15:52:37 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 145ms
2025-01-11 15:52:37 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 15:52:37 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 15:52:37 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 15:52:37 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 15:52:37 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 15:53:32 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 15:53:32 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 15:53:32 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 15:53:32 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 15:53:32 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 15:53:32 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 15:53:32 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 15:53:32 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 15:53:33 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 15:53:33 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 15:53:33 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 15:53:33 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 15:53:33 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 15:53:33 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 15:53:33 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 15:53:33 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 15:53:33 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 15:53:33 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 15:56:52 [main] INFO  c.g.a.chatgenius.Application - Starting Application using Java 21.0.3 with PID 13216 (C:\Users\Agustin\Gauntlet\ChatGenius2\backend\build\classes\java\main started by Agustin in C:\Users\Agustin\Gauntlet\ChatGenius2)
2025-01-11 15:56:52 [main] DEBUG c.g.a.chatgenius.Application - Running with Spring Boot v3.2.2, Spring v6.1.3
2025-01-11 15:56:52 [main] INFO  c.g.a.chatgenius.Application - The following 1 profile is active: "dev"
2025-01-11 15:56:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-11 15:56:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 204 ms. Found 4 JPA repository interfaces.
2025-01-11 15:57:02 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-01-11 15:57:02 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-11 15:57:02 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.18]
2025-01-11 15:57:03 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-11 15:57:03 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 10109 ms
2025-01-11 15:57:04 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-11 15:57:04 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2025-01-11 15:57:04 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-11 15:57:05 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-11 15:57:05 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-11 15:57:09 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-11 15:57:09 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-11 15:57:10 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3a00237d
2025-01-11 15:57:10 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-01-11 15:57:12 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-11 15:57:13 [main] DEBUG c.g.a.c.security.ClerkAuthFilter - Filter 'clerkAuthFilter' configured for use
2025-01-11 15:57:13 [main] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Filter 'logFilter' configured for use
2025-01-11 15:57:13 [main] DEBUG c.g.a.c.c.RequestLoggingConfig$1 - Filter 'corsLoggingFilter' configured for use
2025-01-11 15:57:13 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-11 15:57:18 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 8afcfa03-a056-4e81-abc4-1222fdd59b59

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-01-11 15:57:19 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws/**] in 'stompWebSocketHandlerMapping'
2025-01-11 15:57:20 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 22 mappings in 'requestMappingHandlerMapping'
2025-01-11 15:57:20 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-01-11 15:57:20 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@212d8133, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2eb3e308, org.springframework.security.web.context.SecurityContextHolderFilter@78a4764f, org.springframework.security.web.header.HeaderWriterFilter@176630ee, org.springframework.web.filter.CorsFilter@3551aa2e, org.springframework.security.web.csrf.CsrfFilter@379bc95e, org.springframework.security.web.authentication.logout.LogoutFilter@7fa1004, com.gauntletai.agustinbiondi.chatgenius.security.ClerkAuthFilter@565030b7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4bb44322, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3c176ee, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1c98d788, org.springframework.security.web.session.SessionManagementFilter@3dee7142, org.springframework.security.web.access.ExceptionTranslationFilter@5c9aff2, org.springframework.security.web.access.intercept.AuthorizationFilter@63214338]
2025-01-11 15:57:20 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.g.a.c.c.ChannelController:
	
2025-01-11 15:57:21 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.g.a.c.c.ClerkWebhookController:
	
2025-01-11 15:57:21 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.g.a.c.c.DevUserController:
	
2025-01-11 15:57:21 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.g.a.c.c.UserController:
	
2025-01-11 15:57:21 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.g.a.c.c.WebSocketController:
	{[MESSAGE],[/channels/{channelId}/messages]}: handleMessage(UUID,MessageDTO,Principal)
	{[MESSAGE],[/channels/{channelId}/typing]}: handleTypingEvent(UUID,Principal)
2025-01-11 15:57:21 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.b.a.w.s.e.BasicErrorController:
	
2025-01-11 15:57:21 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-01-11 15:57:21 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-01-11 15:57:22 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-01-11 15:57:22 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-11 15:57:22 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-01-11 15:57:22 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-01-11 15:57:22 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-01-11 15:57:22 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-01-11 15:53:33 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 15:53:33 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 15:55:15 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 15:55:36 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 15:55:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 15:57:56 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 15:57:56 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 15:57:56 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 15:55:15 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 15:57:56 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 15:57:56 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 15:57:56 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 15:57:56 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 15:57:56 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 15:57:56 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 15:57:56 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 15:57:56 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 15:57:56 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 15:57:56 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 15:57:56 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 15:57:56 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 15:57:56 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 15:59:54 [main] INFO  c.g.a.chatgenius.Application - Starting Application using Java 21.0.3 with PID 33616 (C:\Users\Agustin\Gauntlet\ChatGenius2\backend\build\classes\java\main started by Agustin in C:\Users\Agustin\Gauntlet\ChatGenius2)
2025-01-11 15:59:54 [main] DEBUG c.g.a.chatgenius.Application - Running with Spring Boot v3.2.2, Spring v6.1.3
2025-01-11 15:59:54 [main] INFO  c.g.a.chatgenius.Application - The following 1 profile is active: "dev"
2025-01-11 15:59:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-11 15:59:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 124 ms. Found 4 JPA repository interfaces.
2025-01-11 15:59:57 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-01-11 15:59:57 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-11 15:59:57 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.18]
2025-01-11 15:59:57 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-11 15:59:57 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2963 ms
2025-01-11 15:59:58 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-11 15:59:58 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2025-01-11 15:59:58 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-11 15:59:58 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-11 15:59:58 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-11 16:00:00 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-11 16:00:00 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-11 16:00:01 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@bc88295
2025-01-11 16:00:01 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-01-11 16:00:01 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-11 16:00:02 [main] DEBUG c.g.a.c.security.ClerkAuthFilter - Filter 'clerkAuthFilter' configured for use
2025-01-11 16:00:02 [main] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Filter 'logFilter' configured for use
2025-01-11 16:00:02 [main] DEBUG c.g.a.c.c.RequestLoggingConfig$1 - Filter 'corsLoggingFilter' configured for use
2025-01-11 16:00:02 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-11 16:00:03 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 7538607e-2164-4c10-a66b-5edb1c36bf74

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-01-11 16:00:03 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws/**] in 'stompWebSocketHandlerMapping'
2025-01-11 16:00:03 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 22 mappings in 'requestMappingHandlerMapping'
2025-01-11 16:00:03 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-01-11 16:00:03 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@58d33d5d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@22d9558, org.springframework.security.web.context.SecurityContextHolderFilter@59a9769e, org.springframework.security.web.header.HeaderWriterFilter@4080ea09, org.springframework.web.filter.CorsFilter@5c4b4c4d, org.springframework.security.web.csrf.CsrfFilter@74f70a7b, org.springframework.security.web.authentication.logout.LogoutFilter@bf56981, com.gauntletai.agustinbiondi.chatgenius.security.ClerkAuthFilter@752fecbf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4cc3e43d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3fef9832, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6342aaab, org.springframework.security.web.session.SessionManagementFilter@ef10390, org.springframework.security.web.access.ExceptionTranslationFilter@7238072e, org.springframework.security.web.access.intercept.AuthorizationFilter@3551aa2e]
2025-01-11 16:00:04 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.g.a.c.c.ChannelController:
	
2025-01-11 16:00:04 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.g.a.c.c.ClerkWebhookController:
	
2025-01-11 16:00:04 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.g.a.c.c.DevUserController:
	
2025-01-11 16:00:04 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.g.a.c.c.UserController:
	
2025-01-11 16:00:04 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.g.a.c.c.WebSocketController:
	{[MESSAGE],[/channels/{channelId}/messages]}: handleMessage(UUID,MessageDTO,Principal)
	{[MESSAGE],[/channels/{channelId}/typing]}: handleTypingEvent(UUID,Principal)
2025-01-11 16:00:04 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.b.a.w.s.e.BasicErrorController:
	
2025-01-11 16:00:04 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-01-11 16:00:04 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-01-11 16:00:04 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-01-11 16:00:04 [main] DEBUG org.springframework.web.SimpLogging - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-01-11 16:00:04 [main] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-01-11 16:00:04 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-01-11 16:00:04 [main] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1d9f9c9d]
2025-01-11 16:00:04 [main] DEBUG org.springframework.web.SimpLogging - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1d9f9c9d]
2025-01-11 16:00:04 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1d9f9c9d]]
2025-01-11 16:00:04 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-01-11 16:00:04 [main] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-01-11 16:00:04 [main] DEBUG org.springframework.web.SimpLogging - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-01-11 16:00:04 [main] INFO  c.g.a.chatgenius.Application - Started Application in 10.969 seconds (process running for 11.545)
2025-01-11 16:01:04 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-01-11 16:01:20 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-11 16:01:20 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-01-11 16:01:20 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-01-11 16:01:20 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-01-11 16:01:20 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-01-11 16:01:20 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4cd47801
2025-01-11 16:01:20 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@70787658
2025-01-11 16:01:20 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='true': request parameters and headers will be shown which may lead to unsafe logging of potentially sensitive data
2025-01-11 16:01:20 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-01-11 16:01:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 16:01:20 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 16:01:21 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 16:01:21 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 16:01:21 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:01:21 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:01:21 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:01:21 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:01:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:01:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:01:21 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:01:21 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 16:01:21 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:01:21 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 16:01:21 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 16:01:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 16:01:22 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 16:01:22 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 16:01:22 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 16:01:22 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 16:01:22 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 16:01:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 16:01:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 16:01:22 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 16:01:22 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 16:01:22 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 16:01:22 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:01:22 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:01:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 16:01:22 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 16:01:22 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 129ms
2025-01-11 16:01:22 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 16:01:22 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 140ms
2025-01-11 16:01:22 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 16:01:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:01:22 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:01:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 16:01:22 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 16:01:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:01:22 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 16:01:22 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:01:22 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 16:02:38 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 16:02:38 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 16:02:38 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:02:38 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:02:38 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 16:02:38 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 16:02:38 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:02:38 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:02:38 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:02:38 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:02:38 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 16:02:38 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 16:02:38 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 16:02:38 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:02:38 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 16:02:38 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 16:02:38 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 16:02:38 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 16:02:38 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:02:38 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 16:02:38 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:02:38 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 13ms
2025-01-11 16:02:38 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 16:02:38 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 16:02:38 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 16:02:38 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:02:38 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 16:02:38 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 16:02:38 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 16:02:38 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 16:02:38 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:02:38 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 16:02:38 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 16:02:38 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 16:02:38 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:02:38 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 16:02:38 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 18ms
2025-01-11 16:02:38 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 16:02:38 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:02:38 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 16:02:38 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:02:38 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 16:03:19 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 16:03:19 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 16:03:19 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 16:03:19 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:03:19 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 16:03:19 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:03:19 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:03:19 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:03:19 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:03:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:03:19 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:03:19 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:03:19 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 16:03:19 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 16:03:19 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 16:03:19 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 16:03:19 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 16:03:19 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 16:03:19 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 16:03:19 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 16:03:19 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 16:03:19 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 16:03:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 16:03:19 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 16:03:19 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 16:03:19 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 16:03:19 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:03:19 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:03:19 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 16:03:19 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 16:03:19 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 20ms
2025-01-11 16:03:19 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 16:03:19 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 22ms
2025-01-11 16:03:19 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:03:19 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 16:03:19 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 16:03:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:03:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 16:03:19 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:03:19 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 16:03:19 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:03:19 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 16:04:31 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 16:04:31 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 16:04:31 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:04:31 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:04:31 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 16:04:31 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 16:04:31 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:04:31 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:04:31 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:04:31 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:04:31 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:04:31 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 16:04:31 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 16:04:31 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 16:04:31 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 16:04:31 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 16:04:31 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 16:04:31 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 16:04:31 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:04:31 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 16:04:31 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:04:31 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 16:04:31 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 16:04:31 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 16:04:31 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 16:04:31 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 16:04:31 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 16:04:31 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 16:04:31 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:04:31 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 16:04:31 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 26ms
2025-01-11 16:04:31 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 10ms
2025-01-11 16:04:31 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 16:04:31 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 16:04:31 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:04:31 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:04:31 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 16:04:31 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 16:04:31 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:04:31 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 16:04:31 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:04:31 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 16:06:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 16:06:36 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 16:06:36 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:06:36 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:06:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 16:06:36 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 16:06:36 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:06:36 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:06:36 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:06:36 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:06:36 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:06:36 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 16:06:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 16:06:36 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 16:06:36 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 16:06:36 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 16:06:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 16:06:36 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 16:06:36 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:06:36 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:06:36 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 16:06:36 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 16:06:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 16:06:36 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 16:06:36 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 16:06:36 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 16:06:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 16:06:36 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 16:06:36 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:06:36 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 16:06:36 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 9ms
2025-01-11 16:06:36 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 17ms
2025-01-11 16:06:36 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 16:06:36 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 16:06:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:06:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:06:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 16:06:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 16:06:36 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:06:36 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:06:36 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 16:06:36 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 16:07:28 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 16:07:28 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 16:07:28 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 16:07:28 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:07:28 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:07:28 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 16:07:28 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:07:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:07:28 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:07:28 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:07:28 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:07:28 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 16:07:28 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 16:07:28 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 16:07:28 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 16:07:28 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 16:07:28 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 16:07:28 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 16:07:28 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:07:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 16:07:28 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:07:28 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 16:07:28 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 16:07:28 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 16:07:28 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 16:07:28 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 16:07:28 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 16:07:28 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 16:07:28 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 10ms
2025-01-11 16:07:28 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:07:28 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 16:07:28 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:07:28 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 16:07:28 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 16:07:28 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:07:28 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 16:07:28 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 11ms
2025-01-11 16:07:28 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 16:07:28 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:07:28 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 16:07:28 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:07:28 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 16:15:12 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/channels/public
2025-01-11 16:15:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 16:15:12 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 16:15:12 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:15:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 16:15:12 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:15:12 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 16:15:12 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:15:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:15:12 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:15:12 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:15:12 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:15:12 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 16:15:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 16:15:12 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 16:15:12 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 16:15:12 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 16:15:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 16:15:12 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 16:15:12 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:15:12 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:15:12 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 16:15:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 16:15:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 16:15:12 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 16:15:12 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 16:15:12 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 16:15:12 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 16:15:12 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 16:15:12 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:15:12 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 16:15:12 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 13ms
2025-01-11 16:15:12 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 16:15:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:15:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 16:15:12 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:15:12 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 16:15:12 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 15ms
2025-01-11 16:15:12 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 16:15:12 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:15:12 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 16:15:12 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:15:12 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 16:16:01 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 16:16:01 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 16:16:01 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:16:01 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:16:01 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 16:16:01 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 16:16:01 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:16:01 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:16:01 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:16:01 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:16:01 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:16:01 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 16:16:01 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:16:01 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 16:16:01 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 16:16:01 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 16:16:01 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 16:16:01 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 16:16:01 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 16:16:01 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 16:16:01 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 16:16:01 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 16:16:01 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 16:16:01 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 16:16:01 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 16:16:01 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 16:16:01 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:16:01 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:16:01 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 16:16:01 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 16:16:01 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 10ms
2025-01-11 16:16:01 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 16:16:01 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:16:01 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 16:16:01 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:16:01 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 16:16:01 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 20ms
2025-01-11 16:16:01 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 16:16:01 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:16:01 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 16:16:01 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:16:01 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 16:17:23 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:17:23 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:17:23 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:17:23 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:17:23 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:17:23 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:17:23 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:17:23 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:17:23 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:17:23 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:17:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:17:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:17:23 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:17:23 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:17:27 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:17:27 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:17:27 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:17:27 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:17:27 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:17:27 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:17:27 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:17:27 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 16:17:27 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:17:27 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:17:27 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 16:17:27 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:17:27 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:17:27 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:17:27 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:17:27 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:17:27 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:17:27 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:17:27 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:17:27 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:17:27 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 16:17:27 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 16:17:27 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 16:17:27 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 16:17:27 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 16:17:27 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 16:17:27 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 16:17:27 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:17:27 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 16:17:27 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 10ms
2025-01-11 16:17:27 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 16:17:27 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:17:27 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 16:17:27 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:17:27 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 16:17:27 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 16:17:27 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 16:17:27 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:17:27 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:17:27 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:17:27 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:17:27 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 16:17:27 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 16:17:27 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 16:17:27 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 16:17:27 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 16:17:27 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 16:17:27 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 16:17:27 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:17:27 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 16:17:27 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 8ms
2025-01-11 16:17:27 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 16:17:27 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:17:27 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 16:17:27 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:17:27 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 16:17:32 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:17:32 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:17:32 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:17:32 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:17:32 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:17:32 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:17:32 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:17:32 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:17:32 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:17:32 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:17:32 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:17:32 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:17:32 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:17:32 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:17:38 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:17:38 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:17:38 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:17:38 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:17:38 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:17:38 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:17:38 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:17:38 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:17:38 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:17:38 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:17:38 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:17:38 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:17:38 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:17:38 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:17:44 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:17:44 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:17:44 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:17:44 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:17:44 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:17:44 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:17:44 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:17:44 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:17:44 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:17:44 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:17:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:17:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:17:44 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:17:44 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:17:50 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:17:50 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:17:50 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:17:50 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:17:50 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:17:50 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:17:50 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:17:50 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:17:50 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:17:50 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:17:50 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:17:50 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:17:50 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:17:50 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:17:56 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:17:56 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:17:56 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:17:56 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:17:56 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:17:56 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:17:56 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:17:56 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:17:56 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:17:56 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:17:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:17:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:17:57 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:17:57 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:18:01 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:18:01 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:18:01 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:18:01 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:18:01 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:18:01 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:18:01 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:18:01 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 16:18:01 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 16:18:01 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 16:18:01 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:18:01 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:18:01 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:18:01 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 16:18:01 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:18:01 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:18:01 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:18:01 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:18:01 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:18:01 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:18:01 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:18:01 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:18:01 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:18:01 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 16:18:01 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 16:18:01 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:18:01 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 16:18:01 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:18:01 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:18:01 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 16:18:01 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 16:18:01 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 16:18:01 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 16:18:01 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 16:18:01 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 16:18:01 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 16:18:01 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 16:18:01 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 16:18:01 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:18:01 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 16:18:01 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 16:18:01 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:18:01 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 16:18:01 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 16:18:01 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 21ms
2025-01-11 16:18:01 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 16:18:01 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:18:01 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 16:18:01 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:18:01 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 16:18:01 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 25ms
2025-01-11 16:18:01 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 16:18:01 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:18:01 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 16:18:01 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:18:01 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 16:18:06 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:18:06 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:18:06 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:18:06 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:18:06 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:18:06 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:18:06 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:18:06 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:18:06 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:18:06 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:18:06 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:18:06 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:18:06 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:18:06 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:18:11 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:18:11 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:18:11 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:18:11 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:18:11 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:18:11 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:18:11 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:18:11 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:18:11 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:18:11 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:18:11 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:18:11 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:18:11 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:18:11 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:18:17 [main] INFO  c.g.a.chatgenius.Application - Starting Application using Java 21.0.3 with PID 17268 (C:\Users\Agustin\Gauntlet\ChatGenius2\backend\build\classes\java\main started by Agustin in C:\Users\Agustin\Gauntlet\ChatGenius2)
2025-01-11 16:18:17 [main] DEBUG c.g.a.chatgenius.Application - Running with Spring Boot v3.2.2, Spring v6.1.3
2025-01-11 16:18:17 [main] INFO  c.g.a.chatgenius.Application - The following 1 profile is active: "dev"
2025-01-11 16:18:19 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-11 16:18:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 129 ms. Found 4 JPA repository interfaces.
2025-01-11 16:18:22 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-01-11 16:18:22 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-11 16:18:22 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.18]
2025-01-11 16:18:22 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-11 16:18:22 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5282 ms
2025-01-11 16:18:24 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-11 16:18:24 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2025-01-11 16:18:24 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-11 16:18:25 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-11 16:18:25 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-11 16:18:27 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-11 16:18:27 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-11 16:18:27 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@10cb5047
2025-01-11 16:18:27 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-01-11 16:18:27 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-11 16:18:28 [main] DEBUG c.g.a.c.security.ClerkAuthFilter - Filter 'clerkAuthFilter' configured for use
2025-01-11 16:18:28 [main] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Filter 'logFilter' configured for use
2025-01-11 16:18:28 [main] DEBUG c.g.a.c.c.RequestLoggingConfig$1 - Filter 'corsLoggingFilter' configured for use
2025-01-11 16:18:28 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-11 16:18:29 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 8636cb01-b527-4ddc-9600-3fbbf77242b0

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-01-11 16:18:30 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws/**] in 'stompWebSocketHandlerMapping'
2025-01-11 16:18:30 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 22 mappings in 'requestMappingHandlerMapping'
2025-01-11 16:18:30 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-01-11 16:18:30 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@606beba4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58d33d5d, org.springframework.security.web.context.SecurityContextHolderFilter@4ddf2447, org.springframework.security.web.header.HeaderWriterFilter@5ae9ea0a, org.springframework.web.filter.CorsFilter@22d9558, org.springframework.security.web.csrf.CsrfFilter@59e83ff0, org.springframework.security.web.authentication.logout.LogoutFilter@7cb8ae89, com.gauntletai.agustinbiondi.chatgenius.security.ClerkAuthFilter@1b08d26f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5e4c74ec, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@239678d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5c4b4c4d, org.springframework.security.web.session.SessionManagementFilter@78a4764f, org.springframework.security.web.access.ExceptionTranslationFilter@176630ee, org.springframework.security.web.access.intercept.AuthorizationFilter@2eb3e308]
2025-01-11 16:18:30 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.g.a.c.c.ChannelController:
	
2025-01-11 16:18:30 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.g.a.c.c.ClerkWebhookController:
	
2025-01-11 16:18:30 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.g.a.c.c.DevUserController:
	
2025-01-11 16:18:30 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.g.a.c.c.UserController:
	
2025-01-11 16:18:30 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.g.a.c.c.WebSocketController:
	{[MESSAGE],[/channels/{channelId}/messages]}: handleMessage(UUID,MessageDTO,Principal)
	{[MESSAGE],[/channels/{channelId}/typing]}: handleTypingEvent(UUID,Principal)
2025-01-11 16:18:31 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.b.a.w.s.e.BasicErrorController:
	
2025-01-11 16:18:31 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-01-11 16:18:31 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-01-11 16:18:32 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-01-11 16:18:32 [main] DEBUG org.springframework.web.SimpLogging - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-01-11 16:18:32 [main] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-01-11 16:18:32 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-01-11 16:18:32 [main] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2bbadc1]
2025-01-11 16:18:32 [main] DEBUG org.springframework.web.SimpLogging - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2bbadc1]
2025-01-11 16:18:32 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2bbadc1]]
2025-01-11 16:18:32 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-01-11 16:18:32 [main] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-01-11 16:18:32 [main] DEBUG org.springframework.web.SimpLogging - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-01-11 16:18:32 [main] INFO  c.g.a.chatgenius.Application - Started Application in 16.568 seconds (process running for 17.502)
2025-01-11 16:18:35 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-11 16:18:35 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-01-11 16:18:35 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-01-11 16:18:35 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-01-11 16:18:35 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-01-11 16:18:35 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4fe256c0
2025-01-11 16:18:35 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@46b5b238
2025-01-11 16:18:35 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='true': request parameters and headers will be shown which may lead to unsafe logging of potentially sensitive data
2025-01-11 16:18:35 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 7 ms
2025-01-11 16:18:35 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:18:35 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:18:35 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:18:35 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:18:35 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:18:35 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:18:35 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:18:35 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:18:35 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:18:35 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:18:35 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:18:35 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:18:35 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:18:35 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:18:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:18:40 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:18:40 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:18:40 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:18:40 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:18:40 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:18:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:18:40 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:18:40 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:18:40 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:18:40 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:18:40 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:18:40 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:18:40 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:18:46 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:18:46 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:18:46 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:18:46 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:18:46 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:18:46 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:18:46 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:18:46 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:18:46 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:18:46 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:18:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:18:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:18:46 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:18:46 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:18:52 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:18:52 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:18:52 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:18:52 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:18:52 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:18:52 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:18:52 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:18:52 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:18:52 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:18:52 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:18:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:18:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:18:52 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:18:52 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:18:58 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:18:58 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:18:58 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:18:58 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:18:58 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:18:58 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:18:58 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:18:58 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:18:58 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:18:58 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:18:58 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:18:58 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:18:58 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:18:58 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:19:04 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:19:04 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:19:04 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:19:04 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:19:04 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:19:04 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:19:04 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:19:04 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:19:04 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:19:04 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:19:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:19:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:19:04 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:19:04 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:19:11 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:19:11 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:19:11 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:19:11 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:19:11 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 16:19:11 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 16:19:11 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 16:19:11 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:19:11 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:19:11 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:19:11 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 16:19:11 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:19:11 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:19:11 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:19:11 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:19:11 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:19:11 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:19:11 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:19:11 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:19:11 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:19:12 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:19:12 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:19:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:19:12 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:19:12 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:19:12 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:19:12 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 16:19:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 16:19:12 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 16:19:12 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 16:19:12 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 16:19:12 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 16:19:12 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 16:19:12 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 16:19:12 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 16:19:12 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:19:12 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 16:19:13 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 16:19:13 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 16:19:13 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 16:19:13 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 16:19:13 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:19:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 16:19:13 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 16:19:13 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 33ms
2025-01-11 16:19:13 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 206ms
2025-01-11 16:19:13 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 16:19:13 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 16:19:13 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:19:13 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:19:13 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 16:19:13 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 16:19:13 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:19:13 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 16:19:13 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:19:13 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 16:19:16 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:19:16 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:19:16 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:19:16 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:19:16 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:19:16 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:19:16 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:19:16 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:19:16 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:19:16 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:19:16 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:19:16 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:19:16 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:19:16 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:19:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:19:21 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:19:21 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:19:21 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:19:21 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:19:21 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:19:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:19:21 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:19:21 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:19:21 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:19:21 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:19:21 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:19:21 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:19:21 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:19:26 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:19:26 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:19:26 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:19:26 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:19:26 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:19:26 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:19:26 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:19:26 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:19:26 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:19:26 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:19:26 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:19:26 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:19:26 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:19:26 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:19:32 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:19:32 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:19:32 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:19:32 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:19:32 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:19:32 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:19:32 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:19:32 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:19:32 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:19:32 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:19:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:19:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:19:32 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:19:32 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:19:32 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-01-11 16:19:37 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:19:37 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:19:37 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:19:37 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:19:37 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:19:37 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:19:37 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:19:37 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:19:37 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:19:37 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:19:37 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:19:37 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:19:37 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:19:37 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:19:43 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:19:43 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:19:43 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:19:43 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:19:43 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:19:43 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:19:43 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:19:43 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:19:43 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:19:43 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:19:43 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:19:43 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:19:43 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:19:43 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:19:49 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:19:49 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:19:49 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:19:49 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:19:49 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:19:49 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:19:49 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:19:49 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:19:49 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:19:49 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:19:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:19:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:19:49 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:19:49 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:19:55 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:19:55 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:19:55 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:19:55 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:19:55 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:19:55 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:19:55 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:19:55 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:19:55 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:19:55 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:19:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:19:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:19:55 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:19:55 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:20:01 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:20:01 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:20:01 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:20:01 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:20:01 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:20:01 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:20:01 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:20:01 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:20:01 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:20:01 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:20:01 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:20:01 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:20:01 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:20:01 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:20:07 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:20:07 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:20:07 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:20:07 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:20:07 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:20:07 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:20:07 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:20:07 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:20:07 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:20:07 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:20:07 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:20:07 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:20:07 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:20:07 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:20:13 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:20:13 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:20:13 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:20:13 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:20:13 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:20:13 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:20:13 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:20:13 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:20:13 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:20:13 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:20:13 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:20:13 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:20:13 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:20:13 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:20:19 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:20:19 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:20:19 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:20:19 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:20:19 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:20:19 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:20:19 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:20:19 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:20:19 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:20:19 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:20:19 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:20:19 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:20:19 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:20:19 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:20:25 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:20:25 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:20:25 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:20:25 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:20:25 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:20:25 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:20:25 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:20:25 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:20:25 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:20:25 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:20:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:20:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:20:25 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:20:25 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:20:31 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:20:31 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:20:31 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:20:31 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:20:31 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:20:31 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:20:31 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:20:31 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:20:31 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:20:31 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:20:31 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:20:31 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:20:31 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:20:31 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:20:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:20:36 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:20:36 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:20:36 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:20:36 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:20:36 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:20:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:20:36 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:20:36 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:20:36 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:20:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:20:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:20:36 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:20:36 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:20:42 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:20:42 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:20:42 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:20:42 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:20:42 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:20:42 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:20:42 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:20:42 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:20:42 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:20:42 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:20:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:20:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:20:42 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:20:42 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:20:47 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:20:47 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:20:47 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:20:47 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:20:47 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:20:47 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:20:47 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:20:47 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:20:47 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:20:47 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:20:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:20:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:20:47 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:20:47 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:20:52 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:20:52 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:20:52 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:20:52 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:20:52 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:20:52 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:20:52 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:20:52 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:20:52 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:20:52 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:20:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:20:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:20:52 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:20:52 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:20:57 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:20:57 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:20:57 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:20:57 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:20:57 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:20:57 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:20:57 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:20:57 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:20:57 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:20:57 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:20:57 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:20:57 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:20:57 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:20:57 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:21:02 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:21:02 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:21:02 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:21:02 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:21:02 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:21:02 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:21:02 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:21:02 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:21:02 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:21:02 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:21:02 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:21:02 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:21:02 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:21:03 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:21:08 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:21:08 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:21:08 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:21:08 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:21:08 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:21:08 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:21:08 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:21:08 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:21:08 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:21:08 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:21:08 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:21:08 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:21:08 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:21:08 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:21:13 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:21:13 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:21:13 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:21:13 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:21:13 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:21:13 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:21:13 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:21:13 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:21:13 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:21:13 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:21:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:21:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:21:13 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:21:13 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:21:18 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:21:18 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:21:18 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:21:18 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:21:18 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:21:18 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:21:18 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:21:18 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:21:18 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:21:18 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:21:18 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:21:18 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:21:18 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:21:18 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:21:23 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:21:23 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:21:23 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:21:23 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:21:23 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:21:23 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:21:23 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:21:23 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:21:23 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:21:23 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:21:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:21:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:21:23 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:21:23 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:21:28 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:21:28 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:21:28 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:21:28 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:21:28 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:21:28 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:21:28 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:21:28 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:21:28 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:21:28 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:21:28 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:21:28 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:21:28 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:21:28 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:21:33 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:21:33 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:21:33 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:21:33 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:21:33 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:21:33 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:21:33 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:21:33 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:21:33 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:21:33 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:21:33 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:21:33 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:21:33 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:21:33 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:21:38 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:21:38 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:21:38 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:21:38 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:21:38 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:21:38 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:21:38 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:21:38 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:21:38 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:21:38 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:21:38 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:21:38 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:21:38 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:21:38 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:21:43 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:21:43 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:21:43 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:21:43 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:21:43 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:21:43 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:21:43 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:21:43 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:21:43 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:21:43 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:21:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:21:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:21:43 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:21:43 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:21:49 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:21:49 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:21:49 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:21:49 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:21:49 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:21:49 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:21:49 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:21:49 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:21:49 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:21:49 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:21:49 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:21:49 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:21:49 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:21:49 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:21:55 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:21:55 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:21:55 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:21:55 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:21:55 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:21:55 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:21:55 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:21:55 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:21:55 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:21:55 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:21:55 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:21:55 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:21:55 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:21:55 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:22:01 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:22:01 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:22:01 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:22:01 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:22:01 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:22:01 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:22:01 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:22:01 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:22:01 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:22:01 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:22:01 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:22:01 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:22:01 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:22:01 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:22:07 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:22:07 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:22:07 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:22:07 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:22:07 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:22:07 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:22:07 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:22:07 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:22:07 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:22:07 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:22:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:22:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:22:07 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:22:07 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:22:13 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:22:13 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:22:13 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:22:13 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:22:13 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:22:13 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:22:13 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:22:13 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:22:13 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:22:13 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:22:13 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:22:13 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:22:13 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:22:13 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:22:19 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:22:19 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:22:19 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:22:19 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:22:19 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:22:19 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:22:19 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:22:19 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:22:19 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:22:19 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:22:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:22:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:22:19 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:22:19 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:22:29 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 16:22:29 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 16:22:29 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:22:29 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:22:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:22:29 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:22:29 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 16:22:29 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 16:22:29 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 16:22:29 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 16:22:29 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 16:22:29 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 16:22:29 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 16:22:29 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:22:29 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 16:22:29 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 16:22:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 16:22:29 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:22:29 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:22:29 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 12ms
2025-01-11 16:22:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:22:29 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 16:22:29 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:22:29 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 16:22:29 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:22:29 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 16:22:29 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:22:29 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 16:22:29 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 16:22:29 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 16:22:29 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 16:22:29 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 16:22:29 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 16:22:29 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 16:22:29 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:22:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 16:22:29 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 8ms
2025-01-11 16:22:29 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 16:22:29 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:22:29 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 16:22:29 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:22:29 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 16:22:34 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:22:34 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:22:34 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:22:34 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:22:34 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:22:34 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:22:34 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:22:34 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:22:34 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:22:34 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:22:34 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:22:34 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:22:34 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:22:34 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:22:39 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:22:39 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:22:39 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:22:39 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:22:39 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:22:39 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:22:39 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:22:39 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:22:39 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:22:39 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:22:39 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:22:39 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:22:39 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:22:39 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:22:45 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:22:45 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:22:45 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:22:45 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:22:45 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:22:45 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:22:45 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:22:45 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:22:45 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:22:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:22:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:22:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:22:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:22:45 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:22:49 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:22:49 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:22:49 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:22:49 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:22:49 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:22:49 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 16:22:49 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 16:22:49 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:22:49 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 16:22:49 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 16:22:49 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:22:49 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:22:49 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:22:49 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:22:49 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:22:49 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:22:49 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:22:49 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:22:49 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:22:49 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:22:49 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:22:49 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:22:49 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:22:49 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:22:49 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:22:49 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 16:22:49 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 16:22:49 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 16:22:49 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 16:22:49 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 16:22:49 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 16:22:49 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 16:22:49 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:22:49 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 16:22:49 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:22:49 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 16:22:49 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 16:22:49 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 16:22:49 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 16:22:49 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 16:22:49 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 16:22:49 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 16:22:49 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:22:49 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 16:22:49 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 63ms
2025-01-11 16:22:49 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 49ms
2025-01-11 16:22:49 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 16:22:49 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 16:22:49 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:22:49 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:22:49 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 16:22:49 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 16:22:49 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:22:49 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:22:49 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 16:22:49 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 16:22:54 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:22:54 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:22:54 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:22:54 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:22:54 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:22:54 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:22:54 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:22:54 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:22:54 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:22:54 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:22:54 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:22:54 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:22:54 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:22:54 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:22:59 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:22:59 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:22:59 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:22:59 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:22:59 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:22:59 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:22:59 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:22:59 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:22:59 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:22:59 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:22:59 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:22:59 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:22:59 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:22:59 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:23:04 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:23:04 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:23:04 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:23:04 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:23:04 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:23:04 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:23:04 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:23:04 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:23:04 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:23:04 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:23:04 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:23:04 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:23:04 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:23:04 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:23:09 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:23:09 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:23:09 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:23:09 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:23:09 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:23:09 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:23:09 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:23:09 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:23:09 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:23:09 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:23:09 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:23:09 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:23:09 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:23:09 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:23:14 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:23:14 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:23:14 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:23:14 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:23:14 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:23:14 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:23:14 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:23:14 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:23:14 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:23:14 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:23:14 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:23:14 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:23:14 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:23:14 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:23:19 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:23:19 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:23:19 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:23:19 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:23:19 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:23:19 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:23:19 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:23:19 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:23:19 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:23:19 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:23:19 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:23:19 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:23:19 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:23:19 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:23:25 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:23:25 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:23:25 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:23:25 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:23:25 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:23:25 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:23:25 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:23:25 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:23:25 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:23:25 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:23:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:23:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:23:25 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:23:25 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:23:30 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:23:30 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:23:30 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:23:30 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:23:30 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:23:30 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:23:30 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:23:30 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:23:30 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:23:30 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:23:30 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:23:30 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:23:30 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:23:30 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:23:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:23:36 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:23:36 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:23:36 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:23:36 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:23:36 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:23:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:23:36 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:23:36 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:23:36 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:23:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:23:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:23:36 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:23:36 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:23:42 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:23:42 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:23:42 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:23:42 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:23:42 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:23:42 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:23:42 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:23:42 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:23:42 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:23:42 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:23:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:23:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:23:42 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:23:42 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:23:48 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:23:48 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:23:48 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:23:48 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:23:48 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:23:48 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:23:48 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:23:48 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:23:48 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:23:48 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:23:48 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:23:48 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:23:48 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:23:48 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:23:54 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:23:54 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:23:54 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:23:54 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:23:54 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:23:54 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:23:54 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:23:54 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:23:54 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:23:54 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:23:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:23:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:23:54 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:23:54 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:24:00 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:24:00 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:24:00 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:24:00 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:24:00 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:24:00 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:24:00 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:24:00 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:24:00 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:24:00 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:24:00 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:24:00 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:24:00 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:24:00 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:24:06 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:24:06 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:24:06 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:24:06 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:24:06 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:24:06 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:24:06 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:24:06 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:24:06 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:24:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:24:06 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:24:06 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:24:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:24:06 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:24:12 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 16:24:12 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 16:24:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 16:24:12 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 16:24:12 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:24:12 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:24:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:24:12 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:24:12 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:24:12 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:24:12 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:24:12 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:24:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:24:12 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:24:12 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:24:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:24:12 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:24:12 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:24:12 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:24:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:24:12 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:24:12 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:24:12 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:24:12 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 16:24:12 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:24:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 16:24:12 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:24:12 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 16:24:12 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 16:24:12 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 16:24:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 16:24:12 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 16:24:12 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:24:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 16:24:12 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:24:12 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 16:24:12 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 16:24:12 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 16:24:12 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 16:24:12 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 16:24:12 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 16:24:12 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 16:24:12 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:24:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 16:24:12 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 64ms
2025-01-11 16:24:12 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 16:24:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:24:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 16:24:12 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:24:12 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 16:24:12 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 31ms
2025-01-11 16:24:12 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 16:24:12 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:24:12 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 16:24:12 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:24:12 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 16:24:17 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:24:17 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:24:17 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:24:17 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:24:17 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:24:17 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:24:17 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:24:17 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:24:17 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:24:17 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:24:17 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:24:17 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:24:17 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:24:17 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:24:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:24:22 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:24:22 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:24:22 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:24:22 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:24:22 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:24:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:24:22 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:24:22 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:24:22 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:24:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:24:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:24:22 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:24:22 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:24:27 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:24:27 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:24:27 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:24:27 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:24:27 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:24:27 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:24:27 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:24:27 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:24:27 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:24:27 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:24:27 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:24:27 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:24:27 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:24:27 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:24:32 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:24:32 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:24:32 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:24:32 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:24:32 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:24:32 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:24:32 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:24:32 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:24:32 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:24:32 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:24:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:24:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:24:32 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:24:32 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:24:37 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:24:37 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:24:37 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:24:37 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:24:37 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:24:37 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:24:37 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:24:37 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:24:37 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:24:37 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:24:37 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:24:37 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:24:37 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:24:37 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:24:42 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:24:42 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:24:42 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:24:42 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:24:42 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:24:42 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:24:42 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:24:42 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:24:42 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:24:42 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:24:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:24:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:24:42 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:24:42 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:24:47 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:24:47 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:24:47 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:24:48 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:24:48 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:24:48 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:24:48 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:24:48 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:24:48 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:24:48 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:24:48 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:24:48 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:24:48 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:24:48 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:24:53 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:24:53 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:24:53 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:24:53 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:24:53 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:24:53 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:24:53 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:24:53 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:24:53 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:24:53 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:24:53 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:24:53 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:24:53 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:24:53 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:24:58 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:24:58 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:24:58 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:24:58 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:24:58 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:24:58 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:24:58 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:24:58 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:24:58 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:24:58 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:24:58 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:24:58 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:24:58 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:24:58 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:25:03 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:25:03 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:25:03 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:25:03 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:25:03 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:25:03 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:25:03 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:25:03 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:25:03 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:25:03 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:25:03 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:25:03 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:25:03 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:25:03 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:25:08 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:25:08 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:25:08 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:25:08 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:25:08 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:25:08 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:25:08 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:25:08 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:25:08 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:25:08 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:25:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:25:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:25:08 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:25:08 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:25:13 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:25:13 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:25:13 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:25:13 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:25:13 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:25:13 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:25:13 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:25:13 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:25:13 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:25:13 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:25:13 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:25:13 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:25:13 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:25:13 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:25:18 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:25:18 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:25:18 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:25:18 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:25:18 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:25:19 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:25:19 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:25:19 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:25:19 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:25:19 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:25:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:25:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:25:19 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:25:19 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:25:25 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:25:25 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:25:25 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:25:25 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:25:25 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:25:25 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:25:25 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:25:25 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:25:25 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:25:25 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:25:25 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:25:25 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:25:25 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:25:25 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:25:31 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:25:31 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:25:31 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:25:31 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:25:31 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:25:31 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:25:31 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:25:31 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:25:31 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:25:31 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:25:31 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:25:31 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:25:31 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:25:31 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:25:37 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:25:37 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:25:37 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:25:37 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:25:37 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:25:37 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:25:37 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:25:37 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:25:37 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:25:37 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:25:37 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:25:37 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:25:37 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:25:37 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:25:43 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:25:43 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:25:43 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:25:43 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:25:43 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:25:43 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:25:43 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:25:43 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:25:43 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:25:43 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:25:43 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:25:43 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:25:43 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:25:43 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:25:49 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:25:49 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:25:49 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:25:49 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:25:49 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:25:49 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:25:49 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:25:49 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:25:49 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:25:49 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:25:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:25:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:25:49 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:25:49 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:25:55 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:25:55 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:25:55 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:25:55 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:25:55 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:25:55 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:25:55 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:25:55 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:25:55 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:25:55 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:25:55 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:25:55 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:25:55 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:25:55 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:26:02 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:26:02 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:26:02 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:26:02 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:26:02 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:26:02 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:26:02 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:26:02 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:26:02 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:26:02 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:26:02 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:26:02 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:26:02 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:26:02 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:26:08 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:26:08 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:26:08 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:26:08 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:26:08 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:26:08 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:26:08 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:26:08 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:26:08 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:26:08 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:26:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:26:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:26:08 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:26:08 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:26:17 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:26:17 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:26:17 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:26:17 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:26:17 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:26:17 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:26:17 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:26:17 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:26:17 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:26:17 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:26:17 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:26:17 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:26:17 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:26:17 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:26:26 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:26:26 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:26:26 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:26:26 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:26:26 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:26:26 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:26:26 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:26:26 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:26:26 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:26:26 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:26:26 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:26:26 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:26:26 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:26:26 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:26:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:26:36 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:26:36 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:26:36 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:26:36 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:26:36 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:26:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:26:36 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:26:36 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:26:36 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:26:36 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:26:36 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:26:36 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:26:36 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:26:44 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:26:44 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:26:44 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:26:44 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:26:44 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:26:44 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:26:44 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:26:44 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:26:44 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:26:44 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:26:44 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:26:44 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:26:44 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:26:44 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:26:53 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:26:53 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:26:53 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:26:53 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:26:53 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:26:53 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:26:53 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:26:53 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:26:53 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:26:53 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:26:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:26:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:26:53 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:26:53 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:27:03 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:27:03 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:27:03 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:27:03 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:27:03 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:27:03 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:27:03 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:27:03 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:27:03 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:27:03 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:27:03 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:27:03 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:27:03 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:27:03 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:27:13 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws
2025-01-11 16:27:13 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws
2025-01-11 16:27:13 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:27:13 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws
2025-01-11 16:27:13 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:27:13 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:27:13 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws
2025-01-11 16:27:13 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws]
2025-01-11 16:27:13 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws - Origin: http://localhost:5173
2025-01-11 16:27:13 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws", parameters={}
2025-01-11 16:27:13 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:27:13 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws
2025-01-11 16:27:13 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 16:27:13 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws]
2025-01-11 16:27:25 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 16:27:25 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 16:27:25 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 16:27:25 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:27:25 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 16:27:25 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736630845104
2025-01-11 16:27:25 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 16:27:25 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:27:25 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 16:27:25 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:27:25 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:27:25 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:27:25 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:27:25 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:27:25 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736630845104
2025-01-11 16:27:25 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736630845104]
2025-01-11 16:27:25 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 16:27:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:27:25 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:27:25 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736630845104", parameters={t:[1736630845104]}
2025-01-11 16:27:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:27:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736630845104
2025-01-11 16:27:25 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:27:25 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736630845104]
2025-01-11 16:27:25 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:27:25 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:27:25 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 16:27:25 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 16:27:25 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 16:27:25 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 16:27:25 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 16:27:25 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 16:27:25 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 16:27:25 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 16:27:25 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 16:27:25 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 16:27:25 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 16:27:25 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 16:27:25 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 16:27:25 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 16:27:25 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:27:25 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:27:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 16:27:25 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 16:27:25 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 24ms
2025-01-11 16:27:25 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 24ms
2025-01-11 16:27:25 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 16:27:25 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 16:27:25 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:27:25 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:27:25 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 16:27:25 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 16:27:25 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:27:25 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:27:25 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 16:27:25 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 16:27:25 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/747/poc2mze4/websocket
2025-01-11 16:27:25 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/747/poc2mze4/websocket
2025-01-11 16:27:25 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:27:25 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/747/poc2mze4/websocket
2025-01-11 16:27:25 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:27:25 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:27:25 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/747/poc2mze4/websocket
2025-01-11 16:27:25 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/747/poc2mze4/websocket]
2025-01-11 16:27:25 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/747/poc2mze4/websocket - Origin: http://localhost:5173
2025-01-11 16:27:25 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/747/poc2mze4/websocket", parameters={}
2025-01-11 16:27:25 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:27:25 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/747/poc2mze4/websocket
2025-01-11 16:27:25 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 16:27:25 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/747/poc2mze4/websocket]
2025-01-11 16:27:25 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=poc2mze4]
2025-01-11 16:28:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=poc2mze4] closed with CloseStatus[code=1000, reason=null]
2025-01-11 16:28:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session poc2mze4
2025-01-11 16:28:24 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736630904947
2025-01-11 16:28:24 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 16:28:24 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:28:24 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 16:28:24 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:28:24 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:28:24 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736630904947
2025-01-11 16:28:24 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736630904947]
2025-01-11 16:28:24 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 16:28:24 [clientInboundChannel-2] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=poc2mze4
2025-01-11 16:28:24 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736630904947", parameters={t:[1736630904947]}
2025-01-11 16:28:24 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:28:24 [clientOutboundChannel-1] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=poc2mze4}], simpSessionId=poc2mze4}]
2025-01-11 16:28:24 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736630904947
2025-01-11 16:28:24 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:28:24 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736630904947]
2025-01-11 16:28:24 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/530/k1vkdal1/websocket
2025-01-11 16:28:24 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/530/k1vkdal1/websocket
2025-01-11 16:28:24 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:28:24 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/530/k1vkdal1/websocket
2025-01-11 16:28:24 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:28:24 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:28:24 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/530/k1vkdal1/websocket
2025-01-11 16:28:24 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/530/k1vkdal1/websocket]
2025-01-11 16:28:24 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/530/k1vkdal1/websocket - Origin: http://localhost:5173
2025-01-11 16:28:24 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/530/k1vkdal1/websocket", parameters={}
2025-01-11 16:28:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:28:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/530/k1vkdal1/websocket
2025-01-11 16:28:24 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 16:28:24 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/530/k1vkdal1/websocket]
2025-01-11 16:28:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=k1vkdal1]
2025-01-11 16:28:30 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [poc2mze4]
2025-01-11 16:28:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=k1vkdal1] closed with CloseStatus[code=1000, reason=null]
2025-01-11 16:28:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session k1vkdal1
2025-01-11 16:28:52 [clientInboundChannel-5] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=k1vkdal1
2025-01-11 16:28:52 [clientOutboundChannel-2] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=k1vkdal1}], simpSessionId=k1vkdal1}]
2025-01-11 16:28:52 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736630932922
2025-01-11 16:28:52 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 16:28:52 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:28:52 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 16:28:52 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:28:52 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:28:52 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736630932922
2025-01-11 16:28:52 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736630932922]
2025-01-11 16:28:52 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 16:28:52 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736630932922", parameters={t:[1736630932922]}
2025-01-11 16:28:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:28:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736630932922
2025-01-11 16:28:52 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:28:52 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736630932922]
2025-01-11 16:28:52 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/057/1wddxdeo/websocket
2025-01-11 16:28:52 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/057/1wddxdeo/websocket
2025-01-11 16:28:52 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:28:52 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/057/1wddxdeo/websocket
2025-01-11 16:28:52 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:28:52 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:28:52 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/057/1wddxdeo/websocket
2025-01-11 16:28:52 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/057/1wddxdeo/websocket]
2025-01-11 16:28:52 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/057/1wddxdeo/websocket - Origin: http://localhost:5173
2025-01-11 16:28:52 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/057/1wddxdeo/websocket", parameters={}
2025-01-11 16:28:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:28:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/057/1wddxdeo/websocket
2025-01-11 16:28:52 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 16:28:52 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/057/1wddxdeo/websocket]
2025-01-11 16:28:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=1wddxdeo]
2025-01-11 16:28:57 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=1wddxdeo] closed with CloseStatus[code=1000, reason=null]
2025-01-11 16:28:57 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session 1wddxdeo
2025-01-11 16:28:57 [clientInboundChannel-8] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=1wddxdeo
2025-01-11 16:28:57 [clientOutboundChannel-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=1wddxdeo}], simpSessionId=1wddxdeo}]
2025-01-11 16:29:00 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [k1vkdal1]
2025-01-11 16:29:03 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 16:29:03 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 16:29:03 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 16:29:03 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:29:03 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 16:29:03 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:29:03 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:29:03 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:29:03 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:29:03 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:29:03 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:29:03 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:29:03 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 16:29:03 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 16:29:03 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 16:29:03 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 16:29:03 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 16:29:03 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 16:29:03 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 16:29:03 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 16:29:03 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 16:29:03 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 16:29:03 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 16:29:03 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 16:29:03 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 16:29:03 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 16:29:03 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:29:03 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:29:03 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 16:29:03 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 16:29:03 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 20ms
2025-01-11 16:29:03 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 20ms
2025-01-11 16:29:03 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 16:29:03 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 16:29:03 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:29:03 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:29:03 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 16:29:03 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 16:29:03 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:29:03 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:29:03 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 16:29:03 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 16:29:03 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736630943602
2025-01-11 16:29:03 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 16:29:03 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:29:03 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 16:29:03 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:29:03 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:29:03 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736630943602
2025-01-11 16:29:03 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736630943602]
2025-01-11 16:29:03 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 16:29:03 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736630943602", parameters={t:[1736630943602]}
2025-01-11 16:29:03 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:29:03 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736630943602
2025-01-11 16:29:03 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:29:03 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736630943602]
2025-01-11 16:29:03 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/669/dh1fhjoh/websocket
2025-01-11 16:29:03 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/669/dh1fhjoh/websocket
2025-01-11 16:29:03 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:29:03 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/669/dh1fhjoh/websocket
2025-01-11 16:29:03 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:29:03 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:29:03 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/669/dh1fhjoh/websocket
2025-01-11 16:29:03 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/669/dh1fhjoh/websocket]
2025-01-11 16:29:03 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/669/dh1fhjoh/websocket - Origin: http://localhost:5173
2025-01-11 16:29:03 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/669/dh1fhjoh/websocket", parameters={}
2025-01-11 16:29:03 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:29:03 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/669/dh1fhjoh/websocket
2025-01-11 16:29:03 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 16:29:03 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/669/dh1fhjoh/websocket]
2025-01-11 16:29:03 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=dh1fhjoh]
2025-01-11 16:29:05 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [1wddxdeo]
2025-01-11 16:30:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=dh1fhjoh] closed with CloseStatus[code=1000, reason=null]
2025-01-11 16:30:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session dh1fhjoh
2025-01-11 16:30:45 [clientInboundChannel-10] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=dh1fhjoh
2025-01-11 16:30:45 [clientOutboundChannel-4] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=dh1fhjoh}], simpSessionId=dh1fhjoh}]
2025-01-11 16:30:46 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 16:30:46 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 16:30:46 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:30:46 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 16:30:46 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:30:46 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 16:30:46 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:30:46 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:30:46 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736631046849
2025-01-11 16:30:46 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 16:30:46 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:30:46 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 16:30:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:30:46 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:30:46 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:30:46 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:30:46 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736631046849
2025-01-11 16:30:46 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736631046849]
2025-01-11 16:30:46 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 16:30:46 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:30:46 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:30:46 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736631046849", parameters={t:[1736631046849]}
2025-01-11 16:30:46 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 16:30:46 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 16:30:46 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 16:30:46 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:30:46 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 16:30:46 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 16:30:46 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 16:30:46 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 16:30:46 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 16:30:46 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 16:30:46 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 16:30:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 16:30:46 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 16:30:46 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 16:30:46 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 16:30:46 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:30:46 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:30:46 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 16:30:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 16:30:46 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736631046849
2025-01-11 16:30:46 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:30:46 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736631046849]
2025-01-11 16:30:46 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/681/23ohfqxc/websocket
2025-01-11 16:30:46 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/681/23ohfqxc/websocket
2025-01-11 16:30:46 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 45ms
2025-01-11 16:30:46 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 46ms
2025-01-11 16:30:46 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:30:46 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 16:30:46 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 16:30:46 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/681/23ohfqxc/websocket
2025-01-11 16:30:46 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:30:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:30:46 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:30:46 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 16:30:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 16:30:46 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:30:46 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:30:46 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 16:30:46 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 16:30:46 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:30:46 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/681/23ohfqxc/websocket
2025-01-11 16:30:46 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/681/23ohfqxc/websocket]
2025-01-11 16:30:46 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/681/23ohfqxc/websocket - Origin: http://localhost:5173
2025-01-11 16:30:46 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/681/23ohfqxc/websocket", parameters={}
2025-01-11 16:30:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:30:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/681/23ohfqxc/websocket
2025-01-11 16:30:46 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 16:30:46 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/681/23ohfqxc/websocket]
2025-01-11 16:30:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=23ohfqxc]
2025-01-11 16:30:50 [MessageBroker-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [dh1fhjoh]
2025-01-11 16:30:59 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=23ohfqxc] closed with CloseStatus[code=1000, reason=null]
2025-01-11 16:30:59 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session 23ohfqxc
2025-01-11 16:30:59 [clientInboundChannel-13] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=23ohfqxc
2025-01-11 16:30:59 [clientOutboundChannel-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=23ohfqxc}], simpSessionId=23ohfqxc}]
2025-01-11 16:31:05 [MessageBroker-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [23ohfqxc]
2025-01-11 16:31:09 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 16:31:09 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 16:31:09 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 16:31:09 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:31:09 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 16:31:09 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:31:09 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:31:09 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:31:09 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:31:09 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736631069245
2025-01-11 16:31:09 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 16:31:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:31:09 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:31:09 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 16:31:09 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:31:09 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:31:09 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:31:09 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736631069245
2025-01-11 16:31:09 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 16:31:09 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 16:31:09 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736631069245]
2025-01-11 16:31:09 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 16:31:09 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 16:31:09 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 16:31:09 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 16:31:09 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 16:31:09 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 16:31:09 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:31:09 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736631069245", parameters={t:[1736631069245]}
2025-01-11 16:31:09 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:31:09 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 16:31:09 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 16:31:09 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 16:31:09 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 16:31:09 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 16:31:09 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 16:31:09 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 16:31:09 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 16:31:09 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:31:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:31:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 16:31:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736631069245
2025-01-11 16:31:09 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:31:09 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736631069245]
2025-01-11 16:31:09 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/470/4dgurcdo/websocket
2025-01-11 16:31:09 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/470/4dgurcdo/websocket
2025-01-11 16:31:09 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:31:09 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/470/4dgurcdo/websocket
2025-01-11 16:31:09 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:31:09 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:31:09 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/470/4dgurcdo/websocket
2025-01-11 16:31:09 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/470/4dgurcdo/websocket]
2025-01-11 16:31:09 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/470/4dgurcdo/websocket - Origin: http://localhost:5173
2025-01-11 16:31:09 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/470/4dgurcdo/websocket", parameters={}
2025-01-11 16:31:09 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:31:09 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/470/4dgurcdo/websocket
2025-01-11 16:31:09 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 16:31:09 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/470/4dgurcdo/websocket]
2025-01-11 16:31:09 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=4dgurcdo]
2025-01-11 16:31:09 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 85ms
2025-01-11 16:31:09 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 16:31:09 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:31:09 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 16:31:09 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:31:09 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 16:31:09 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 98ms
2025-01-11 16:31:09 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 16:31:09 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:31:09 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 16:31:09 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:31:09 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 16:32:39 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=4dgurcdo] closed with CloseStatus[code=1000, reason=null]
2025-01-11 16:32:39 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session 4dgurcdo
2025-01-11 16:32:39 [clientInboundChannel-16] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=4dgurcdo
2025-01-11 16:32:39 [clientOutboundChannel-6] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=4dgurcdo}], simpSessionId=4dgurcdo}]
2025-01-11 16:32:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 16:32:41 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 16:32:41 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736631161580
2025-01-11 16:32:41 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 16:32:41 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 16:32:41 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:32:41 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:32:41 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 16:32:41 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:32:41 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 16:32:41 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:32:41 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:32:41 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:32:41 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736631161580
2025-01-11 16:32:41 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736631161580]
2025-01-11 16:32:41 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:32:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:32:41 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 16:32:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:32:41 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736631161580", parameters={t:[1736631161580]}
2025-01-11 16:32:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:32:41 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:32:41 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 16:32:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736631161580
2025-01-11 16:32:41 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 16:32:41 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 16:32:41 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 16:32:41 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 16:32:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 16:32:41 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 16:32:41 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:32:41 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:32:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 16:32:41 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736631161580]
2025-01-11 16:32:41 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:32:41 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 16:32:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 16:32:41 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 16:32:41 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 16:32:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 16:32:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 16:32:41 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 16:32:41 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:32:41 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 13ms
2025-01-11 16:32:41 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 16:32:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 16:32:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:32:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 16:32:41 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:32:41 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 16:32:41 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 14ms
2025-01-11 16:32:41 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 16:32:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:32:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 16:32:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:32:41 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 16:32:41 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/661/nfe3riw4/websocket
2025-01-11 16:32:41 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/661/nfe3riw4/websocket
2025-01-11 16:32:41 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:32:41 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/661/nfe3riw4/websocket
2025-01-11 16:32:41 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:32:41 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:32:41 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/661/nfe3riw4/websocket
2025-01-11 16:32:41 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/661/nfe3riw4/websocket]
2025-01-11 16:32:41 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/661/nfe3riw4/websocket - Origin: http://localhost:5173
2025-01-11 16:32:41 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/661/nfe3riw4/websocket", parameters={}
2025-01-11 16:32:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:32:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/661/nfe3riw4/websocket
2025-01-11 16:32:41 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 16:32:41 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/661/nfe3riw4/websocket]
2025-01-11 16:32:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=nfe3riw4]
2025-01-11 16:32:45 [MessageBroker-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [4dgurcdo]
2025-01-11 16:32:53 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=nfe3riw4] closed with CloseStatus[code=1000, reason=null]
2025-01-11 16:32:53 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session nfe3riw4
2025-01-11 16:32:53 [clientInboundChannel-19] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=nfe3riw4
2025-01-11 16:32:53 [clientOutboundChannel-7] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=nfe3riw4}], simpSessionId=nfe3riw4}]
2025-01-11 16:32:53 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736631173444
2025-01-11 16:32:53 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 16:32:53 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:32:53 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 16:32:53 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:32:53 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:32:53 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736631173444
2025-01-11 16:32:53 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736631173444]
2025-01-11 16:32:53 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 16:32:53 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736631173444", parameters={t:[1736631173444]}
2025-01-11 16:32:53 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:32:53 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736631173444
2025-01-11 16:32:53 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:32:53 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736631173444]
2025-01-11 16:32:53 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/472/kvuxh4ax/websocket
2025-01-11 16:32:53 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/472/kvuxh4ax/websocket
2025-01-11 16:32:53 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:32:53 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/472/kvuxh4ax/websocket
2025-01-11 16:32:53 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:32:53 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:32:53 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/472/kvuxh4ax/websocket
2025-01-11 16:32:53 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/472/kvuxh4ax/websocket]
2025-01-11 16:32:53 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/472/kvuxh4ax/websocket - Origin: http://localhost:5173
2025-01-11 16:32:53 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/472/kvuxh4ax/websocket", parameters={}
2025-01-11 16:32:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:32:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/472/kvuxh4ax/websocket
2025-01-11 16:32:53 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 16:32:53 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/472/kvuxh4ax/websocket]
2025-01-11 16:32:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=kvuxh4ax]
2025-01-11 16:33:00 [MessageBroker-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [nfe3riw4]
2025-01-11 16:33:26 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=kvuxh4ax] closed with CloseStatus[code=1000, reason=null]
2025-01-11 16:33:26 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session kvuxh4ax
2025-01-11 16:33:26 [clientInboundChannel-22] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=kvuxh4ax
2025-01-11 16:33:26 [clientOutboundChannel-8] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=kvuxh4ax}], simpSessionId=kvuxh4ax}]
2025-01-11 16:33:28 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 16:33:28 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 16:33:28 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:33:28 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736631208495
2025-01-11 16:33:28 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:33:28 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 16:33:28 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 16:33:28 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:33:28 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 16:33:28 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:33:28 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:33:28 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 16:33:28 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:33:28 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:33:28 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736631208495
2025-01-11 16:33:28 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736631208495]
2025-01-11 16:33:28 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:33:28 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 16:33:28 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:33:28 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736631208495", parameters={t:[1736631208495]}
2025-01-11 16:33:28 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:33:28 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736631208495
2025-01-11 16:33:28 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:33:28 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:33:28 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:33:28 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 16:33:28 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 16:33:28 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 16:33:28 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736631208495]
2025-01-11 16:33:28 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 16:33:28 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 16:33:28 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 16:33:28 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 16:33:28 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 16:33:28 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 16:33:28 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 16:33:28 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 16:33:28 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 16:33:28 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 16:33:28 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 16:33:28 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:33:28 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:33:28 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 16:33:28 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 16:33:28 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/673/4od3tqhf/websocket
2025-01-11 16:33:28 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/673/4od3tqhf/websocket
2025-01-11 16:33:28 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:33:28 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/673/4od3tqhf/websocket
2025-01-11 16:33:28 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:33:28 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:33:28 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 20ms
2025-01-11 16:33:28 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 20ms
2025-01-11 16:33:28 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 16:33:28 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 16:33:28 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:33:28 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:33:28 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 16:33:28 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 16:33:28 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:33:28 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:33:28 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 16:33:28 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 16:33:28 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/673/4od3tqhf/websocket
2025-01-11 16:33:28 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/673/4od3tqhf/websocket]
2025-01-11 16:33:28 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/673/4od3tqhf/websocket - Origin: http://localhost:5173
2025-01-11 16:33:28 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/673/4od3tqhf/websocket", parameters={}
2025-01-11 16:33:28 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:33:28 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/673/4od3tqhf/websocket
2025-01-11 16:33:28 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 16:33:28 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/673/4od3tqhf/websocket]
2025-01-11 16:33:28 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=4od3tqhf]
2025-01-11 16:33:28 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:33:28 [clientInboundChannel-17] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=4od3tqhf
2025-01-11 16:33:28 [clientInboundChannel-18] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=4od3tqhf
2025-01-11 16:33:35 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [kvuxh4ax]
2025-01-11 16:34:29 [clientInboundChannel-24] DEBUG org.springframework.web.SimpLogging - Processing UNSUBSCRIBE id=sub-0 session=4od3tqhf
2025-01-11 16:34:29 [clientInboundChannel-26] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/presence session=4od3tqhf, lookupDestination='/presence'
2025-01-11 16:34:29 [clientInboundChannel-26] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2025-01-11 16:34:29 [clientInboundChannel-30] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT receipt=close-1 session=4od3tqhf
2025-01-11 16:34:29 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=4od3tqhf] closed with CloseStatus[code=1000, reason=null]
2025-01-11 16:34:29 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session 4od3tqhf
2025-01-11 16:34:29 [clientInboundChannel-24] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=4od3tqhf
2025-01-11 16:34:29 [clientOutboundChannel-11] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=4od3tqhf}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=4od3tqhf}]
2025-01-11 16:34:30 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736631269988
2025-01-11 16:34:30 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 16:34:30 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:34:30 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 16:34:30 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:34:30 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:34:30 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736631269988
2025-01-11 16:34:30 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736631269988]
2025-01-11 16:34:30 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 16:34:30 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736631269988", parameters={t:[1736631269988]}
2025-01-11 16:34:30 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:34:30 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736631269988
2025-01-11 16:34:30 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:34:30 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736631269988]
2025-01-11 16:34:30 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736631269989
2025-01-11 16:34:30 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 16:34:30 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:34:30 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 16:34:30 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:34:30 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:34:30 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736631269989
2025-01-11 16:34:30 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736631269989]
2025-01-11 16:34:30 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 16:34:30 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736631269989", parameters={t:[1736631269989]}
2025-01-11 16:34:30 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:34:30 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736631269989
2025-01-11 16:34:30 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:34:30 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736631269989]
2025-01-11 16:34:30 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/144/ouce02l0/websocket
2025-01-11 16:34:30 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/144/ouce02l0/websocket
2025-01-11 16:34:30 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:34:30 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/144/ouce02l0/websocket
2025-01-11 16:34:30 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:34:30 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:34:30 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/144/ouce02l0/websocket
2025-01-11 16:34:30 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/144/ouce02l0/websocket]
2025-01-11 16:34:30 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/144/ouce02l0/websocket - Origin: http://localhost:5173
2025-01-11 16:34:30 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/144/ouce02l0/websocket", parameters={}
2025-01-11 16:34:30 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:34:30 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/144/ouce02l0/websocket
2025-01-11 16:34:30 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 16:34:30 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/144/ouce02l0/websocket]
2025-01-11 16:34:30 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=ouce02l0]
2025-01-11 16:34:30 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/224/xu54htfb/websocket
2025-01-11 16:34:30 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/224/xu54htfb/websocket
2025-01-11 16:34:30 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:34:30 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/224/xu54htfb/websocket
2025-01-11 16:34:30 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:34:30 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:34:30 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/224/xu54htfb/websocket
2025-01-11 16:34:30 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/224/xu54htfb/websocket]
2025-01-11 16:34:30 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/224/xu54htfb/websocket - Origin: http://localhost:5173
2025-01-11 16:34:30 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/224/xu54htfb/websocket", parameters={}
2025-01-11 16:34:30 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:34:30 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/224/xu54htfb/websocket
2025-01-11 16:34:30 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 16:34:30 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/224/xu54htfb/websocket]
2025-01-11 16:34:30 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=xu54htfb]
2025-01-11 16:34:30 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:34:30 [clientInboundChannel-28] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=ouce02l0
2025-01-11 16:34:30 [http-nio-8080-exec-1] ERROR c.g.a.c.security.ClerkTokenValidator - Token verification failed
com.auth0.jwt.exceptions.TokenExpiredException: The Token has expired on 2025-01-11T21:34:27Z.
	at com.auth0.jwt.JWTVerifier$BaseVerification.assertValidInstantClaim(JWTVerifier.java:346)
	at com.auth0.jwt.JWTVerifier$BaseVerification.lambda$addMandatoryClaimChecks$17(JWTVerifier.java:308)
	at com.auth0.jwt.JWTVerifier$BaseVerification$1.verify(JWTVerifier.java:405)
	at com.auth0.jwt.JWTVerifier.verifyClaims(JWTVerifier.java:482)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:464)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:58)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkChannelInterceptor.preSend(ClerkChannelInterceptor.java:36)
	at org.springframework.messaging.support.AbstractMessageChannel$ChannelInterceptorChain.applyPreSend(AbstractMessageChannel.java:181)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:135)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:125)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageFromClient(StompSubProtocolHandler.java:343)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:336)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.delegateMessages(AbstractSockJsSession.java:346)
	at org.springframework.web.socket.sockjs.transport.session.WebSocketServerSockJsSession.handleMessage(WebSocketServerSockJsSession.java:195)
	at org.springframework.web.socket.sockjs.transport.handler.SockJsWebSocketHandler.handleTextMessage(SockJsWebSocketHandler.java:93)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-01-11 16:34:30 [http-nio-8080-exec-1] ERROR c.g.a.c.s.ClerkChannelInterceptor - WebSocket authentication failed
com.auth0.jwt.exceptions.JWTVerificationException: Invalid token
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:65)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkChannelInterceptor.preSend(ClerkChannelInterceptor.java:36)
	at org.springframework.messaging.support.AbstractMessageChannel$ChannelInterceptorChain.applyPreSend(AbstractMessageChannel.java:181)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:135)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:125)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageFromClient(StompSubProtocolHandler.java:343)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:336)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.delegateMessages(AbstractSockJsSession.java:346)
	at org.springframework.web.socket.sockjs.transport.session.WebSocketServerSockJsSession.handleMessage(WebSocketServerSockJsSession.java:195)
	at org.springframework.web.socket.sockjs.transport.handler.SockJsWebSocketHandler.handleTextMessage(SockJsWebSocketHandler.java:93)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: com.auth0.jwt.exceptions.TokenExpiredException: The Token has expired on 2025-01-11T21:34:27Z.
	at com.auth0.jwt.JWTVerifier$BaseVerification.assertValidInstantClaim(JWTVerifier.java:346)
	at com.auth0.jwt.JWTVerifier$BaseVerification.lambda$addMandatoryClaimChecks$17(JWTVerifier.java:308)
	at com.auth0.jwt.JWTVerifier$BaseVerification$1.verify(JWTVerifier.java:405)
	at com.auth0.jwt.JWTVerifier.verifyClaims(JWTVerifier.java:482)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:464)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:58)
	... 34 common frames omitted
2025-01-11 16:34:30 [http-nio-8080-exec-1] DEBUG org.springframework.web.SimpLogging - ClerkChannelInterceptor returned null from preSend, i.e. precluding the send.
2025-01-11 16:34:35 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [4od3tqhf]
2025-01-11 16:34:42 [clientInboundChannel-29] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/presence session=ouce02l0, lookupDestination='/presence'
2025-01-11 16:34:42 [clientInboundChannel-29] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2025-01-11 16:34:42 [clientInboundChannel-24] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT receipt=close-0 session=ouce02l0
2025-01-11 16:34:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=ouce02l0] closed with CloseStatus[code=1000, reason=null]
2025-01-11 16:34:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session ouce02l0
2025-01-11 16:34:42 [clientInboundChannel-28] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=ouce02l0
2025-01-11 16:34:42 [clientOutboundChannel-14] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=ouce02l0}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=ouce02l0}]
2025-01-11 16:34:42 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736631282930
2025-01-11 16:34:42 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 16:34:42 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:34:42 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 16:34:42 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:34:42 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:34:42 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736631282930
2025-01-11 16:34:42 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736631282930]
2025-01-11 16:34:42 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 16:34:42 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736631282930", parameters={t:[1736631282930]}
2025-01-11 16:34:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:34:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736631282930
2025-01-11 16:34:42 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:34:42 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736631282930]
2025-01-11 16:34:42 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/550/kg4fpfrc/websocket
2025-01-11 16:34:42 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/550/kg4fpfrc/websocket
2025-01-11 16:34:42 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:34:42 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/550/kg4fpfrc/websocket
2025-01-11 16:34:42 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:34:42 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:34:42 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/550/kg4fpfrc/websocket
2025-01-11 16:34:42 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/550/kg4fpfrc/websocket]
2025-01-11 16:34:42 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/550/kg4fpfrc/websocket - Origin: http://localhost:5173
2025-01-11 16:34:42 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/550/kg4fpfrc/websocket", parameters={}
2025-01-11 16:34:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:34:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/550/kg4fpfrc/websocket
2025-01-11 16:34:42 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 16:34:42 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/550/kg4fpfrc/websocket]
2025-01-11 16:34:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=kg4fpfrc]
2025-01-11 16:34:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:34:43 [clientInboundChannel-29] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=kg4fpfrc
2025-01-11 16:34:50 [MessageBroker-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [ouce02l0]
2025-01-11 16:34:54 [clientInboundChannel-24] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=kg4fpfrc
2025-01-11 16:34:56 [clientInboundChannel-30] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/presence session=kg4fpfrc, lookupDestination='/presence'
2025-01-11 16:34:56 [clientInboundChannel-30] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2025-01-11 16:34:56 [clientInboundChannel-25] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT receipt=close-1 session=kg4fpfrc
2025-01-11 16:34:56 [clientInboundChannel-23] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/presence session=kg4fpfrc, lookupDestination='/presence'
2025-01-11 16:34:56 [clientInboundChannel-23] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2025-01-11 16:34:56 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=kg4fpfrc] closed with CloseStatus[code=1000, reason=null]
2025-01-11 16:34:56 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session kg4fpfrc
2025-01-11 16:34:56 [clientInboundChannel-30] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=kg4fpfrc
2025-01-11 16:34:56 [clientOutboundChannel-17] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=kg4fpfrc}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=kg4fpfrc}]
2025-01-11 16:34:56 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736631296971
2025-01-11 16:34:56 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736631296974
2025-01-11 16:34:56 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 16:34:56 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 16:34:56 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:34:56 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:34:56 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 16:34:56 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 16:34:56 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:34:56 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:34:56 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:34:56 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:34:56 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736631296974
2025-01-11 16:34:56 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736631296971
2025-01-11 16:34:56 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736631296974]
2025-01-11 16:34:56 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736631296971]
2025-01-11 16:34:56 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 16:34:56 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 16:34:56 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736631296974", parameters={t:[1736631296974]}
2025-01-11 16:34:56 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736631296971", parameters={t:[1736631296971]}
2025-01-11 16:34:56 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:34:56 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:34:56 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736631296974
2025-01-11 16:34:56 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:34:56 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736631296971
2025-01-11 16:34:56 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736631296974]
2025-01-11 16:34:56 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:34:56 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736631296971]
2025-01-11 16:34:56 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/761/flltmy4t/websocket
2025-01-11 16:34:56 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/761/flltmy4t/websocket
2025-01-11 16:34:56 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:34:57 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/761/flltmy4t/websocket
2025-01-11 16:34:57 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:34:57 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:34:57 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/761/flltmy4t/websocket
2025-01-11 16:34:57 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/761/flltmy4t/websocket]
2025-01-11 16:34:57 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/761/flltmy4t/websocket - Origin: http://localhost:5173
2025-01-11 16:34:57 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/761/flltmy4t/websocket", parameters={}
2025-01-11 16:34:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:34:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/761/flltmy4t/websocket
2025-01-11 16:34:57 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 16:34:57 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/761/flltmy4t/websocket]
2025-01-11 16:34:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=flltmy4t]
2025-01-11 16:34:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:34:57 [clientInboundChannel-25] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=flltmy4t
2025-01-11 16:34:57 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/133/d0nchha2/websocket
2025-01-11 16:34:57 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/133/d0nchha2/websocket
2025-01-11 16:34:57 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:34:57 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/133/d0nchha2/websocket
2025-01-11 16:34:57 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:34:57 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:34:57 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/133/d0nchha2/websocket
2025-01-11 16:34:57 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/133/d0nchha2/websocket]
2025-01-11 16:34:57 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/133/d0nchha2/websocket - Origin: http://localhost:5173
2025-01-11 16:34:57 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/133/d0nchha2/websocket", parameters={}
2025-01-11 16:34:57 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:34:57 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/133/d0nchha2/websocket
2025-01-11 16:34:57 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 16:34:57 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/133/d0nchha2/websocket]
2025-01-11 16:34:57 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=d0nchha2]
2025-01-11 16:34:57 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:34:57 [clientInboundChannel-28] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=d0nchha2
2025-01-11 16:34:57 [clientInboundChannel-26] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=d0nchha2
2025-01-11 16:35:05 [MessageBroker-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [kg4fpfrc]
2025-01-11 16:35:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=xu54htfb] closed with CloseStatus[code=1000, reason=null]
2025-01-11 16:35:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session xu54htfb
2025-01-11 16:35:12 [clientInboundChannel-25] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=xu54htfb
2025-01-11 16:35:12 [clientOutboundChannel-12] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=xu54htfb}], simpSessionId=xu54htfb}]
2025-01-11 16:35:13 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=flltmy4t] closed with CloseStatus[code=1000, reason=null]
2025-01-11 16:35:13 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session flltmy4t
2025-01-11 16:35:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=d0nchha2] closed with CloseStatus[code=1000, reason=null]
2025-01-11 16:35:13 [clientInboundChannel-27] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=flltmy4t
2025-01-11 16:35:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session d0nchha2
2025-01-11 16:35:13 [clientOutboundChannel-13] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=flltmy4t}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=flltmy4t}]
2025-01-11 16:35:13 [clientInboundChannel-26] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=d0nchha2
2025-01-11 16:35:13 [clientOutboundChannel-14] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=d0nchha2}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=d0nchha2}]
2025-01-11 16:35:16 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 16:35:16 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 16:35:16 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:35:16 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 16:35:16 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 16:35:16 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:35:16 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:35:16 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:35:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:35:16 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:35:16 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:35:16 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:35:16 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 16:35:16 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 16:35:16 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 16:35:16 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 16:35:16 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 16:35:16 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 16:35:16 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 16:35:16 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 16:35:16 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 16:35:16 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 16:35:16 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 16:35:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 16:35:16 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 16:35:16 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 16:35:16 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:35:16 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:35:16 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 16:35:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 16:35:16 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 33ms
2025-01-11 16:35:16 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 32ms
2025-01-11 16:35:16 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 16:35:16 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 16:35:16 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:35:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:35:16 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 16:35:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 16:35:16 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:35:16 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:35:16 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 16:35:16 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 16:35:16 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736631316301
2025-01-11 16:35:16 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 16:35:16 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:35:16 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 16:35:16 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:35:16 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:35:16 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736631316301
2025-01-11 16:35:16 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736631316301]
2025-01-11 16:35:16 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 16:35:16 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736631316301", parameters={t:[1736631316301]}
2025-01-11 16:35:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:35:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736631316301
2025-01-11 16:35:16 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:35:16 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736631316301]
2025-01-11 16:35:16 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/175/2wfemeea/websocket
2025-01-11 16:35:16 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/175/2wfemeea/websocket
2025-01-11 16:35:16 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:35:16 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/175/2wfemeea/websocket
2025-01-11 16:35:16 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:35:16 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:35:16 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/175/2wfemeea/websocket
2025-01-11 16:35:16 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/175/2wfemeea/websocket]
2025-01-11 16:35:16 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/175/2wfemeea/websocket - Origin: http://localhost:5173
2025-01-11 16:35:16 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/175/2wfemeea/websocket", parameters={}
2025-01-11 16:35:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:35:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/175/2wfemeea/websocket
2025-01-11 16:35:16 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 16:35:16 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/175/2wfemeea/websocket]
2025-01-11 16:35:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=2wfemeea]
2025-01-11 16:35:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:35:16 [clientInboundChannel-23] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=2wfemeea
2025-01-11 16:35:16 [clientInboundChannel-30] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=2wfemeea
2025-01-11 16:35:20 [MessageBroker-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 3 sessions: [xu54htfb, flltmy4t, d0nchha2]
2025-01-11 16:35:25 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=2wfemeea] closed with CloseStatus[code=1000, reason=null]
2025-01-11 16:35:25 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session 2wfemeea
2025-01-11 16:35:25 [clientInboundChannel-26] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=2wfemeea
2025-01-11 16:35:25 [clientOutboundChannel-16] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=2wfemeea}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=2wfemeea}]
2025-01-11 16:35:28 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 16:35:28 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 16:35:28 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 16:35:28 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 16:35:28 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:35:28 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736631328149
2025-01-11 16:35:28 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:35:28 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 16:35:28 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:35:28 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 16:35:28 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:35:28 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:35:28 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736631328149
2025-01-11 16:35:28 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:35:28 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736631328149]
2025-01-11 16:35:28 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 16:35:28 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736631328149", parameters={t:[1736631328149]}
2025-01-11 16:35:28 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:35:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:35:28 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736631328149
2025-01-11 16:35:28 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:35:28 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:35:28 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736631328149]
2025-01-11 16:35:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:35:28 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/393/2q12mnff/websocket
2025-01-11 16:35:28 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/393/2q12mnff/websocket
2025-01-11 16:35:28 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:35:28 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:35:28 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/393/2q12mnff/websocket
2025-01-11 16:35:28 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 16:35:28 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 16:35:28 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 16:35:28 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 16:35:28 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 16:35:28 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 16:35:28 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 16:35:28 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:35:28 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:35:28 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:35:28 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/393/2q12mnff/websocket
2025-01-11 16:35:28 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/393/2q12mnff/websocket]
2025-01-11 16:35:28 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 16:35:28 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:35:28 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 16:35:28 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 16:35:28 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 16:35:28 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/393/2q12mnff/websocket - Origin: http://localhost:5173
2025-01-11 16:35:28 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 16:35:28 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 16:35:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 16:35:28 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 16:35:28 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:35:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 16:35:28 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/393/2q12mnff/websocket", parameters={}
2025-01-11 16:35:28 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:35:28 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 9ms
2025-01-11 16:35:28 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 24ms
2025-01-11 16:35:28 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 16:35:28 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/393/2q12mnff/websocket
2025-01-11 16:35:28 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 16:35:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:35:28 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:35:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 16:35:28 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 16:35:28 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:35:28 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 16:35:28 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:35:28 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 16:35:28 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 16:35:28 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/393/2q12mnff/websocket]
2025-01-11 16:35:28 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=2q12mnff]
2025-01-11 16:35:28 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:35:28 [clientInboundChannel-23] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=2q12mnff
2025-01-11 16:35:28 [clientInboundChannel-29] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=2q12mnff
2025-01-11 16:35:30 [MessageBroker-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [2wfemeea]
2025-01-11 16:35:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=2q12mnff] closed with CloseStatus[code=1000, reason=null]
2025-01-11 16:35:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session 2q12mnff
2025-01-11 16:35:43 [clientInboundChannel-26] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=2q12mnff
2025-01-11 16:35:43 [clientOutboundChannel-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=2q12mnff}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=2q12mnff}]
2025-01-11 16:35:44 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 16:35:44 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 16:35:44 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 16:35:44 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:35:44 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 16:35:44 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:35:44 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:35:44 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:35:44 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736631344577
2025-01-11 16:35:44 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:35:44 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:35:44 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 16:35:44 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:35:44 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 16:35:44 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:35:44 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:35:44 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 16:35:44 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:35:44 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:35:44 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 16:35:44 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 16:35:44 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736631344577
2025-01-11 16:35:44 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 16:35:44 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 16:35:44 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736631344577]
2025-01-11 16:35:44 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 16:35:44 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 16:35:44 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 16:35:44 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 16:35:44 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 16:35:44 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736631344577", parameters={t:[1736631344577]}
2025-01-11 16:35:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 16:35:44 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 16:35:44 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:35:44 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:35:44 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 16:35:44 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 16:35:44 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736631344577
2025-01-11 16:35:44 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 16:35:44 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:35:44 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 16:35:44 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736631344577]
2025-01-11 16:35:44 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:35:44 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 13ms
2025-01-11 16:35:44 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 16:35:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:35:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 16:35:44 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:35:44 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 16:35:44 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/753/2t0sqcyi/websocket
2025-01-11 16:35:44 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/753/2t0sqcyi/websocket
2025-01-11 16:35:44 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:35:44 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/753/2t0sqcyi/websocket
2025-01-11 16:35:44 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:35:44 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:35:44 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/753/2t0sqcyi/websocket
2025-01-11 16:35:44 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/753/2t0sqcyi/websocket]
2025-01-11 16:35:44 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/753/2t0sqcyi/websocket - Origin: http://localhost:5173
2025-01-11 16:35:44 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/753/2t0sqcyi/websocket", parameters={}
2025-01-11 16:35:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:35:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/753/2t0sqcyi/websocket
2025-01-11 16:35:44 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 16:35:44 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/753/2t0sqcyi/websocket]
2025-01-11 16:35:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=2t0sqcyi]
2025-01-11 16:35:44 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:35:44 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 16:35:44 [clientInboundChannel-27] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=2t0sqcyi
2025-01-11 16:35:44 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 77ms
2025-01-11 16:35:44 [clientInboundChannel-24] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=2t0sqcyi
2025-01-11 16:35:44 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 16:35:44 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:35:44 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 16:35:44 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:35:44 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 16:35:44 [clientInboundChannel-28] DEBUG org.springframework.web.SimpLogging - Processing UNSUBSCRIBE id=sub-0 session=2t0sqcyi
2025-01-11 16:35:44 [clientInboundChannel-26] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-1 session=2t0sqcyi
2025-01-11 16:35:50 [MessageBroker-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [2q12mnff]
2025-01-11 16:36:32 [clientInboundChannel-31] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/presence session=2t0sqcyi, lookupDestination='/presence'
2025-01-11 16:36:32 [clientInboundChannel-31] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2025-01-11 16:36:32 [clientInboundChannel-27] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT receipt=close-2 session=2t0sqcyi
2025-01-11 16:36:32 [clientInboundChannel-26] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/presence session=2t0sqcyi, lookupDestination='/presence'
2025-01-11 16:36:32 [clientInboundChannel-26] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2025-01-11 16:36:32 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=2t0sqcyi] closed with CloseStatus[code=1000, reason=null]
2025-01-11 16:36:32 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session 2t0sqcyi
2025-01-11 16:36:32 [clientInboundChannel-24] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=2t0sqcyi
2025-01-11 16:36:32 [clientOutboundChannel-19] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=2t0sqcyi}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=2t0sqcyi}]
2025-01-11 16:36:32 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736631392955
2025-01-11 16:36:32 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 16:36:32 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:36:32 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 16:36:32 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:36:32 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:36:32 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736631392955
2025-01-11 16:36:32 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736631392955]
2025-01-11 16:36:32 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 16:36:32 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736631392955", parameters={t:[1736631392955]}
2025-01-11 16:36:32 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:36:32 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736631392955
2025-01-11 16:36:32 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:36:32 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736631392955]
2025-01-11 16:36:32 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/736/fkwvt4vz/websocket
2025-01-11 16:36:32 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/736/fkwvt4vz/websocket
2025-01-11 16:36:32 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:36:32 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/736/fkwvt4vz/websocket
2025-01-11 16:36:32 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:36:32 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:36:32 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/736/fkwvt4vz/websocket
2025-01-11 16:36:32 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/736/fkwvt4vz/websocket]
2025-01-11 16:36:32 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/736/fkwvt4vz/websocket - Origin: http://localhost:5173
2025-01-11 16:36:32 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/736/fkwvt4vz/websocket", parameters={}
2025-01-11 16:36:32 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:36:33 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/736/fkwvt4vz/websocket
2025-01-11 16:36:33 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 16:36:33 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/736/fkwvt4vz/websocket]
2025-01-11 16:36:33 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=fkwvt4vz]
2025-01-11 16:36:33 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:36:33 [clientInboundChannel-29] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=fkwvt4vz
2025-01-11 16:36:40 [MessageBroker-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [2t0sqcyi]
2025-01-11 16:37:37 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=fkwvt4vz] closed with CloseStatus[code=1000, reason=null]
2025-01-11 16:37:37 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session fkwvt4vz
2025-01-11 16:37:37 [clientInboundChannel-33] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=fkwvt4vz
2025-01-11 16:37:37 [clientOutboundChannel-21] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=fkwvt4vz}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=fkwvt4vz}]
2025-01-11 16:37:45 [MessageBroker-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [fkwvt4vz]
2025-01-11 16:38:55 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 16:38:55 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 16:38:55 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:38:55 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:38:55 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:38:55 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:38:55 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 16:38:55 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 16:38:55 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 16:38:55 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 16:38:55 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 16:38:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 16:38:55 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 16:38:55 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:38:55 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 16:38:55 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 14ms
2025-01-11 16:38:55 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 16:38:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:38:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 16:38:55 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:38:55 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 16:38:55 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 16:38:55 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 16:38:55 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:38:55 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:38:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:38:55 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:38:55 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 16:38:55 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 16:38:55 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 16:38:55 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 16:38:55 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 16:38:55 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 16:38:55 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 16:38:55 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:38:55 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736631535326
2025-01-11 16:38:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 16:38:55 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 16:38:55 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:38:55 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 16:38:55 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:38:55 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:38:55 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736631535326
2025-01-11 16:38:55 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736631535326]
2025-01-11 16:38:55 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 16:38:55 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736631535326", parameters={t:[1736631535326]}
2025-01-11 16:38:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:38:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736631535326
2025-01-11 16:38:55 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:38:55 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736631535326]
2025-01-11 16:38:55 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 24ms
2025-01-11 16:38:55 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 16:38:55 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:38:55 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 16:38:55 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:38:55 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 16:38:55 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/360/eqttcokb/websocket
2025-01-11 16:38:55 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/360/eqttcokb/websocket
2025-01-11 16:38:55 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:38:55 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/360/eqttcokb/websocket
2025-01-11 16:38:55 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:38:55 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:38:55 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/360/eqttcokb/websocket
2025-01-11 16:38:55 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/360/eqttcokb/websocket]
2025-01-11 16:38:55 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/360/eqttcokb/websocket - Origin: http://localhost:5173
2025-01-11 16:38:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/360/eqttcokb/websocket", parameters={}
2025-01-11 16:38:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:38:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/360/eqttcokb/websocket
2025-01-11 16:38:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 16:38:55 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/360/eqttcokb/websocket]
2025-01-11 16:38:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=eqttcokb]
2025-01-11 16:38:56 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:38:56 [clientInboundChannel-36] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=eqttcokb
2025-01-11 16:38:56 [clientInboundChannel-39] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=eqttcokb
2025-01-11 16:39:05 [clientInboundChannel-42] DEBUG org.springframework.web.SimpLogging - Processing UNSUBSCRIBE id=sub-0 session=eqttcokb
2025-01-11 16:39:05 [clientInboundChannel-37] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/presence session=eqttcokb, lookupDestination='/presence'
2025-01-11 16:39:05 [clientInboundChannel-37] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2025-01-11 16:39:05 [clientInboundChannel-39] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT receipt=close-1 session=eqttcokb
2025-01-11 16:39:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=eqttcokb] closed with CloseStatus[code=1000, reason=null]
2025-01-11 16:39:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session eqttcokb
2025-01-11 16:39:05 [clientInboundChannel-41] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=eqttcokb
2025-01-11 16:39:05 [clientOutboundChannel-24] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=eqttcokb}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=eqttcokb}]
2025-01-11 16:39:06 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736631546018
2025-01-11 16:39:06 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 16:39:06 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:39:06 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 16:39:06 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:39:06 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:39:06 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736631546018
2025-01-11 16:39:06 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736631546018]
2025-01-11 16:39:06 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 16:39:06 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736631546018", parameters={t:[1736631546018]}
2025-01-11 16:39:06 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:39:06 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736631546018
2025-01-11 16:39:06 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:39:06 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736631546018]
2025-01-11 16:39:06 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/591/3waxsufn/websocket
2025-01-11 16:39:06 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/591/3waxsufn/websocket
2025-01-11 16:39:06 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:39:06 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/591/3waxsufn/websocket
2025-01-11 16:39:06 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:39:06 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:39:06 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/591/3waxsufn/websocket
2025-01-11 16:39:06 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/591/3waxsufn/websocket]
2025-01-11 16:39:06 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/591/3waxsufn/websocket - Origin: http://localhost:5173
2025-01-11 16:39:06 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/591/3waxsufn/websocket", parameters={}
2025-01-11 16:39:06 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:39:06 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/591/3waxsufn/websocket
2025-01-11 16:39:06 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 16:39:06 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/591/3waxsufn/websocket]
2025-01-11 16:39:06 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=3waxsufn]
2025-01-11 16:39:06 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:39:06 [clientInboundChannel-37] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=3waxsufn
2025-01-11 16:39:06 [clientInboundChannel-39] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=3waxsufn
2025-01-11 16:39:09 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=3waxsufn] closed with CloseStatus[code=1000, reason=null]
2025-01-11 16:39:09 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session 3waxsufn
2025-01-11 16:39:09 [clientInboundChannel-36] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=3waxsufn
2025-01-11 16:39:09 [clientOutboundChannel-26] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=3waxsufn}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=3waxsufn}]
2025-01-11 16:39:11 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 16:39:11 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736631551486
2025-01-11 16:39:11 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 16:39:11 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 16:39:11 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 16:39:11 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:39:11 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 16:39:11 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:39:11 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:39:11 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:39:11 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:39:11 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 16:39:11 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:39:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:39:11 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:39:11 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:39:11 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736631551486
2025-01-11 16:39:11 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736631551486]
2025-01-11 16:39:11 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 16:39:11 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:39:11 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:39:11 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736631551486", parameters={t:[1736631551486]}
2025-01-11 16:39:11 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 16:39:11 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 16:39:11 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 16:39:11 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 16:39:11 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 16:39:11 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:39:11 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 16:39:11 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 16:39:11 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 16:39:11 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736631551486
2025-01-11 16:39:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 16:39:11 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 16:39:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 16:39:11 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:39:11 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 16:39:11 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 16:39:11 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736631551486]
2025-01-11 16:39:11 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 16:39:11 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:39:11 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:39:11 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 16:39:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 16:39:11 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/952/rbwgsev4/websocket
2025-01-11 16:39:11 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/952/rbwgsev4/websocket
2025-01-11 16:39:11 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:39:11 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/952/rbwgsev4/websocket
2025-01-11 16:39:11 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:39:11 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 13ms
2025-01-11 16:39:11 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:39:11 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 16:39:11 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 14ms
2025-01-11 16:39:11 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/952/rbwgsev4/websocket
2025-01-11 16:39:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:39:11 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 16:39:11 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/952/rbwgsev4/websocket]
2025-01-11 16:39:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 16:39:11 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:39:11 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 16:39:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:39:11 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 16:39:11 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/952/rbwgsev4/websocket - Origin: http://localhost:5173
2025-01-11 16:39:11 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:39:11 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 16:39:11 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/952/rbwgsev4/websocket", parameters={}
2025-01-11 16:39:11 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:39:11 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/952/rbwgsev4/websocket
2025-01-11 16:39:11 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 16:39:11 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/952/rbwgsev4/websocket]
2025-01-11 16:39:11 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=rbwgsev4]
2025-01-11 16:39:11 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:39:11 [clientInboundChannel-37] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=rbwgsev4
2025-01-11 16:39:11 [clientInboundChannel-42] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=rbwgsev4
2025-01-11 16:39:15 [MessageBroker-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 2 sessions: [eqttcokb, 3waxsufn]
2025-01-11 16:40:34 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=rbwgsev4] closed with CloseStatus[code=1000, reason=null]
2025-01-11 16:40:34 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session rbwgsev4
2025-01-11 16:40:34 [clientInboundChannel-44] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=rbwgsev4
2025-01-11 16:40:34 [clientOutboundChannel-28] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=rbwgsev4}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=rbwgsev4}]
2025-01-11 16:40:36 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 16:40:36 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 16:40:36 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:40:36 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 16:40:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736631636078
2025-01-11 16:40:36 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 16:40:36 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:40:36 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 16:40:36 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:40:36 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 16:40:36 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:40:36 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:40:36 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:40:36 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:40:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736631636078
2025-01-11 16:40:36 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736631636078]
2025-01-11 16:40:36 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 16:40:36 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736631636078", parameters={t:[1736631636078]}
2025-01-11 16:40:36 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:40:36 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:40:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:40:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736631636078
2025-01-11 16:40:36 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:40:36 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736631636078]
2025-01-11 16:40:36 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:40:36 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:40:36 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 16:40:36 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 16:40:36 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 16:40:36 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 16:40:36 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 16:40:36 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 16:40:36 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 16:40:36 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 16:40:36 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 16:40:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 16:40:36 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 16:40:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 16:40:36 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 16:40:36 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 16:40:36 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:40:36 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:40:36 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 16:40:36 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 16:40:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/824/tpvjsln4/websocket
2025-01-11 16:40:36 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/824/tpvjsln4/websocket
2025-01-11 16:40:36 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:40:36 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/824/tpvjsln4/websocket
2025-01-11 16:40:36 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 16ms
2025-01-11 16:40:36 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 16ms
2025-01-11 16:40:36 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:40:36 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 16:40:36 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 16:40:36 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:40:36 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:40:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:40:36 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 16:40:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 16:40:36 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:40:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:40:36 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 16:40:36 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 16:40:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/824/tpvjsln4/websocket
2025-01-11 16:40:36 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/824/tpvjsln4/websocket]
2025-01-11 16:40:36 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/824/tpvjsln4/websocket - Origin: http://localhost:5173
2025-01-11 16:40:36 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/824/tpvjsln4/websocket", parameters={}
2025-01-11 16:40:36 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:40:36 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/824/tpvjsln4/websocket
2025-01-11 16:40:36 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 16:40:36 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/824/tpvjsln4/websocket]
2025-01-11 16:40:36 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=tpvjsln4]
2025-01-11 16:40:36 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:40:36 [clientInboundChannel-47] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=tpvjsln4
2025-01-11 16:40:36 [clientInboundChannel-50] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=tpvjsln4
2025-01-11 16:40:40 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [rbwgsev4]
2025-01-11 16:41:05 [clientInboundChannel-45] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/presence session=tpvjsln4, lookupDestination='/presence'
2025-01-11 16:41:05 [clientInboundChannel-45] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2025-01-11 16:41:05 [clientInboundChannel-47] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT receipt=close-1 session=tpvjsln4
2025-01-11 16:41:05 [clientInboundChannel-50] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/presence session=tpvjsln4, lookupDestination='/presence'
2025-01-11 16:41:05 [clientInboundChannel-50] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2025-01-11 16:41:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=tpvjsln4] closed with CloseStatus[code=1000, reason=null]
2025-01-11 16:41:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session tpvjsln4
2025-01-11 16:41:05 [clientInboundChannel-45] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=tpvjsln4
2025-01-11 16:41:05 [clientOutboundChannel-31] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=tpvjsln4}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=tpvjsln4}]
2025-01-11 16:41:05 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736631665959
2025-01-11 16:41:05 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 16:41:05 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:41:05 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 16:41:05 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:41:05 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:41:05 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736631665959
2025-01-11 16:41:05 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736631665959]
2025-01-11 16:41:05 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 16:41:05 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736631665959", parameters={t:[1736631665959]}
2025-01-11 16:41:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:41:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736631665959
2025-01-11 16:41:05 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:41:05 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736631665959]
2025-01-11 16:41:05 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/377/lcqai4sf/websocket
2025-01-11 16:41:05 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/377/lcqai4sf/websocket
2025-01-11 16:41:05 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:41:05 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/377/lcqai4sf/websocket
2025-01-11 16:41:05 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:41:05 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:41:05 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/377/lcqai4sf/websocket
2025-01-11 16:41:05 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/377/lcqai4sf/websocket]
2025-01-11 16:41:05 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/377/lcqai4sf/websocket - Origin: http://localhost:5173
2025-01-11 16:41:05 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/377/lcqai4sf/websocket", parameters={}
2025-01-11 16:41:05 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:41:05 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/377/lcqai4sf/websocket
2025-01-11 16:41:05 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 16:41:05 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/377/lcqai4sf/websocket]
2025-01-11 16:41:05 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=lcqai4sf]
2025-01-11 16:41:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:41:05 [clientInboundChannel-47] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=lcqai4sf
2025-01-11 16:41:07 [clientInboundChannel-44] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=lcqai4sf
2025-01-11 16:41:15 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [tpvjsln4]
2025-01-11 16:44:16 [clientInboundChannel-51] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/presence session=lcqai4sf, lookupDestination='/presence'
2025-01-11 16:44:16 [clientInboundChannel-51] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2025-01-11 16:44:16 [clientInboundChannel-55] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT receipt=close-1 session=lcqai4sf
2025-01-11 16:44:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=lcqai4sf] closed with CloseStatus[code=1000, reason=null]
2025-01-11 16:44:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session lcqai4sf
2025-01-11 16:44:16 [clientInboundChannel-58] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=lcqai4sf
2025-01-11 16:44:16 [clientOutboundChannel-34] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=lcqai4sf}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=lcqai4sf}]
2025-01-11 16:44:16 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736631856237
2025-01-11 16:44:16 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 16:44:16 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:44:16 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 16:44:16 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:44:16 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:44:16 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736631856237
2025-01-11 16:44:16 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736631856237]
2025-01-11 16:44:16 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 16:44:16 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736631856237", parameters={t:[1736631856237]}
2025-01-11 16:44:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:44:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736631856237
2025-01-11 16:44:16 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:44:16 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736631856237]
2025-01-11 16:44:16 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/086/ufgm2d0o/websocket
2025-01-11 16:44:16 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/086/ufgm2d0o/websocket
2025-01-11 16:44:16 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:44:16 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/086/ufgm2d0o/websocket
2025-01-11 16:44:16 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:44:16 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:44:16 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/086/ufgm2d0o/websocket
2025-01-11 16:44:16 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/086/ufgm2d0o/websocket]
2025-01-11 16:44:16 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/086/ufgm2d0o/websocket - Origin: http://localhost:5173
2025-01-11 16:44:16 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/086/ufgm2d0o/websocket", parameters={}
2025-01-11 16:44:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:44:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/086/ufgm2d0o/websocket
2025-01-11 16:44:16 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 16:44:16 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/086/ufgm2d0o/websocket]
2025-01-11 16:44:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=ufgm2d0o]
2025-01-11 16:44:16 [http-nio-8080-exec-1] ERROR c.g.a.c.security.ClerkTokenValidator - Token verification failed
com.auth0.jwt.exceptions.TokenExpiredException: The Token has expired on 2025-01-11T21:41:34Z.
	at com.auth0.jwt.JWTVerifier$BaseVerification.assertValidInstantClaim(JWTVerifier.java:346)
	at com.auth0.jwt.JWTVerifier$BaseVerification.lambda$addMandatoryClaimChecks$17(JWTVerifier.java:308)
	at com.auth0.jwt.JWTVerifier$BaseVerification$1.verify(JWTVerifier.java:405)
	at com.auth0.jwt.JWTVerifier.verifyClaims(JWTVerifier.java:482)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:464)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:58)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkChannelInterceptor.preSend(ClerkChannelInterceptor.java:36)
	at org.springframework.messaging.support.AbstractMessageChannel$ChannelInterceptorChain.applyPreSend(AbstractMessageChannel.java:181)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:135)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:125)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageFromClient(StompSubProtocolHandler.java:343)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:336)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.delegateMessages(AbstractSockJsSession.java:346)
	at org.springframework.web.socket.sockjs.transport.session.WebSocketServerSockJsSession.handleMessage(WebSocketServerSockJsSession.java:195)
	at org.springframework.web.socket.sockjs.transport.handler.SockJsWebSocketHandler.handleTextMessage(SockJsWebSocketHandler.java:93)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-01-11 16:44:16 [http-nio-8080-exec-1] ERROR c.g.a.c.s.ClerkChannelInterceptor - WebSocket authentication failed
com.auth0.jwt.exceptions.JWTVerificationException: Invalid token
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:65)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkChannelInterceptor.preSend(ClerkChannelInterceptor.java:36)
	at org.springframework.messaging.support.AbstractMessageChannel$ChannelInterceptorChain.applyPreSend(AbstractMessageChannel.java:181)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:135)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:125)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageFromClient(StompSubProtocolHandler.java:343)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:336)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.delegateMessages(AbstractSockJsSession.java:346)
	at org.springframework.web.socket.sockjs.transport.session.WebSocketServerSockJsSession.handleMessage(WebSocketServerSockJsSession.java:195)
	at org.springframework.web.socket.sockjs.transport.handler.SockJsWebSocketHandler.handleTextMessage(SockJsWebSocketHandler.java:93)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: com.auth0.jwt.exceptions.TokenExpiredException: The Token has expired on 2025-01-11T21:41:34Z.
	at com.auth0.jwt.JWTVerifier$BaseVerification.assertValidInstantClaim(JWTVerifier.java:346)
	at com.auth0.jwt.JWTVerifier$BaseVerification.lambda$addMandatoryClaimChecks$17(JWTVerifier.java:308)
	at com.auth0.jwt.JWTVerifier$BaseVerification$1.verify(JWTVerifier.java:405)
	at com.auth0.jwt.JWTVerifier.verifyClaims(JWTVerifier.java:482)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:464)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:58)
	... 34 common frames omitted
2025-01-11 16:44:16 [http-nio-8080-exec-1] DEBUG org.springframework.web.SimpLogging - ClerkChannelInterceptor returned null from preSend, i.e. precluding the send.
2025-01-11 16:44:25 [MessageBroker-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [lcqai4sf]
2025-01-11 16:48:18 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=ufgm2d0o] closed with CloseStatus[code=1000, reason=null]
2025-01-11 16:48:18 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session ufgm2d0o
2025-01-11 16:48:19 [clientInboundChannel-60] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=ufgm2d0o
2025-01-11 16:48:19 [clientOutboundChannel-35] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=ufgm2d0o}], simpSessionId=ufgm2d0o}]
2025-01-11 16:48:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users
2025-01-11 16:48:20 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 16:48:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 16:48:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736632100802
2025-01-11 16:48:20 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 16:48:20 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 16:48:20 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:48:20 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:48:20 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:48:20 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 16:48:20 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:48:20 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:48:20 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 16:48:20 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:48:20 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:48:20 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:48:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:48:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736632100802
2025-01-11 16:48:20 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736632100802]
2025-01-11 16:48:20 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 16:48:20 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736632100802", parameters={t:[1736632100802]}
2025-01-11 16:48:20 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:48:20 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736632100802
2025-01-11 16:48:20 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:48:20 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 16:48:20 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 16:48:20 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 16:48:20 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:48:20 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 16:48:20 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 16:48:20 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 16:48:20 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 16:48:20 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:48:20 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736632100802]
2025-01-11 16:48:20 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 16:48:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/188/yqm4mwzj/websocket
2025-01-11 16:48:20 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/188/yqm4mwzj/websocket
2025-01-11 16:48:20 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:48:20 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/188/yqm4mwzj/websocket
2025-01-11 16:48:20 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:48:20 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 16:48:20 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:48:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 16:48:20 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 16:48:20 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 16:48:20 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 16:48:20 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:48:20 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 16:48:20 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 16:48:20 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:48:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 16:48:20 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 32ms
2025-01-11 16:48:20 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 16:48:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/188/yqm4mwzj/websocket
2025-01-11 16:48:20 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:48:20 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/188/yqm4mwzj/websocket]
2025-01-11 16:48:20 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 16:48:20 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/188/yqm4mwzj/websocket - Origin: http://localhost:5173
2025-01-11 16:48:20 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:48:20 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/188/yqm4mwzj/websocket", parameters={}
2025-01-11 16:48:20 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 16:48:20 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:48:21 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/188/yqm4mwzj/websocket
2025-01-11 16:48:21 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 16:48:21 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/188/yqm4mwzj/websocket]
2025-01-11 16:48:21 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=yqm4mwzj]
2025-01-11 16:48:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:48:21 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 65ms
2025-01-11 16:48:21 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 16:48:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:48:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 16:48:21 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:48:21 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 16:48:21 [clientInboundChannel-63] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=yqm4mwzj
2025-01-11 16:48:21 [clientInboundChannel-66] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=yqm4mwzj
2025-01-11 16:48:22 [clientInboundChannel-59] DEBUG org.springframework.web.SimpLogging - Processing UNSUBSCRIBE id=sub-0 session=yqm4mwzj
2025-01-11 16:48:22 [clientInboundChannel-60] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-1 session=yqm4mwzj
2025-01-11 16:48:25 [MessageBroker-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [ufgm2d0o]
2025-01-11 16:48:26 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/channels
2025-01-11 16:48:26 [clientInboundChannel-65] DEBUG org.springframework.web.SimpLogging - Processing UNSUBSCRIBE id=sub-1 session=yqm4mwzj
2025-01-11 16:48:26 [clientInboundChannel-66] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-2 session=yqm4mwzj
2025-01-11 16:48:26 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/channels
2025-01-11 16:48:26 [http-nio-8080-exec-4] DEBUG o.s.security.web.csrf.CsrfFilter - Invalid CSRF token found for http://localhost:8080/api/channels
2025-01-11 16:48:26 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AccessDeniedHandlerImpl - Responding with 403 status code
2025-01-11 16:48:26 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-01-11 16:48:26 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:48:26 [clientInboundChannel-61] DEBUG org.springframework.web.SimpLogging - Processing UNSUBSCRIBE id=sub-2 session=yqm4mwzj
2025-01-11 16:48:26 [clientInboundChannel-60] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-3 session=yqm4mwzj
2025-01-11 16:48:26 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=yqm4mwzj] closed with CloseStatus[code=1000, reason=null]
2025-01-11 16:48:26 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session yqm4mwzj
2025-01-11 16:48:26 [clientInboundChannel-66] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=yqm4mwzj
2025-01-11 16:48:26 [clientOutboundChannel-37] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=yqm4mwzj}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=yqm4mwzj}]
2025-01-11 16:48:27 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736632107552
2025-01-11 16:48:27 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 16:48:27 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:48:27 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 16:48:27 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:48:27 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:48:27 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736632107552
2025-01-11 16:48:27 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736632107552]
2025-01-11 16:48:27 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 16:48:27 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736632107552", parameters={t:[1736632107552]}
2025-01-11 16:48:27 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:48:27 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736632107552
2025-01-11 16:48:27 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:48:27 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736632107552]
2025-01-11 16:48:27 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/324/0pcr4qey/websocket
2025-01-11 16:48:27 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/324/0pcr4qey/websocket
2025-01-11 16:48:27 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:48:27 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/324/0pcr4qey/websocket
2025-01-11 16:48:27 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:48:27 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:48:27 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/324/0pcr4qey/websocket
2025-01-11 16:48:27 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/324/0pcr4qey/websocket]
2025-01-11 16:48:27 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/324/0pcr4qey/websocket - Origin: http://localhost:5173
2025-01-11 16:48:27 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/324/0pcr4qey/websocket", parameters={}
2025-01-11 16:48:27 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:48:27 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/324/0pcr4qey/websocket
2025-01-11 16:48:27 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 16:48:27 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/324/0pcr4qey/websocket]
2025-01-11 16:48:27 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=0pcr4qey]
2025-01-11 16:48:27 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:48:27 [clientInboundChannel-61] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=0pcr4qey
2025-01-11 16:48:35 [MessageBroker-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [yqm4mwzj]
2025-01-11 16:48:45 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=0pcr4qey] closed with CloseStatus[code=1000, reason=null]
2025-01-11 16:48:45 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session 0pcr4qey
2025-01-11 16:48:45 [clientInboundChannel-63] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=0pcr4qey
2025-01-11 16:48:45 [clientOutboundChannel-39] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=0pcr4qey}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=0pcr4qey}]
2025-01-11 16:48:46 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 16:48:46 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 16:48:46 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736632126280
2025-01-11 16:48:46 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 16:48:46 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 16:48:46 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 16:48:46 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:48:46 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:48:46 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:48:46 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 16:48:46 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:48:46 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:48:46 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:48:46 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:48:46 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736632126280
2025-01-11 16:48:46 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736632126280]
2025-01-11 16:48:46 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 16:48:46 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:48:46 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736632126280", parameters={t:[1736632126280]}
2025-01-11 16:48:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:48:46 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:48:46 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736632126280
2025-01-11 16:48:46 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:48:46 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 16:48:46 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 16:48:46 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:48:46 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 16:48:46 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 16:48:46 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736632126280]
2025-01-11 16:48:46 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 16:48:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 16:48:46 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 16:48:46 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:48:46 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 16:48:46 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/491/wcnjnpp4/websocket
2025-01-11 16:48:46 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/491/wcnjnpp4/websocket
2025-01-11 16:48:46 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:48:46 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 16:48:46 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 16:48:46 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 16:48:46 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 16:48:46 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 16:48:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 16:48:46 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 16:48:46 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:48:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 16:48:46 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:48:46 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/491/wcnjnpp4/websocket
2025-01-11 16:48:46 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 33ms
2025-01-11 16:48:46 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 16:48:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:48:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 16:48:46 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:48:46 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 16:48:46 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:48:46 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:48:46 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 46ms
2025-01-11 16:48:46 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 16:48:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:48:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 16:48:46 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:48:46 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 16:48:46 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/491/wcnjnpp4/websocket
2025-01-11 16:48:46 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/491/wcnjnpp4/websocket]
2025-01-11 16:48:46 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/491/wcnjnpp4/websocket - Origin: http://localhost:5173
2025-01-11 16:48:46 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/491/wcnjnpp4/websocket", parameters={}
2025-01-11 16:48:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:48:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/491/wcnjnpp4/websocket
2025-01-11 16:48:46 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 16:48:46 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/491/wcnjnpp4/websocket]
2025-01-11 16:48:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=wcnjnpp4]
2025-01-11 16:48:46 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:48:46 [clientInboundChannel-64] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=wcnjnpp4
2025-01-11 16:48:46 [clientInboundChannel-62] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=wcnjnpp4
2025-01-11 16:48:50 [MessageBroker-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [0pcr4qey]
2025-01-11 16:49:32 [MessageBroker-4] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 27 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(19)-CONNECTED(17)-DISCONNECT(7)], stompBrokerRelay[null], inboundChannel[pool size = 6, active threads = 0, queued tasks = 0, completed tasks = 249], outboundChannel[pool size = 2, active threads = 0, queued tasks = 0, completed tasks = 50], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 2, completed tasks = 305]
2025-01-11 16:49:38 [clientInboundChannel-67] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/presence session=wcnjnpp4, lookupDestination='/presence'
2025-01-11 16:49:38 [clientInboundChannel-67] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2025-01-11 16:49:38 [clientInboundChannel-66] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT receipt=close-1 session=wcnjnpp4
2025-01-11 16:49:38 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=wcnjnpp4] closed with CloseStatus[code=1000, reason=null]
2025-01-11 16:49:38 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session wcnjnpp4
2025-01-11 16:49:38 [clientInboundChannel-61] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=wcnjnpp4
2025-01-11 16:49:38 [clientOutboundChannel-42] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=wcnjnpp4}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=wcnjnpp4}]
2025-01-11 16:49:38 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736632178965
2025-01-11 16:49:38 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 16:49:38 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:49:38 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 16:49:38 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:49:38 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:49:38 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736632178965
2025-01-11 16:49:38 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736632178965]
2025-01-11 16:49:38 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 16:49:38 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736632178965", parameters={t:[1736632178965]}
2025-01-11 16:49:38 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:49:38 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736632178965
2025-01-11 16:49:38 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:49:38 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736632178965]
2025-01-11 16:49:38 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/947/w2awlsss/websocket
2025-01-11 16:49:38 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/947/w2awlsss/websocket
2025-01-11 16:49:38 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 16:49:38 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/947/w2awlsss/websocket
2025-01-11 16:49:38 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 16:49:38 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 16:49:38 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/947/w2awlsss/websocket
2025-01-11 16:49:38 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/947/w2awlsss/websocket]
2025-01-11 16:49:38 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/947/w2awlsss/websocket - Origin: http://localhost:5173
2025-01-11 16:49:38 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/947/w2awlsss/websocket", parameters={}
2025-01-11 16:49:38 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 16:49:38 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/947/w2awlsss/websocket
2025-01-11 16:49:38 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 16:49:38 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/947/w2awlsss/websocket]
2025-01-11 16:49:38 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=w2awlsss]
2025-01-11 16:49:39 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:49:39 [clientInboundChannel-67] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=w2awlsss
2025-01-11 16:49:40 [clientInboundChannel-60] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=w2awlsss
2025-01-11 16:49:45 [MessageBroker-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [wcnjnpp4]
2025-01-11 16:54:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 16:54:21 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 16:54:21 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 16:54:21 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 16:54:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 16:54:22 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 16:54:22 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 16:54:22 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 16:54:22 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 16:54:22 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 16:54:22 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 16:54:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 16:54:22 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 16:54:22 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 16:54:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 16:54:22 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 459ms
2025-01-11 16:54:22 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 16:54:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 16:54:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 16:54:22 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 16:54:22 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 17:00:08 [clientInboundChannel-69] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/presence session=w2awlsss, lookupDestination='/presence'
2025-01-11 17:00:08 [clientInboundChannel-69] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2025-01-11 17:00:08 [clientInboundChannel-73] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT receipt=close-1 session=w2awlsss
2025-01-11 17:00:08 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=w2awlsss] closed with CloseStatus[code=1000, reason=null]
2025-01-11 17:00:08 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session w2awlsss
2025-01-11 17:00:08 [clientInboundChannel-76] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=w2awlsss
2025-01-11 17:00:08 [clientOutboundChannel-45] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=w2awlsss}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=w2awlsss}]
2025-01-11 17:00:08 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736632808934
2025-01-11 17:00:08 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:00:08 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:00:08 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:00:08 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:00:08 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:00:08 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736632808934
2025-01-11 17:00:08 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736632808934]
2025-01-11 17:00:08 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:00:08 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736632808934", parameters={t:[1736632808934]}
2025-01-11 17:00:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:00:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736632808934
2025-01-11 17:00:08 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:00:08 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736632808934]
2025-01-11 17:00:08 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/783/cyhla3rh/websocket
2025-01-11 17:00:08 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/783/cyhla3rh/websocket
2025-01-11 17:00:08 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:00:08 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/783/cyhla3rh/websocket
2025-01-11 17:00:08 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:00:08 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:00:08 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/783/cyhla3rh/websocket
2025-01-11 17:00:08 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/783/cyhla3rh/websocket]
2025-01-11 17:00:08 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/783/cyhla3rh/websocket - Origin: http://localhost:5173
2025-01-11 17:00:08 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/783/cyhla3rh/websocket", parameters={}
2025-01-11 17:00:08 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:00:08 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/783/cyhla3rh/websocket
2025-01-11 17:00:08 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:00:08 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/783/cyhla3rh/websocket]
2025-01-11 17:00:08 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=cyhla3rh]
2025-01-11 17:00:08 [http-nio-8080-exec-4] ERROR c.g.a.c.security.ClerkTokenValidator - Token verification failed
com.auth0.jwt.exceptions.TokenExpiredException: The Token has expired on 2025-01-11T21:49:45Z.
	at com.auth0.jwt.JWTVerifier$BaseVerification.assertValidInstantClaim(JWTVerifier.java:346)
	at com.auth0.jwt.JWTVerifier$BaseVerification.lambda$addMandatoryClaimChecks$17(JWTVerifier.java:308)
	at com.auth0.jwt.JWTVerifier$BaseVerification$1.verify(JWTVerifier.java:405)
	at com.auth0.jwt.JWTVerifier.verifyClaims(JWTVerifier.java:482)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:464)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:58)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkChannelInterceptor.preSend(ClerkChannelInterceptor.java:36)
	at org.springframework.messaging.support.AbstractMessageChannel$ChannelInterceptorChain.applyPreSend(AbstractMessageChannel.java:181)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:135)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:125)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageFromClient(StompSubProtocolHandler.java:343)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:336)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.delegateMessages(AbstractSockJsSession.java:346)
	at org.springframework.web.socket.sockjs.transport.session.WebSocketServerSockJsSession.handleMessage(WebSocketServerSockJsSession.java:195)
	at org.springframework.web.socket.sockjs.transport.handler.SockJsWebSocketHandler.handleTextMessage(SockJsWebSocketHandler.java:93)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-01-11 17:00:08 [http-nio-8080-exec-4] ERROR c.g.a.c.s.ClerkChannelInterceptor - WebSocket authentication failed
com.auth0.jwt.exceptions.JWTVerificationException: Invalid token
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:65)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkChannelInterceptor.preSend(ClerkChannelInterceptor.java:36)
	at org.springframework.messaging.support.AbstractMessageChannel$ChannelInterceptorChain.applyPreSend(AbstractMessageChannel.java:181)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:135)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:125)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageFromClient(StompSubProtocolHandler.java:343)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:336)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.delegateMessages(AbstractSockJsSession.java:346)
	at org.springframework.web.socket.sockjs.transport.session.WebSocketServerSockJsSession.handleMessage(WebSocketServerSockJsSession.java:195)
	at org.springframework.web.socket.sockjs.transport.handler.SockJsWebSocketHandler.handleTextMessage(SockJsWebSocketHandler.java:93)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: com.auth0.jwt.exceptions.TokenExpiredException: The Token has expired on 2025-01-11T21:49:45Z.
	at com.auth0.jwt.JWTVerifier$BaseVerification.assertValidInstantClaim(JWTVerifier.java:346)
	at com.auth0.jwt.JWTVerifier$BaseVerification.lambda$addMandatoryClaimChecks$17(JWTVerifier.java:308)
	at com.auth0.jwt.JWTVerifier$BaseVerification$1.verify(JWTVerifier.java:405)
	at com.auth0.jwt.JWTVerifier.verifyClaims(JWTVerifier.java:482)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:464)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:58)
	... 34 common frames omitted
2025-01-11 17:00:08 [http-nio-8080-exec-4] DEBUG org.springframework.web.SimpLogging - ClerkChannelInterceptor returned null from preSend, i.e. precluding the send.
2025-01-11 17:00:15 [MessageBroker-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [w2awlsss]
2025-01-11 17:04:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=cyhla3rh] closed with CloseStatus[code=1000, reason=null]
2025-01-11 17:04:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session cyhla3rh
2025-01-11 17:04:05 [clientInboundChannel-78] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=cyhla3rh
2025-01-11 17:04:05 [clientOutboundChannel-46] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=cyhla3rh}], simpSessionId=cyhla3rh}]
2025-01-11 17:04:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736633045927
2025-01-11 17:04:05 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:04:05 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:04:05 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:04:05 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:04:05 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:04:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736633045927
2025-01-11 17:04:05 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736633045927]
2025-01-11 17:04:05 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:04:05 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736633045927", parameters={t:[1736633045927]}
2025-01-11 17:04:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:04:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736633045927
2025-01-11 17:04:05 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:04:05 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736633045927]
2025-01-11 17:04:06 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/503/byf2dblo/websocket
2025-01-11 17:04:06 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/503/byf2dblo/websocket
2025-01-11 17:04:06 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:04:06 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/503/byf2dblo/websocket
2025-01-11 17:04:06 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:04:06 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:04:06 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/503/byf2dblo/websocket
2025-01-11 17:04:06 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/503/byf2dblo/websocket]
2025-01-11 17:04:06 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/503/byf2dblo/websocket - Origin: http://localhost:5173
2025-01-11 17:04:06 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/503/byf2dblo/websocket", parameters={}
2025-01-11 17:04:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:04:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/503/byf2dblo/websocket
2025-01-11 17:04:06 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:04:06 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/503/byf2dblo/websocket]
2025-01-11 17:04:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=byf2dblo]
2025-01-11 17:04:06 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:04:06 [clientInboundChannel-81] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=byf2dblo
2025-01-11 17:04:06 [clientInboundChannel-84] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=byf2dblo
2025-01-11 17:04:15 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [cyhla3rh]
2025-01-11 17:05:50 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 17:05:50 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 17:05:51 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 17:05:51 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:05:51 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:05:51 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 17:05:51 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 17:05:51 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 17:05:51 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 17:05:51 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 17:05:51 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 17:05:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 17:05:51 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 17:05:51 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 17:05:51 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 17:05:52 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 181ms
2025-01-11 17:05:52 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 17:05:52 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 17:05:52 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 17:05:52 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:05:52 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 17:08:21 [clientInboundChannel-85] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/presence session=byf2dblo, lookupDestination='/presence'
2025-01-11 17:08:21 [clientInboundChannel-85] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2025-01-11 17:08:21 [clientInboundChannel-89] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT receipt=close-1 session=byf2dblo
2025-01-11 17:08:21 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 17:08:21 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 17:08:21 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 17:08:21 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:08:21 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=byf2dblo] closed with CloseStatus[code=1000, reason=null]
2025-01-11 17:08:21 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:08:21 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session byf2dblo
2025-01-11 17:08:21 [clientInboundChannel-92] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=byf2dblo
2025-01-11 17:08:21 [clientOutboundChannel-49] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=byf2dblo}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=byf2dblo}]
2025-01-11 17:08:21 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 17:08:21 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 17:08:21 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 17:08:21 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 17:08:21 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 17:08:21 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 17:08:21 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 17:08:21 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 17:08:21 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 17:08:21 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 17:08:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736633301972
2025-01-11 17:08:21 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:08:21 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 9ms
2025-01-11 17:08:21 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 17:08:21 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 17:08:21 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 17:08:21 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:08:21 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 17:08:21 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:08:21 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:08:21 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:08:21 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:08:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736633301972
2025-01-11 17:08:21 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736633301972]
2025-01-11 17:08:21 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:08:21 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736633301972", parameters={t:[1736633301972]}
2025-01-11 17:08:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:08:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736633301972
2025-01-11 17:08:21 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:08:21 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736633301972]
2025-01-11 17:08:22 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/744/24zx2frw/websocket
2025-01-11 17:08:22 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/744/24zx2frw/websocket
2025-01-11 17:08:22 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:08:22 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/744/24zx2frw/websocket
2025-01-11 17:08:22 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:08:22 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:08:22 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/744/24zx2frw/websocket
2025-01-11 17:08:22 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/744/24zx2frw/websocket]
2025-01-11 17:08:22 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/744/24zx2frw/websocket - Origin: http://localhost:5173
2025-01-11 17:08:22 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/744/24zx2frw/websocket", parameters={}
2025-01-11 17:08:22 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:08:22 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/744/24zx2frw/websocket
2025-01-11 17:08:22 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:08:22 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/744/24zx2frw/websocket]
2025-01-11 17:08:22 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=24zx2frw]
2025-01-11 17:08:22 [http-nio-8080-exec-7] ERROR c.g.a.c.security.ClerkTokenValidator - Token verification failed
com.auth0.jwt.exceptions.TokenExpiredException: The Token has expired on 2025-01-11T22:04:38Z.
	at com.auth0.jwt.JWTVerifier$BaseVerification.assertValidInstantClaim(JWTVerifier.java:346)
	at com.auth0.jwt.JWTVerifier$BaseVerification.lambda$addMandatoryClaimChecks$17(JWTVerifier.java:308)
	at com.auth0.jwt.JWTVerifier$BaseVerification$1.verify(JWTVerifier.java:405)
	at com.auth0.jwt.JWTVerifier.verifyClaims(JWTVerifier.java:482)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:464)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:58)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkChannelInterceptor.preSend(ClerkChannelInterceptor.java:36)
	at org.springframework.messaging.support.AbstractMessageChannel$ChannelInterceptorChain.applyPreSend(AbstractMessageChannel.java:181)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:135)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:125)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageFromClient(StompSubProtocolHandler.java:343)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:336)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.delegateMessages(AbstractSockJsSession.java:346)
	at org.springframework.web.socket.sockjs.transport.session.WebSocketServerSockJsSession.handleMessage(WebSocketServerSockJsSession.java:195)
	at org.springframework.web.socket.sockjs.transport.handler.SockJsWebSocketHandler.handleTextMessage(SockJsWebSocketHandler.java:93)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-01-11 17:08:22 [http-nio-8080-exec-7] ERROR c.g.a.c.s.ClerkChannelInterceptor - WebSocket authentication failed
com.auth0.jwt.exceptions.JWTVerificationException: Invalid token
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:65)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkChannelInterceptor.preSend(ClerkChannelInterceptor.java:36)
	at org.springframework.messaging.support.AbstractMessageChannel$ChannelInterceptorChain.applyPreSend(AbstractMessageChannel.java:181)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:135)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:125)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageFromClient(StompSubProtocolHandler.java:343)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:336)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.delegateMessages(AbstractSockJsSession.java:346)
	at org.springframework.web.socket.sockjs.transport.session.WebSocketServerSockJsSession.handleMessage(WebSocketServerSockJsSession.java:195)
	at org.springframework.web.socket.sockjs.transport.handler.SockJsWebSocketHandler.handleTextMessage(SockJsWebSocketHandler.java:93)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: com.auth0.jwt.exceptions.TokenExpiredException: The Token has expired on 2025-01-11T22:04:38Z.
	at com.auth0.jwt.JWTVerifier$BaseVerification.assertValidInstantClaim(JWTVerifier.java:346)
	at com.auth0.jwt.JWTVerifier$BaseVerification.lambda$addMandatoryClaimChecks$17(JWTVerifier.java:308)
	at com.auth0.jwt.JWTVerifier$BaseVerification$1.verify(JWTVerifier.java:405)
	at com.auth0.jwt.JWTVerifier.verifyClaims(JWTVerifier.java:482)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:464)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:58)
	... 34 common frames omitted
2025-01-11 17:08:22 [http-nio-8080-exec-7] DEBUG org.springframework.web.SimpLogging - ClerkChannelInterceptor returned null from preSend, i.e. precluding the send.
2025-01-11 17:08:30 [MessageBroker-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [byf2dblo]
2025-01-11 17:09:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=24zx2frw] closed with CloseStatus[code=1000, reason=null]
2025-01-11 17:09:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session 24zx2frw
2025-01-11 17:09:42 [clientInboundChannel-94] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=24zx2frw
2025-01-11 17:09:42 [clientOutboundChannel-50] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=24zx2frw}], simpSessionId=24zx2frw}]
2025-01-11 17:09:42 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736633382965
2025-01-11 17:09:42 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:09:42 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:09:42 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:09:42 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:09:42 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:09:42 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736633382965
2025-01-11 17:09:42 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736633382965]
2025-01-11 17:09:42 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:09:42 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736633382965", parameters={t:[1736633382965]}
2025-01-11 17:09:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:09:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736633382965
2025-01-11 17:09:42 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:09:42 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736633382965]
2025-01-11 17:09:42 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/524/sp3psvhp/websocket
2025-01-11 17:09:42 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/524/sp3psvhp/websocket
2025-01-11 17:09:42 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:09:42 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/524/sp3psvhp/websocket
2025-01-11 17:09:42 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:09:42 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:09:42 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/524/sp3psvhp/websocket
2025-01-11 17:09:42 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/524/sp3psvhp/websocket]
2025-01-11 17:09:42 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/524/sp3psvhp/websocket - Origin: http://localhost:5173
2025-01-11 17:09:42 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/524/sp3psvhp/websocket", parameters={}
2025-01-11 17:09:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:09:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/524/sp3psvhp/websocket
2025-01-11 17:09:42 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:09:42 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/524/sp3psvhp/websocket]
2025-01-11 17:09:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=sp3psvhp]
2025-01-11 17:09:42 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:09:43 [clientInboundChannel-97] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=sp3psvhp
2025-01-11 17:09:43 [clientInboundChannel-100] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=sp3psvhp
2025-01-11 17:09:45 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=sp3psvhp] closed with CloseStatus[code=1000, reason=null]
2025-01-11 17:09:45 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session sp3psvhp
2025-01-11 17:09:45 [clientInboundChannel-95] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=sp3psvhp
2025-01-11 17:09:45 [clientOutboundChannel-52] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=sp3psvhp}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=sp3psvhp}]
2025-01-11 17:09:47 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 17:09:47 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 17:09:47 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 17:09:47 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:09:47 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 17:09:47 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736633387198
2025-01-11 17:09:47 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 17:09:47 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:09:47 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:09:47 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:09:47 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 17:09:47 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:09:47 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:09:47 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:09:47 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:09:47 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736633387198
2025-01-11 17:09:47 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736633387198]
2025-01-11 17:09:47 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:09:47 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:09:47 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736633387198", parameters={t:[1736633387198]}
2025-01-11 17:09:47 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 17:09:47 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 17:09:47 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:09:47 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 17:09:47 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 17:09:47 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 17:09:47 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736633387198
2025-01-11 17:09:47 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 17:09:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 17:09:47 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:09:47 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 17:09:47 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 17:09:47 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736633387198]
2025-01-11 17:09:47 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 17:09:47 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 17:09:47 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 17:09:47 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 17:09:47 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 17:09:47 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 17:09:47 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 17:09:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 17:09:47 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 17:09:47 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 17:09:47 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 17:09:47 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/833/jpc54k4b/websocket
2025-01-11 17:09:47 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/833/jpc54k4b/websocket
2025-01-11 17:09:47 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:09:47 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/833/jpc54k4b/websocket
2025-01-11 17:09:47 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:09:47 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:09:47 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/833/jpc54k4b/websocket
2025-01-11 17:09:47 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/833/jpc54k4b/websocket]
2025-01-11 17:09:47 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/833/jpc54k4b/websocket - Origin: http://localhost:5173
2025-01-11 17:09:47 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/833/jpc54k4b/websocket", parameters={}
2025-01-11 17:09:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:09:47 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 22ms
2025-01-11 17:09:47 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 17:09:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 17:09:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 17:09:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/833/jpc54k4b/websocket
2025-01-11 17:09:47 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:09:47 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 17:09:47 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:09:47 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/833/jpc54k4b/websocket]
2025-01-11 17:09:47 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 29ms
2025-01-11 17:09:47 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 17:09:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 17:09:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 17:09:47 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:09:47 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 17:09:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=jpc54k4b]
2025-01-11 17:09:47 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:09:47 [clientInboundChannel-98] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=jpc54k4b
2025-01-11 17:09:47 [clientInboundChannel-99] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=jpc54k4b
2025-01-11 17:09:49 [clientInboundChannel-96] DEBUG org.springframework.web.SimpLogging - Processing UNSUBSCRIBE id=sub-0 session=jpc54k4b
2025-01-11 17:09:49 [clientInboundChannel-95] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-1 session=jpc54k4b
2025-01-11 17:09:49 [clientInboundChannel-94] DEBUG org.springframework.web.SimpLogging - Processing UNSUBSCRIBE id=sub-1 session=jpc54k4b
2025-01-11 17:09:49 [clientInboundChannel-99] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-2 session=jpc54k4b
2025-01-11 17:09:50 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [24zx2frw]
2025-01-11 17:09:51 [clientInboundChannel-100] DEBUG org.springframework.web.SimpLogging - Processing UNSUBSCRIBE id=sub-2 session=jpc54k4b
2025-01-11 17:09:51 [clientInboundChannel-95] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-3 session=jpc54k4b
2025-01-11 17:09:52 [clientInboundChannel-94] DEBUG org.springframework.web.SimpLogging - Processing UNSUBSCRIBE id=sub-3 session=jpc54k4b
2025-01-11 17:09:52 [clientInboundChannel-97] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-4 session=jpc54k4b
2025-01-11 17:09:53 [clientInboundChannel-100] DEBUG org.springframework.web.SimpLogging - Processing UNSUBSCRIBE id=sub-4 session=jpc54k4b
2025-01-11 17:09:53 [clientInboundChannel-94] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-5 session=jpc54k4b
2025-01-11 17:09:55 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [sp3psvhp]
2025-01-11 17:10:24 [clientInboundChannel-96] DEBUG org.springframework.web.SimpLogging - Processing UNSUBSCRIBE id=sub-5 session=jpc54k4b
2025-01-11 17:10:24 [clientInboundChannel-99] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-6 session=jpc54k4b
2025-01-11 17:10:27 [clientInboundChannel-100] DEBUG org.springframework.web.SimpLogging - Processing UNSUBSCRIBE id=sub-6 session=jpc54k4b
2025-01-11 17:10:27 [clientInboundChannel-94] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-7 session=jpc54k4b
2025-01-11 17:10:35 [clientInboundChannel-98] DEBUG org.springframework.web.SimpLogging - Processing UNSUBSCRIBE id=sub-7 session=jpc54k4b
2025-01-11 17:10:35 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/channels
2025-01-11 17:10:35 [clientInboundChannel-97] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-8 session=jpc54k4b
2025-01-11 17:10:35 [http-nio-8080-exec-1] DEBUG o.s.security.web.csrf.CsrfFilter - Invalid CSRF token found for http://localhost:8080/api/channels
2025-01-11 17:10:35 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AccessDeniedHandlerImpl - Responding with 403 status code
2025-01-11 17:10:35 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-01-11 17:10:35 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:10:35 [clientInboundChannel-93] DEBUG org.springframework.web.SimpLogging - Processing UNSUBSCRIBE id=sub-8 session=jpc54k4b
2025-01-11 17:10:35 [clientInboundChannel-94] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-9 session=jpc54k4b
2025-01-11 17:10:35 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=jpc54k4b] closed with CloseStatus[code=1000, reason=null]
2025-01-11 17:10:35 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session jpc54k4b
2025-01-11 17:10:35 [clientInboundChannel-97] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=jpc54k4b
2025-01-11 17:10:35 [clientOutboundChannel-54] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=jpc54k4b}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=jpc54k4b}]
2025-01-11 17:10:37 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736633437331
2025-01-11 17:10:37 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:10:37 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:10:37 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:10:37 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:10:37 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:10:37 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736633437331
2025-01-11 17:10:37 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736633437331]
2025-01-11 17:10:37 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:10:37 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736633437331", parameters={t:[1736633437331]}
2025-01-11 17:10:37 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:10:37 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736633437331
2025-01-11 17:10:37 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:10:37 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736633437331]
2025-01-11 17:10:37 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/482/kximetpy/websocket
2025-01-11 17:10:37 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/482/kximetpy/websocket
2025-01-11 17:10:37 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:10:37 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/482/kximetpy/websocket
2025-01-11 17:10:37 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:10:37 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:10:37 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/482/kximetpy/websocket
2025-01-11 17:10:37 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/482/kximetpy/websocket]
2025-01-11 17:10:37 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/482/kximetpy/websocket - Origin: http://localhost:5173
2025-01-11 17:10:37 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/482/kximetpy/websocket", parameters={}
2025-01-11 17:10:37 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:10:37 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/482/kximetpy/websocket
2025-01-11 17:10:37 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:10:37 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/482/kximetpy/websocket]
2025-01-11 17:10:37 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=kximetpy]
2025-01-11 17:10:37 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:10:37 [clientInboundChannel-93] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=kximetpy
2025-01-11 17:10:45 [MessageBroker-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [jpc54k4b]
2025-01-11 17:11:16 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=kximetpy] closed with CloseStatus[code=1000, reason=null]
2025-01-11 17:11:16 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session kximetpy
2025-01-11 17:11:16 [clientInboundChannel-96] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=kximetpy
2025-01-11 17:11:16 [clientOutboundChannel-56] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=kximetpy}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=kximetpy}]
2025-01-11 17:11:18 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 17:11:18 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 17:11:18 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 17:11:18 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:11:18 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 17:11:18 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736633478379
2025-01-11 17:11:18 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 17:11:18 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 17:11:18 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:11:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:11:18 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:11:18 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:11:18 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:11:18 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:11:18 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:11:18 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736633478379
2025-01-11 17:11:18 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:11:18 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736633478379]
2025-01-11 17:11:18 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:11:18 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736633478379", parameters={t:[1736633478379]}
2025-01-11 17:11:18 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:11:18 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 17:11:18 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 17:11:18 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 17:11:18 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 17:11:18 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 17:11:18 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 17:11:18 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 17:11:18 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736633478379
2025-01-11 17:11:18 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 17:11:18 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 17:11:18 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:11:18 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 17:11:18 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 17:11:18 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736633478379]
2025-01-11 17:11:18 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 17:11:18 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 17:11:18 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 17:11:18 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 17:11:18 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 17:11:18 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 17:11:18 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 17:11:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 17:11:18 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 17:11:18 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/194/ht4sgdyh/websocket
2025-01-11 17:11:18 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/194/ht4sgdyh/websocket
2025-01-11 17:11:18 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:11:18 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/194/ht4sgdyh/websocket
2025-01-11 17:11:18 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:11:18 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:11:18 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/194/ht4sgdyh/websocket
2025-01-11 17:11:18 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/194/ht4sgdyh/websocket]
2025-01-11 17:11:18 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/194/ht4sgdyh/websocket - Origin: http://localhost:5173
2025-01-11 17:11:18 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/194/ht4sgdyh/websocket", parameters={}
2025-01-11 17:11:18 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:11:18 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/194/ht4sgdyh/websocket
2025-01-11 17:11:18 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:11:18 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/194/ht4sgdyh/websocket]
2025-01-11 17:11:18 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=ht4sgdyh]
2025-01-11 17:11:18 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 32ms
2025-01-11 17:11:18 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 29ms
2025-01-11 17:11:18 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 17:11:18 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 17:11:18 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 17:11:18 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 17:11:18 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 17:11:18 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 17:11:18 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:11:18 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:11:18 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 17:11:18 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 17:11:18 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:11:18 [clientInboundChannel-98] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=ht4sgdyh
2025-01-11 17:11:18 [clientInboundChannel-100] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=ht4sgdyh
2025-01-11 17:11:25 [MessageBroker-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [kximetpy]
2025-01-11 17:11:26 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=ht4sgdyh] closed with CloseStatus[code=1000, reason=null]
2025-01-11 17:11:26 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session ht4sgdyh
2025-01-11 17:11:26 [clientInboundChannel-96] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=ht4sgdyh
2025-01-11 17:11:26 [clientOutboundChannel-58] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=ht4sgdyh}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=ht4sgdyh}]
2025-01-11 17:11:28 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 17:11:28 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 17:11:28 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 17:11:28 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 17:11:28 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 17:11:28 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 17:11:28 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736633488596
2025-01-11 17:11:28 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:11:28 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:11:28 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:11:28 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:11:28 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:11:28 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:11:28 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:11:28 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736633488596
2025-01-11 17:11:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:11:28 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:11:28 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736633488596]
2025-01-11 17:11:28 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:11:28 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736633488596", parameters={t:[1736633488596]}
2025-01-11 17:11:28 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:11:28 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 17:11:28 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 17:11:28 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 17:11:28 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 17:11:28 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 17:11:28 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736633488596
2025-01-11 17:11:28 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 17:11:28 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 17:11:28 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 17:11:28 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 17:11:28 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 17:11:28 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 17:11:28 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:11:28 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736633488596]
2025-01-11 17:11:28 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 17:11:28 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 17:11:28 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 17:11:28 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 17:11:28 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 17:11:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 17:11:28 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/769/21r3p1mc/websocket
2025-01-11 17:11:28 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/769/21r3p1mc/websocket
2025-01-11 17:11:28 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:11:28 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 17:11:28 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/769/21r3p1mc/websocket
2025-01-11 17:11:28 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 17:11:28 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:11:28 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:11:28 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 31ms
2025-01-11 17:11:28 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 17:11:28 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 17:11:28 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 17:11:28 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/769/21r3p1mc/websocket
2025-01-11 17:11:28 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 17:11:28 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/769/21r3p1mc/websocket]
2025-01-11 17:11:28 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:11:28 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 17:11:28 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/769/21r3p1mc/websocket - Origin: http://localhost:5173
2025-01-11 17:11:28 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/769/21r3p1mc/websocket", parameters={}
2025-01-11 17:11:28 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:11:28 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 25ms
2025-01-11 17:11:28 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 17:11:28 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 17:11:28 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 17:11:28 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:11:28 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 17:11:28 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/769/21r3p1mc/websocket
2025-01-11 17:11:28 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:11:28 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/769/21r3p1mc/websocket]
2025-01-11 17:11:28 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=21r3p1mc]
2025-01-11 17:11:28 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:11:28 [clientInboundChannel-98] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=21r3p1mc
2025-01-11 17:11:28 [clientInboundChannel-94] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=21r3p1mc
2025-01-11 17:11:31 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=21r3p1mc] closed with CloseStatus[code=1000, reason=null]
2025-01-11 17:11:31 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session 21r3p1mc
2025-01-11 17:11:31 [clientInboundChannel-99] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=21r3p1mc
2025-01-11 17:11:31 [clientOutboundChannel-60] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=21r3p1mc}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=21r3p1mc}]
2025-01-11 17:11:32 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 17:11:32 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 17:11:32 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 17:11:32 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:11:32 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 17:11:32 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736633492735
2025-01-11 17:11:32 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 17:11:32 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 17:11:32 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:11:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:11:32 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:11:32 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:11:32 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:11:32 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:11:32 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736633492735
2025-01-11 17:11:32 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736633492735]
2025-01-11 17:11:32 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:11:32 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:11:32 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736633492735", parameters={t:[1736633492735]}
2025-01-11 17:11:32 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:11:32 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:11:32 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736633492735
2025-01-11 17:11:32 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 17:11:32 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 17:11:32 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:11:32 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 17:11:32 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 17:11:32 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 17:11:32 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 17:11:32 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736633492735]
2025-01-11 17:11:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 17:11:32 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 17:11:32 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 17:11:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 17:11:32 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 17:11:32 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 17:11:32 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 17:11:32 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 17:11:32 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 17:11:32 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 17:11:32 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 17:11:32 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 17:11:32 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 17:11:32 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/586/sdx5uhfd/websocket
2025-01-11 17:11:32 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 17:11:32 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/586/sdx5uhfd/websocket
2025-01-11 17:11:32 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 30ms
2025-01-11 17:11:32 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:11:32 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/586/sdx5uhfd/websocket
2025-01-11 17:11:32 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 17:11:32 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:11:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 17:11:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 17:11:32 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:11:32 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:11:32 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 17:11:32 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/586/sdx5uhfd/websocket
2025-01-11 17:11:32 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/586/sdx5uhfd/websocket]
2025-01-11 17:11:32 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/586/sdx5uhfd/websocket - Origin: http://localhost:5173
2025-01-11 17:11:32 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 18ms
2025-01-11 17:11:32 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/586/sdx5uhfd/websocket", parameters={}
2025-01-11 17:11:32 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 17:11:32 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 17:11:32 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 17:11:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:11:32 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:11:32 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 17:11:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/586/sdx5uhfd/websocket
2025-01-11 17:11:32 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:11:32 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/586/sdx5uhfd/websocket]
2025-01-11 17:11:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=sdx5uhfd]
2025-01-11 17:11:32 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:11:32 [clientInboundChannel-93] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=sdx5uhfd
2025-01-11 17:11:32 [clientInboundChannel-101] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=sdx5uhfd
2025-01-11 17:11:35 [MessageBroker-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [ht4sgdyh]
2025-01-11 17:11:37 [clientInboundChannel-97] DEBUG org.springframework.web.SimpLogging - Processing UNSUBSCRIBE id=sub-0 session=sdx5uhfd
2025-01-11 17:11:37 [clientInboundChannel-99] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-1 session=sdx5uhfd
2025-01-11 17:11:37 [clientInboundChannel-96] DEBUG org.springframework.web.SimpLogging - Processing UNSUBSCRIBE id=sub-1 session=sdx5uhfd
2025-01-11 17:11:37 [clientInboundChannel-101] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-2 session=sdx5uhfd
2025-01-11 17:11:40 [MessageBroker-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [21r3p1mc]
2025-01-11 17:11:43 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/channels
2025-01-11 17:11:43 [clientInboundChannel-99] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-3 session=sdx5uhfd
2025-01-11 17:11:43 [clientInboundChannel-94] DEBUG org.springframework.web.SimpLogging - Processing UNSUBSCRIBE id=sub-2 session=sdx5uhfd
2025-01-11 17:11:43 [http-nio-8080-exec-7] DEBUG o.s.security.web.csrf.CsrfFilter - Invalid CSRF token found for http://localhost:8080/api/channels
2025-01-11 17:11:43 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AccessDeniedHandlerImpl - Responding with 403 status code
2025-01-11 17:11:43 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-01-11 17:11:43 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:11:43 [clientInboundChannel-93] DEBUG org.springframework.web.SimpLogging - Processing UNSUBSCRIBE id=sub-3 session=sdx5uhfd
2025-01-11 17:11:43 [clientInboundChannel-101] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-4 session=sdx5uhfd
2025-01-11 17:11:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=sdx5uhfd] closed with CloseStatus[code=1000, reason=null]
2025-01-11 17:11:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session sdx5uhfd
2025-01-11 17:11:43 [clientInboundChannel-100] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=sdx5uhfd
2025-01-11 17:11:43 [clientOutboundChannel-62] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=sdx5uhfd}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=sdx5uhfd}]
2025-01-11 17:11:44 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736633504701
2025-01-11 17:11:44 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:11:44 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:11:44 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:11:44 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:11:44 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:11:44 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736633504701
2025-01-11 17:11:44 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736633504701]
2025-01-11 17:11:44 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:11:44 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736633504701", parameters={t:[1736633504701]}
2025-01-11 17:11:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:11:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736633504701
2025-01-11 17:11:44 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:11:44 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736633504701]
2025-01-11 17:11:44 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/065/mjhs4dif/websocket
2025-01-11 17:11:44 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/065/mjhs4dif/websocket
2025-01-11 17:11:44 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:11:44 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/065/mjhs4dif/websocket
2025-01-11 17:11:44 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:11:44 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:11:44 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/065/mjhs4dif/websocket
2025-01-11 17:11:44 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/065/mjhs4dif/websocket]
2025-01-11 17:11:44 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/065/mjhs4dif/websocket - Origin: http://localhost:5173
2025-01-11 17:11:44 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/065/mjhs4dif/websocket", parameters={}
2025-01-11 17:11:44 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:11:44 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/065/mjhs4dif/websocket
2025-01-11 17:11:44 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:11:44 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/065/mjhs4dif/websocket]
2025-01-11 17:11:44 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=mjhs4dif]
2025-01-11 17:11:44 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:11:44 [clientInboundChannel-93] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=mjhs4dif
2025-01-11 17:11:50 [MessageBroker-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [sdx5uhfd]
2025-01-11 17:12:30 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=mjhs4dif] closed with CloseStatus[code=1000, reason=null]
2025-01-11 17:12:30 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session mjhs4dif
2025-01-11 17:12:30 [clientInboundChannel-99] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=mjhs4dif
2025-01-11 17:12:30 [clientOutboundChannel-64] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=mjhs4dif}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=mjhs4dif}]
2025-01-11 17:12:32 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 17:12:32 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 17:12:32 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 17:12:32 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 17:12:32 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:12:32 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736633552142
2025-01-11 17:12:32 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 17:12:32 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:12:32 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 17:12:32 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:12:32 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:12:32 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:12:32 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:12:32 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736633552142
2025-01-11 17:12:32 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736633552142]
2025-01-11 17:12:32 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:12:32 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736633552142", parameters={t:[1736633552142]}
2025-01-11 17:12:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:12:32 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:12:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736633552142
2025-01-11 17:12:32 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:12:32 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736633552142]
2025-01-11 17:12:32 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:12:32 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/069/c5bn1alv/websocket
2025-01-11 17:12:32 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/069/c5bn1alv/websocket
2025-01-11 17:12:32 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:12:32 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/069/c5bn1alv/websocket
2025-01-11 17:12:32 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:12:32 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:12:32 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:12:32 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/069/c5bn1alv/websocket
2025-01-11 17:12:32 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 17:12:32 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/069/c5bn1alv/websocket]
2025-01-11 17:12:32 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 17:12:32 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/069/c5bn1alv/websocket - Origin: http://localhost:5173
2025-01-11 17:12:32 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 17:12:32 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 17:12:32 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 17:12:32 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 17:12:32 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 17:12:32 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 17:12:32 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 17:12:32 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/069/c5bn1alv/websocket", parameters={}
2025-01-11 17:12:32 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 17:12:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:12:32 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 17:12:32 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 17:12:32 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 17:12:32 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 17:12:32 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 17:12:32 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 17:12:32 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 17:12:32 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 17:12:32 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 17:12:32 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 17:12:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/069/c5bn1alv/websocket
2025-01-11 17:12:32 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:12:32 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/069/c5bn1alv/websocket]
2025-01-11 17:12:32 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 33ms
2025-01-11 17:12:32 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 17:12:32 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 17:12:32 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 17:12:32 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:12:32 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 17:12:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=c5bn1alv]
2025-01-11 17:12:32 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:12:32 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 61ms
2025-01-11 17:12:32 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 17:12:32 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 17:12:32 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 17:12:32 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:12:32 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 17:12:32 [clientInboundChannel-98] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=c5bn1alv
2025-01-11 17:12:32 [clientInboundChannel-96] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=c5bn1alv
2025-01-11 17:12:33 [clientInboundChannel-94] DEBUG org.springframework.web.SimpLogging - Processing UNSUBSCRIBE id=sub-0 session=c5bn1alv
2025-01-11 17:12:33 [clientInboundChannel-99] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-1 session=c5bn1alv
2025-01-11 17:12:37 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/channels
2025-01-11 17:12:37 [clientInboundChannel-101] DEBUG org.springframework.web.SimpLogging - Processing UNSUBSCRIBE id=sub-1 session=c5bn1alv
2025-01-11 17:12:37 [http-nio-8080-exec-9] DEBUG o.s.security.web.csrf.CsrfFilter - Invalid CSRF token found for http://localhost:8080/api/channels
2025-01-11 17:12:37 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AccessDeniedHandlerImpl - Responding with 403 status code
2025-01-11 17:12:37 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-01-11 17:12:37 [clientInboundChannel-96] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-2 session=c5bn1alv
2025-01-11 17:12:37 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:12:37 [clientInboundChannel-93] DEBUG org.springframework.web.SimpLogging - Processing UNSUBSCRIBE id=sub-2 session=c5bn1alv
2025-01-11 17:12:37 [clientInboundChannel-99] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-3 session=c5bn1alv
2025-01-11 17:12:37 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=c5bn1alv] closed with CloseStatus[code=1000, reason=null]
2025-01-11 17:12:37 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session c5bn1alv
2025-01-11 17:12:37 [clientInboundChannel-98] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=c5bn1alv
2025-01-11 17:12:37 [clientOutboundChannel-66] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=c5bn1alv}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=c5bn1alv}]
2025-01-11 17:12:38 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736633558614
2025-01-11 17:12:38 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:12:38 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:12:38 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:12:38 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:12:38 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:12:38 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736633558614
2025-01-11 17:12:38 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736633558614]
2025-01-11 17:12:38 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:12:38 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736633558614", parameters={t:[1736633558614]}
2025-01-11 17:12:38 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:12:38 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736633558614
2025-01-11 17:12:38 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:12:38 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736633558614]
2025-01-11 17:12:38 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/774/245tyntm/websocket
2025-01-11 17:12:38 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/774/245tyntm/websocket
2025-01-11 17:12:38 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:12:38 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/774/245tyntm/websocket
2025-01-11 17:12:38 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:12:38 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:12:38 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/774/245tyntm/websocket
2025-01-11 17:12:38 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/774/245tyntm/websocket]
2025-01-11 17:12:38 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/774/245tyntm/websocket - Origin: http://localhost:5173
2025-01-11 17:12:38 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/774/245tyntm/websocket", parameters={}
2025-01-11 17:12:38 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:12:38 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/774/245tyntm/websocket
2025-01-11 17:12:38 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:12:38 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/774/245tyntm/websocket]
2025-01-11 17:12:38 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=245tyntm]
2025-01-11 17:12:38 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:12:38 [clientInboundChannel-101] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=245tyntm
2025-01-11 17:12:39 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=245tyntm] closed with CloseStatus[code=1000, reason=null]
2025-01-11 17:12:39 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session 245tyntm
2025-01-11 17:12:39 [clientInboundChannel-94] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=245tyntm
2025-01-11 17:12:39 [clientOutboundChannel-68] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=245tyntm}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=245tyntm}]
2025-01-11 17:12:40 [MessageBroker-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [mjhs4dif]
2025-01-11 17:12:41 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 17:12:41 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 17:12:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 17:12:41 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736633561130
2025-01-11 17:12:41 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 17:12:41 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 17:12:41 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 17:12:41 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:12:41 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:12:41 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:12:41 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:12:41 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:12:41 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:12:41 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:12:41 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736633561130
2025-01-11 17:12:41 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736633561130]
2025-01-11 17:12:41 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:12:41 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736633561130", parameters={t:[1736633561130]}
2025-01-11 17:12:41 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:12:41 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736633561130
2025-01-11 17:12:41 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:12:41 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736633561130]
2025-01-11 17:12:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:12:41 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/652/efaydazv/websocket
2025-01-11 17:12:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:12:41 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/652/efaydazv/websocket
2025-01-11 17:12:41 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:12:41 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 17:12:41 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/652/efaydazv/websocket
2025-01-11 17:12:41 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 17:12:41 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:12:41 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 17:12:41 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 17:12:41 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:12:41 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 17:12:41 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/652/efaydazv/websocket
2025-01-11 17:12:41 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 17:12:41 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 17:12:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 17:12:41 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 17:12:41 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 17:12:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 17:12:41 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/652/efaydazv/websocket]
2025-01-11 17:12:41 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 17:12:41 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 17:12:41 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/652/efaydazv/websocket - Origin: http://localhost:5173
2025-01-11 17:12:41 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 17:12:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 17:12:41 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/652/efaydazv/websocket", parameters={}
2025-01-11 17:12:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 17:12:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:12:41 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 17:12:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 17:12:41 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 17:12:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/652/efaydazv/websocket
2025-01-11 17:12:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 17:12:41 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:12:41 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/652/efaydazv/websocket]
2025-01-11 17:12:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=efaydazv]
2025-01-11 17:12:41 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 14ms
2025-01-11 17:12:41 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 17:12:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 17:12:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 17:12:41 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:12:41 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 17:12:41 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:12:41 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 25ms
2025-01-11 17:12:41 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 17:12:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 17:12:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 17:12:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:12:41 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 17:12:41 [clientInboundChannel-93] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=efaydazv
2025-01-11 17:12:41 [clientInboundChannel-97] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=efaydazv
2025-01-11 17:12:45 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 2 sessions: [245tyntm, c5bn1alv]
2025-01-11 17:12:48 [clientInboundChannel-96] DEBUG org.springframework.web.SimpLogging - Processing UNSUBSCRIBE id=sub-0 session=efaydazv
2025-01-11 17:12:48 [clientInboundChannel-94] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-1 session=efaydazv
2025-01-11 17:12:48 [clientInboundChannel-99] DEBUG org.springframework.web.SimpLogging - Processing UNSUBSCRIBE id=sub-1 session=efaydazv
2025-01-11 17:12:48 [clientInboundChannel-96] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-2 session=efaydazv
2025-01-11 17:12:52 [clientInboundChannel-101] DEBUG org.springframework.web.SimpLogging - Processing UNSUBSCRIBE id=sub-2 session=efaydazv
2025-01-11 17:12:52 [clientInboundChannel-97] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-3 session=efaydazv
2025-01-11 17:12:54 [clientInboundChannel-96] DEBUG org.springframework.web.SimpLogging - Processing UNSUBSCRIBE id=sub-3 session=efaydazv
2025-01-11 17:12:54 [clientInboundChannel-99] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-4 session=efaydazv
2025-01-11 17:12:54 [clientInboundChannel-101] DEBUG org.springframework.web.SimpLogging - Processing UNSUBSCRIBE id=sub-4 session=efaydazv
2025-01-11 17:12:54 [clientInboundChannel-94] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-5 session=efaydazv
2025-01-11 17:13:34 [clientInboundChannel-99] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/presence session=efaydazv, lookupDestination='/presence'
2025-01-11 17:13:34 [clientInboundChannel-99] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2025-01-11 17:13:34 [clientInboundChannel-101] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT receipt=close-6 session=efaydazv
2025-01-11 17:13:34 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=efaydazv] closed with CloseStatus[code=1000, reason=null]
2025-01-11 17:13:34 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session efaydazv
2025-01-11 17:13:34 [clientInboundChannel-100] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=efaydazv
2025-01-11 17:13:34 [clientOutboundChannel-71] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=efaydazv}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=efaydazv}]
2025-01-11 17:13:34 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736633614930
2025-01-11 17:13:34 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:13:34 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:13:34 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:13:34 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:13:34 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:13:34 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736633614930
2025-01-11 17:13:34 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736633614930]
2025-01-11 17:13:34 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:13:34 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736633614930", parameters={t:[1736633614930]}
2025-01-11 17:13:34 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:13:34 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736633614930
2025-01-11 17:13:34 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:13:34 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736633614930]
2025-01-11 17:13:34 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/501/l3zxpex2/websocket
2025-01-11 17:13:34 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/501/l3zxpex2/websocket
2025-01-11 17:13:34 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:13:34 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/501/l3zxpex2/websocket
2025-01-11 17:13:34 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:13:34 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:13:34 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/501/l3zxpex2/websocket
2025-01-11 17:13:34 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/501/l3zxpex2/websocket]
2025-01-11 17:13:34 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/501/l3zxpex2/websocket - Origin: http://localhost:5173
2025-01-11 17:13:34 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/501/l3zxpex2/websocket", parameters={}
2025-01-11 17:13:34 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:13:34 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/501/l3zxpex2/websocket
2025-01-11 17:13:34 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:13:34 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/501/l3zxpex2/websocket]
2025-01-11 17:13:34 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=l3zxpex2]
2025-01-11 17:13:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:13:35 [clientInboundChannel-99] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=l3zxpex2
2025-01-11 17:13:36 [clientInboundChannel-98] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=l3zxpex2
2025-01-11 17:13:40 [MessageBroker-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [efaydazv]
2025-01-11 17:13:49 [clientInboundChannel-97] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/presence session=l3zxpex2, lookupDestination='/presence'
2025-01-11 17:13:49 [clientInboundChannel-97] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2025-01-11 17:13:49 [clientInboundChannel-96] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT receipt=close-1 session=l3zxpex2
2025-01-11 17:13:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=l3zxpex2] closed with CloseStatus[code=1000, reason=null]
2025-01-11 17:13:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session l3zxpex2
2025-01-11 17:13:49 [clientInboundChannel-94] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=l3zxpex2
2025-01-11 17:13:49 [clientOutboundChannel-74] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=l3zxpex2}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=l3zxpex2}]
2025-01-11 17:13:49 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736633629943
2025-01-11 17:13:49 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:13:49 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:13:49 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:13:49 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:13:49 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:13:49 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736633629943
2025-01-11 17:13:49 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736633629943]
2025-01-11 17:13:49 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:13:49 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736633629943", parameters={t:[1736633629943]}
2025-01-11 17:13:49 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:13:49 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736633629943
2025-01-11 17:13:49 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:13:49 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736633629943]
2025-01-11 17:13:49 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/210/erlruoyf/websocket
2025-01-11 17:13:49 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/210/erlruoyf/websocket
2025-01-11 17:13:49 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:13:49 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/210/erlruoyf/websocket
2025-01-11 17:13:49 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:13:49 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:13:49 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/210/erlruoyf/websocket
2025-01-11 17:13:49 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/210/erlruoyf/websocket]
2025-01-11 17:13:49 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/210/erlruoyf/websocket - Origin: http://localhost:5173
2025-01-11 17:13:49 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/210/erlruoyf/websocket", parameters={}
2025-01-11 17:13:49 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:13:49 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/210/erlruoyf/websocket
2025-01-11 17:13:49 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:13:49 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/210/erlruoyf/websocket]
2025-01-11 17:13:49 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=erlruoyf]
2025-01-11 17:13:49 [http-nio-8080-exec-5] ERROR c.g.a.c.security.ClerkTokenValidator - Token verification failed
com.auth0.jwt.exceptions.TokenExpiredException: The Token has expired on 2025-01-11T22:13:40Z.
	at com.auth0.jwt.JWTVerifier$BaseVerification.assertValidInstantClaim(JWTVerifier.java:346)
	at com.auth0.jwt.JWTVerifier$BaseVerification.lambda$addMandatoryClaimChecks$17(JWTVerifier.java:308)
	at com.auth0.jwt.JWTVerifier$BaseVerification$1.verify(JWTVerifier.java:405)
	at com.auth0.jwt.JWTVerifier.verifyClaims(JWTVerifier.java:482)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:464)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:58)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkChannelInterceptor.preSend(ClerkChannelInterceptor.java:36)
	at org.springframework.messaging.support.AbstractMessageChannel$ChannelInterceptorChain.applyPreSend(AbstractMessageChannel.java:181)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:135)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:125)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageFromClient(StompSubProtocolHandler.java:343)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:336)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.delegateMessages(AbstractSockJsSession.java:346)
	at org.springframework.web.socket.sockjs.transport.session.WebSocketServerSockJsSession.handleMessage(WebSocketServerSockJsSession.java:195)
	at org.springframework.web.socket.sockjs.transport.handler.SockJsWebSocketHandler.handleTextMessage(SockJsWebSocketHandler.java:93)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-01-11 17:13:49 [http-nio-8080-exec-5] ERROR c.g.a.c.s.ClerkChannelInterceptor - WebSocket authentication failed
com.auth0.jwt.exceptions.JWTVerificationException: Invalid token
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:65)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkChannelInterceptor.preSend(ClerkChannelInterceptor.java:36)
	at org.springframework.messaging.support.AbstractMessageChannel$ChannelInterceptorChain.applyPreSend(AbstractMessageChannel.java:181)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:135)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:125)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageFromClient(StompSubProtocolHandler.java:343)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:336)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.delegateMessages(AbstractSockJsSession.java:346)
	at org.springframework.web.socket.sockjs.transport.session.WebSocketServerSockJsSession.handleMessage(WebSocketServerSockJsSession.java:195)
	at org.springframework.web.socket.sockjs.transport.handler.SockJsWebSocketHandler.handleTextMessage(SockJsWebSocketHandler.java:93)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: com.auth0.jwt.exceptions.TokenExpiredException: The Token has expired on 2025-01-11T22:13:40Z.
	at com.auth0.jwt.JWTVerifier$BaseVerification.assertValidInstantClaim(JWTVerifier.java:346)
	at com.auth0.jwt.JWTVerifier$BaseVerification.lambda$addMandatoryClaimChecks$17(JWTVerifier.java:308)
	at com.auth0.jwt.JWTVerifier$BaseVerification$1.verify(JWTVerifier.java:405)
	at com.auth0.jwt.JWTVerifier.verifyClaims(JWTVerifier.java:482)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:464)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:58)
	... 34 common frames omitted
2025-01-11 17:13:49 [http-nio-8080-exec-5] DEBUG org.springframework.web.SimpLogging - ClerkChannelInterceptor returned null from preSend, i.e. precluding the send.
2025-01-11 17:13:53 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=erlruoyf] closed with CloseStatus[code=1000, reason=null]
2025-01-11 17:13:53 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session erlruoyf
2025-01-11 17:13:53 [clientInboundChannel-93] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=erlruoyf
2025-01-11 17:13:53 [clientOutboundChannel-75] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=erlruoyf}], simpSessionId=erlruoyf}]
2025-01-11 17:13:54 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 17:13:54 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 17:13:54 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736633634843
2025-01-11 17:13:54 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 17:13:54 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 17:13:54 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 17:13:54 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 17:13:54 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:13:54 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:13:54 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:13:54 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:13:54 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:13:54 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:13:54 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:13:55 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736633634843
2025-01-11 17:13:55 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:13:55 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:13:55 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736633634843]
2025-01-11 17:13:55 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:13:55 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736633634843", parameters={t:[1736633634843]}
2025-01-11 17:13:55 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:13:55 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736633634843
2025-01-11 17:13:55 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:13:55 [MessageBroker-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [l3zxpex2]
2025-01-11 17:13:55 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 17:13:55 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 17:13:55 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 17:13:55 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 17:13:55 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736633634843]
2025-01-11 17:13:55 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 17:13:55 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 17:13:55 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 17:13:55 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 17:13:55 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 17:13:55 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 17:13:55 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 17:13:55 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 17:13:55 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 17:13:55 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 17:13:55 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/624/3zfcgbny/websocket
2025-01-11 17:13:55 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 17:13:55 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 17:13:55 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 17:13:55 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/624/3zfcgbny/websocket
2025-01-11 17:13:55 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:13:55 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 17:13:55 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 17:13:55 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/624/3zfcgbny/websocket
2025-01-11 17:13:55 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 17:13:55 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:13:55 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:13:55 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/624/3zfcgbny/websocket
2025-01-11 17:13:55 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/624/3zfcgbny/websocket]
2025-01-11 17:13:55 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/624/3zfcgbny/websocket - Origin: http://localhost:5173
2025-01-11 17:13:55 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/624/3zfcgbny/websocket", parameters={}
2025-01-11 17:13:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:13:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/624/3zfcgbny/websocket
2025-01-11 17:13:55 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:13:55 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/624/3zfcgbny/websocket]
2025-01-11 17:13:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=3zfcgbny]
2025-01-11 17:13:55 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 101ms
2025-01-11 17:13:55 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 17:13:55 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 17:13:55 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 17:13:55 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:13:55 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 17:13:55 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:13:55 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 108ms
2025-01-11 17:13:55 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 17:13:55 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 17:13:55 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 17:13:55 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:13:55 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 17:13:55 [clientInboundChannel-101] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=3zfcgbny
2025-01-11 17:13:55 [clientInboundChannel-100] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=3zfcgbny
2025-01-11 17:14:00 [MessageBroker-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [erlruoyf]
2025-01-11 17:14:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/channels
2025-01-11 17:14:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.csrf.CsrfFilter - Invalid CSRF token found for http://localhost:8080/api/channels
2025-01-11 17:14:36 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AccessDeniedHandlerImpl - Responding with 403 status code
2025-01-11 17:14:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-01-11 17:14:36 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:14:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=3zfcgbny] closed with CloseStatus[code=1000, reason=null]
2025-01-11 17:14:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session 3zfcgbny
2025-01-11 17:14:36 [clientInboundChannel-99] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=3zfcgbny
2025-01-11 17:14:36 [clientOutboundChannel-77] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=3zfcgbny}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=3zfcgbny}]
2025-01-11 17:14:37 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736633677834
2025-01-11 17:14:37 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:14:37 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:14:37 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:14:37 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:14:37 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:14:37 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736633677834
2025-01-11 17:14:37 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736633677834]
2025-01-11 17:14:37 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:14:37 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736633677834", parameters={t:[1736633677834]}
2025-01-11 17:14:37 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:14:37 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736633677834
2025-01-11 17:14:37 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:14:37 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736633677834]
2025-01-11 17:14:37 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/835/u1pbvero/websocket
2025-01-11 17:14:37 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/835/u1pbvero/websocket
2025-01-11 17:14:37 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:14:37 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/835/u1pbvero/websocket
2025-01-11 17:14:37 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:14:37 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:14:37 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/835/u1pbvero/websocket
2025-01-11 17:14:37 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/835/u1pbvero/websocket]
2025-01-11 17:14:37 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/835/u1pbvero/websocket - Origin: http://localhost:5173
2025-01-11 17:14:37 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/835/u1pbvero/websocket", parameters={}
2025-01-11 17:14:37 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:14:37 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/835/u1pbvero/websocket
2025-01-11 17:14:37 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:14:37 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/835/u1pbvero/websocket]
2025-01-11 17:14:37 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=u1pbvero]
2025-01-11 17:14:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:14:37 [clientInboundChannel-98] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=u1pbvero
2025-01-11 17:14:45 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [3zfcgbny]
2025-01-11 17:15:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=u1pbvero] closed with CloseStatus[code=1000, reason=null]
2025-01-11 17:15:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session u1pbvero
2025-01-11 17:15:46 [clientInboundChannel-103] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=u1pbvero
2025-01-11 17:15:46 [clientOutboundChannel-79] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=u1pbvero}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=u1pbvero}]
2025-01-11 17:15:48 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/channels/public
2025-01-11 17:15:48 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 17:15:48 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 17:15:48 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 17:15:48 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736633747995
2025-01-11 17:15:48 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 17:15:48 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 17:15:48 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 17:15:48 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:15:48 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:15:48 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:15:48 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:15:48 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:15:48 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:15:48 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:15:48 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736633747995
2025-01-11 17:15:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:15:48 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736633747995]
2025-01-11 17:15:48 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:15:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:15:48 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736633747995", parameters={t:[1736633747995]}
2025-01-11 17:15:48 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 17:15:48 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 17:15:48 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 17:15:48 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 17:15:48 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 17:15:48 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:15:48 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 17:15:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 17:15:48 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736633747995
2025-01-11 17:15:48 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 17:15:48 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 17:15:48 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 17:15:48 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 17:15:48 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 17:15:48 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 17:15:48 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 17:15:48 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 17:15:48 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:15:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 17:15:48 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736633747995]
2025-01-11 17:15:48 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 17:15:48 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 17:15:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 17:15:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 17:15:48 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 13ms
2025-01-11 17:15:48 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 15ms
2025-01-11 17:15:48 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 17:15:48 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/373/444xl2xz/websocket
2025-01-11 17:15:48 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 17:15:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 17:15:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 17:15:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 17:15:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 17:15:48 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:15:48 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:15:48 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 17:15:48 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 17:15:48 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/373/444xl2xz/websocket
2025-01-11 17:15:48 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:15:48 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/373/444xl2xz/websocket
2025-01-11 17:15:48 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:15:48 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:15:48 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/373/444xl2xz/websocket
2025-01-11 17:15:48 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/373/444xl2xz/websocket]
2025-01-11 17:15:48 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/373/444xl2xz/websocket - Origin: http://localhost:5173
2025-01-11 17:15:48 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/373/444xl2xz/websocket", parameters={}
2025-01-11 17:15:48 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:15:48 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/373/444xl2xz/websocket
2025-01-11 17:15:48 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:15:48 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/373/444xl2xz/websocket]
2025-01-11 17:15:48 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=444xl2xz]
2025-01-11 17:15:48 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:15:48 [clientInboundChannel-106] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=444xl2xz
2025-01-11 17:15:48 [clientInboundChannel-109] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=444xl2xz
2025-01-11 17:15:55 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [u1pbvero]
2025-01-11 17:17:06 [clientInboundChannel-110] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/presence session=444xl2xz, lookupDestination='/presence'
2025-01-11 17:17:06 [clientInboundChannel-110] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2025-01-11 17:17:06 [clientInboundChannel-114] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT receipt=close-1 session=444xl2xz
2025-01-11 17:17:07 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=444xl2xz] closed with CloseStatus[code=1000, reason=null]
2025-01-11 17:17:07 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session 444xl2xz
2025-01-11 17:17:07 [clientInboundChannel-117] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=444xl2xz
2025-01-11 17:17:07 [clientOutboundChannel-82] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=444xl2xz}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=444xl2xz}]
2025-01-11 17:17:07 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736633827211
2025-01-11 17:17:07 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:17:07 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:17:07 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:17:07 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:17:07 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:17:07 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736633827211
2025-01-11 17:17:07 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736633827211]
2025-01-11 17:17:07 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:17:07 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736633827211", parameters={t:[1736633827211]}
2025-01-11 17:17:07 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:17:07 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736633827211
2025-01-11 17:17:07 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:17:07 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736633827211]
2025-01-11 17:17:07 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/756/v5mlubdv/websocket
2025-01-11 17:17:07 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/756/v5mlubdv/websocket
2025-01-11 17:17:07 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:17:07 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/756/v5mlubdv/websocket
2025-01-11 17:17:07 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:17:07 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:17:07 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/756/v5mlubdv/websocket
2025-01-11 17:17:07 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/756/v5mlubdv/websocket]
2025-01-11 17:17:07 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/756/v5mlubdv/websocket - Origin: http://localhost:5173
2025-01-11 17:17:07 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/756/v5mlubdv/websocket", parameters={}
2025-01-11 17:17:07 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:17:07 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/756/v5mlubdv/websocket
2025-01-11 17:17:07 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:17:07 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/756/v5mlubdv/websocket]
2025-01-11 17:17:07 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=v5mlubdv]
2025-01-11 17:17:07 [http-nio-8080-exec-3] ERROR c.g.a.c.security.ClerkTokenValidator - Token verification failed
com.auth0.jwt.exceptions.TokenExpiredException: The Token has expired on 2025-01-11T22:16:46Z.
	at com.auth0.jwt.JWTVerifier$BaseVerification.assertValidInstantClaim(JWTVerifier.java:346)
	at com.auth0.jwt.JWTVerifier$BaseVerification.lambda$addMandatoryClaimChecks$17(JWTVerifier.java:308)
	at com.auth0.jwt.JWTVerifier$BaseVerification$1.verify(JWTVerifier.java:405)
	at com.auth0.jwt.JWTVerifier.verifyClaims(JWTVerifier.java:482)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:464)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:58)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkChannelInterceptor.preSend(ClerkChannelInterceptor.java:36)
	at org.springframework.messaging.support.AbstractMessageChannel$ChannelInterceptorChain.applyPreSend(AbstractMessageChannel.java:181)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:135)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:125)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageFromClient(StompSubProtocolHandler.java:343)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:336)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.delegateMessages(AbstractSockJsSession.java:346)
	at org.springframework.web.socket.sockjs.transport.session.WebSocketServerSockJsSession.handleMessage(WebSocketServerSockJsSession.java:195)
	at org.springframework.web.socket.sockjs.transport.handler.SockJsWebSocketHandler.handleTextMessage(SockJsWebSocketHandler.java:93)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-01-11 17:17:07 [http-nio-8080-exec-3] ERROR c.g.a.c.s.ClerkChannelInterceptor - WebSocket authentication failed
com.auth0.jwt.exceptions.JWTVerificationException: Invalid token
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:65)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkChannelInterceptor.preSend(ClerkChannelInterceptor.java:36)
	at org.springframework.messaging.support.AbstractMessageChannel$ChannelInterceptorChain.applyPreSend(AbstractMessageChannel.java:181)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:135)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:125)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageFromClient(StompSubProtocolHandler.java:343)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:336)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.delegateMessages(AbstractSockJsSession.java:346)
	at org.springframework.web.socket.sockjs.transport.session.WebSocketServerSockJsSession.handleMessage(WebSocketServerSockJsSession.java:195)
	at org.springframework.web.socket.sockjs.transport.handler.SockJsWebSocketHandler.handleTextMessage(SockJsWebSocketHandler.java:93)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: com.auth0.jwt.exceptions.TokenExpiredException: The Token has expired on 2025-01-11T22:16:46Z.
	at com.auth0.jwt.JWTVerifier$BaseVerification.assertValidInstantClaim(JWTVerifier.java:346)
	at com.auth0.jwt.JWTVerifier$BaseVerification.lambda$addMandatoryClaimChecks$17(JWTVerifier.java:308)
	at com.auth0.jwt.JWTVerifier$BaseVerification$1.verify(JWTVerifier.java:405)
	at com.auth0.jwt.JWTVerifier.verifyClaims(JWTVerifier.java:482)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:464)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:58)
	... 34 common frames omitted
2025-01-11 17:17:07 [http-nio-8080-exec-3] DEBUG org.springframework.web.SimpLogging - ClerkChannelInterceptor returned null from preSend, i.e. precluding the send.
2025-01-11 17:17:15 [MessageBroker-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [444xl2xz]
2025-01-11 17:17:18 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=v5mlubdv] closed with CloseStatus[code=1000, reason=null]
2025-01-11 17:17:18 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session v5mlubdv
2025-01-11 17:17:18 [clientInboundChannel-112] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=v5mlubdv
2025-01-11 17:17:18 [clientOutboundChannel-83] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=v5mlubdv}], simpSessionId=v5mlubdv}]
2025-01-11 17:17:19 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736633839011
2025-01-11 17:17:19 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:17:19 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:17:19 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:17:19 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:17:19 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:17:19 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736633839011
2025-01-11 17:17:19 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736633839011]
2025-01-11 17:17:19 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:17:19 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736633839011", parameters={t:[1736633839011]}
2025-01-11 17:17:19 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:17:19 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736633839011
2025-01-11 17:17:19 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:17:19 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736633839011]
2025-01-11 17:17:19 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/570/hkuhqgxg/websocket
2025-01-11 17:17:19 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/570/hkuhqgxg/websocket
2025-01-11 17:17:19 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:17:19 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/570/hkuhqgxg/websocket
2025-01-11 17:17:19 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:17:19 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:17:19 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/570/hkuhqgxg/websocket
2025-01-11 17:17:19 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/570/hkuhqgxg/websocket]
2025-01-11 17:17:19 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/570/hkuhqgxg/websocket - Origin: http://localhost:5173
2025-01-11 17:17:19 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/570/hkuhqgxg/websocket", parameters={}
2025-01-11 17:17:19 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:17:19 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/570/hkuhqgxg/websocket
2025-01-11 17:17:19 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:17:19 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/570/hkuhqgxg/websocket]
2025-01-11 17:17:19 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=hkuhqgxg]
2025-01-11 17:17:19 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:17:19 [clientInboundChannel-115] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=hkuhqgxg
2025-01-11 17:17:19 [clientInboundChannel-116] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=hkuhqgxg
2025-01-11 17:17:20 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=hkuhqgxg] closed with CloseStatus[code=1000, reason=null]
2025-01-11 17:17:20 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session hkuhqgxg
2025-01-11 17:17:20 [clientInboundChannel-113] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=hkuhqgxg
2025-01-11 17:17:20 [clientOutboundChannel-85] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=hkuhqgxg}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=hkuhqgxg}]
2025-01-11 17:17:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736633841439
2025-01-11 17:17:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 17:17:21 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 17:17:21 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 17:17:21 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:17:21 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 17:17:21 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:17:21 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 17:17:21 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:17:21 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 17:17:21 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:17:21 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:17:21 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:17:21 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:17:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736633841439
2025-01-11 17:17:21 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:17:21 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:17:21 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736633841439]
2025-01-11 17:17:21 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:17:21 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736633841439", parameters={t:[1736633841439]}
2025-01-11 17:17:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:17:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736633841439
2025-01-11 17:17:21 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:17:21 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736633841439]
2025-01-11 17:17:21 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/838/g4ogsj2q/websocket
2025-01-11 17:17:21 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/838/g4ogsj2q/websocket
2025-01-11 17:17:21 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:17:21 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 17:17:21 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 17:17:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 17:17:21 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 17:17:21 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 17:17:21 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 17:17:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 17:17:21 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 17:17:21 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 17:17:21 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/838/g4ogsj2q/websocket
2025-01-11 17:17:21 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 17:17:21 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 17:17:21 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 17:17:21 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 17:17:21 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 17:17:21 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 17:17:21 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 17:17:21 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:17:21 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 17:17:21 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:17:21 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 17:17:21 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 17:17:21 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/838/g4ogsj2q/websocket
2025-01-11 17:17:21 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/838/g4ogsj2q/websocket]
2025-01-11 17:17:21 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 17:17:21 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/838/g4ogsj2q/websocket - Origin: http://localhost:5173
2025-01-11 17:17:21 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 36ms
2025-01-11 17:17:21 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 17:17:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 17:17:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 17:17:21 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:17:21 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/838/g4ogsj2q/websocket", parameters={}
2025-01-11 17:17:21 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 17:17:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:17:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/838/g4ogsj2q/websocket
2025-01-11 17:17:21 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 86ms
2025-01-11 17:17:21 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 17:17:21 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 17:17:21 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 17:17:21 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:17:21 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 17:17:21 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:17:21 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/838/g4ogsj2q/websocket]
2025-01-11 17:17:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=g4ogsj2q]
2025-01-11 17:17:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:17:21 [clientInboundChannel-111] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=g4ogsj2q
2025-01-11 17:17:21 [clientInboundChannel-110] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=g4ogsj2q
2025-01-11 17:17:25 [MessageBroker-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 2 sessions: [v5mlubdv, hkuhqgxg]
2025-01-11 17:17:43 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/channels
2025-01-11 17:17:43 [http-nio-8080-exec-7] DEBUG o.s.security.web.csrf.CsrfFilter - Invalid CSRF token found for http://localhost:8080/api/channels
2025-01-11 17:17:43 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AccessDeniedHandlerImpl - Responding with 403 status code
2025-01-11 17:17:43 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-01-11 17:17:43 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:17:43 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=g4ogsj2q] closed with CloseStatus[code=1000, reason=null]
2025-01-11 17:17:43 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session g4ogsj2q
2025-01-11 17:17:43 [clientInboundChannel-114] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=g4ogsj2q
2025-01-11 17:17:44 [clientOutboundChannel-87] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=g4ogsj2q}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=g4ogsj2q}]
2025-01-11 17:17:45 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736633865286
2025-01-11 17:17:45 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:17:45 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:17:45 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:17:45 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:17:45 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:17:45 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736633865286
2025-01-11 17:17:45 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736633865286]
2025-01-11 17:17:45 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:17:45 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736633865286", parameters={t:[1736633865286]}
2025-01-11 17:17:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:17:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736633865286
2025-01-11 17:17:45 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:17:45 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736633865286]
2025-01-11 17:17:45 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/235/2oogj35k/websocket
2025-01-11 17:17:45 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/235/2oogj35k/websocket
2025-01-11 17:17:45 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:17:45 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/235/2oogj35k/websocket
2025-01-11 17:17:45 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:17:45 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:17:45 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/235/2oogj35k/websocket
2025-01-11 17:17:45 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/235/2oogj35k/websocket]
2025-01-11 17:17:45 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/235/2oogj35k/websocket - Origin: http://localhost:5173
2025-01-11 17:17:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/235/2oogj35k/websocket", parameters={}
2025-01-11 17:17:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:17:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/235/2oogj35k/websocket
2025-01-11 17:17:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:17:45 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/235/2oogj35k/websocket]
2025-01-11 17:17:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=2oogj35k]
2025-01-11 17:17:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:17:45 [clientInboundChannel-117] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=2oogj35k
2025-01-11 17:17:50 [MessageBroker-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [g4ogsj2q]
2025-01-11 17:19:05 [clientInboundChannel-118] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/presence session=2oogj35k, lookupDestination='/presence'
2025-01-11 17:19:05 [clientInboundChannel-118] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2025-01-11 17:19:05 [clientInboundChannel-122] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT receipt=close-0 session=2oogj35k
2025-01-11 17:19:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=2oogj35k] closed with CloseStatus[code=1000, reason=null]
2025-01-11 17:19:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session 2oogj35k
2025-01-11 17:19:05 [clientInboundChannel-125] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=2oogj35k
2025-01-11 17:19:05 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736633945545
2025-01-11 17:19:05 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:19:05 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:19:05 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:19:05 [clientOutboundChannel-90] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=2oogj35k}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=2oogj35k}]
2025-01-11 17:19:05 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:19:05 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:19:05 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736633945545
2025-01-11 17:19:05 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736633945545]
2025-01-11 17:19:05 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:19:05 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736633945545", parameters={t:[1736633945545]}
2025-01-11 17:19:05 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:19:05 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736633945545
2025-01-11 17:19:05 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:19:05 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736633945545]
2025-01-11 17:19:05 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/020/k0zftxad/websocket
2025-01-11 17:19:05 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/020/k0zftxad/websocket
2025-01-11 17:19:05 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:19:05 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/020/k0zftxad/websocket
2025-01-11 17:19:05 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:19:05 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:19:05 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/020/k0zftxad/websocket
2025-01-11 17:19:05 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/020/k0zftxad/websocket]
2025-01-11 17:19:05 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/020/k0zftxad/websocket - Origin: http://localhost:5173
2025-01-11 17:19:05 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/020/k0zftxad/websocket", parameters={}
2025-01-11 17:19:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:19:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/020/k0zftxad/websocket
2025-01-11 17:19:05 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:19:05 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/020/k0zftxad/websocket]
2025-01-11 17:19:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=k0zftxad]
2025-01-11 17:19:05 [http-nio-8080-exec-1] ERROR c.g.a.c.security.ClerkTokenValidator - Token verification failed
com.auth0.jwt.exceptions.TokenExpiredException: The Token has expired on 2025-01-11T22:18:44Z.
	at com.auth0.jwt.JWTVerifier$BaseVerification.assertValidInstantClaim(JWTVerifier.java:346)
	at com.auth0.jwt.JWTVerifier$BaseVerification.lambda$addMandatoryClaimChecks$17(JWTVerifier.java:308)
	at com.auth0.jwt.JWTVerifier$BaseVerification$1.verify(JWTVerifier.java:405)
	at com.auth0.jwt.JWTVerifier.verifyClaims(JWTVerifier.java:482)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:464)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:58)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkChannelInterceptor.preSend(ClerkChannelInterceptor.java:36)
	at org.springframework.messaging.support.AbstractMessageChannel$ChannelInterceptorChain.applyPreSend(AbstractMessageChannel.java:181)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:135)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:125)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageFromClient(StompSubProtocolHandler.java:343)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:336)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.delegateMessages(AbstractSockJsSession.java:346)
	at org.springframework.web.socket.sockjs.transport.session.WebSocketServerSockJsSession.handleMessage(WebSocketServerSockJsSession.java:195)
	at org.springframework.web.socket.sockjs.transport.handler.SockJsWebSocketHandler.handleTextMessage(SockJsWebSocketHandler.java:93)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-01-11 17:19:05 [http-nio-8080-exec-1] ERROR c.g.a.c.s.ClerkChannelInterceptor - WebSocket authentication failed
com.auth0.jwt.exceptions.JWTVerificationException: Invalid token
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:65)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkChannelInterceptor.preSend(ClerkChannelInterceptor.java:36)
	at org.springframework.messaging.support.AbstractMessageChannel$ChannelInterceptorChain.applyPreSend(AbstractMessageChannel.java:181)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:135)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:125)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageFromClient(StompSubProtocolHandler.java:343)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:336)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.delegateMessages(AbstractSockJsSession.java:346)
	at org.springframework.web.socket.sockjs.transport.session.WebSocketServerSockJsSession.handleMessage(WebSocketServerSockJsSession.java:195)
	at org.springframework.web.socket.sockjs.transport.handler.SockJsWebSocketHandler.handleTextMessage(SockJsWebSocketHandler.java:93)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: com.auth0.jwt.exceptions.TokenExpiredException: The Token has expired on 2025-01-11T22:18:44Z.
	at com.auth0.jwt.JWTVerifier$BaseVerification.assertValidInstantClaim(JWTVerifier.java:346)
	at com.auth0.jwt.JWTVerifier$BaseVerification.lambda$addMandatoryClaimChecks$17(JWTVerifier.java:308)
	at com.auth0.jwt.JWTVerifier$BaseVerification$1.verify(JWTVerifier.java:405)
	at com.auth0.jwt.JWTVerifier.verifyClaims(JWTVerifier.java:482)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:464)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:58)
	... 34 common frames omitted
2025-01-11 17:19:05 [http-nio-8080-exec-1] DEBUG org.springframework.web.SimpLogging - ClerkChannelInterceptor returned null from preSend, i.e. precluding the send.
2025-01-11 17:19:15 [MessageBroker-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [2oogj35k]
2025-01-11 17:19:32 [MessageBroker-4] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 51 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(43)-CONNECTED(36)-DISCONNECT(14)], stompBrokerRelay[null], inboundChannel[pool size = 8, active threads = 0, queued tasks = 0, completed tasks = 588], outboundChannel[pool size = 2, active threads = 0, queued tasks = 0, completed tasks = 100], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 2, completed tasks = 729]
2025-01-11 17:19:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=k0zftxad] closed with CloseStatus[code=1000, reason=null]
2025-01-11 17:19:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session k0zftxad
2025-01-11 17:19:52 [clientInboundChannel-119] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=k0zftxad
2025-01-11 17:19:52 [clientOutboundChannel-91] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=k0zftxad}], simpSessionId=k0zftxad}]
2025-01-11 17:19:52 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736633992915
2025-01-11 17:19:52 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:19:52 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:19:52 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:19:52 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:19:52 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:19:52 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736633992915
2025-01-11 17:19:52 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736633992915]
2025-01-11 17:19:52 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:19:52 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736633992915", parameters={t:[1736633992915]}
2025-01-11 17:19:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:19:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736633992915
2025-01-11 17:19:52 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:19:52 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736633992915]
2025-01-11 17:19:52 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/703/svvddkkt/websocket
2025-01-11 17:19:52 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/703/svvddkkt/websocket
2025-01-11 17:19:52 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:19:52 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/703/svvddkkt/websocket
2025-01-11 17:19:52 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:19:52 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:19:52 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/703/svvddkkt/websocket
2025-01-11 17:19:52 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/703/svvddkkt/websocket]
2025-01-11 17:19:52 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/703/svvddkkt/websocket - Origin: http://localhost:5173
2025-01-11 17:19:52 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/703/svvddkkt/websocket", parameters={}
2025-01-11 17:19:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:19:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/703/svvddkkt/websocket
2025-01-11 17:19:52 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:19:52 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/703/svvddkkt/websocket]
2025-01-11 17:19:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=svvddkkt]
2025-01-11 17:19:52 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:19:52 [clientInboundChannel-122] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=svvddkkt
2025-01-11 17:20:00 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [k0zftxad]
2025-01-11 17:20:09 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=svvddkkt] closed with CloseStatus[code=1000, reason=null]
2025-01-11 17:20:09 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session svvddkkt
2025-01-11 17:20:09 [clientInboundChannel-127] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=svvddkkt
2025-01-11 17:20:09 [clientOutboundChannel-93] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=svvddkkt}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=svvddkkt}]
2025-01-11 17:20:11 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736634011000
2025-01-11 17:20:11 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:20:11 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:20:11 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:20:11 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:20:11 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:20:11 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736634011000
2025-01-11 17:20:11 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736634011000]
2025-01-11 17:20:11 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:20:11 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736634011000", parameters={t:[1736634011000]}
2025-01-11 17:20:11 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:20:11 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736634011000
2025-01-11 17:20:11 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:20:11 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736634011000]
2025-01-11 17:20:11 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/690/i0mlvl50/websocket
2025-01-11 17:20:11 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/690/i0mlvl50/websocket
2025-01-11 17:20:11 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:20:11 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/690/i0mlvl50/websocket
2025-01-11 17:20:11 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:20:11 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:20:11 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/690/i0mlvl50/websocket
2025-01-11 17:20:11 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/690/i0mlvl50/websocket]
2025-01-11 17:20:11 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/690/i0mlvl50/websocket - Origin: http://localhost:5173
2025-01-11 17:20:11 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/690/i0mlvl50/websocket", parameters={}
2025-01-11 17:20:11 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:20:11 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/690/i0mlvl50/websocket
2025-01-11 17:20:11 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:20:11 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/690/i0mlvl50/websocket]
2025-01-11 17:20:11 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=i0mlvl50]
2025-01-11 17:20:11 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:20:11 [clientInboundChannel-120] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=i0mlvl50
2025-01-11 17:20:14 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=i0mlvl50] closed with CloseStatus[code=1000, reason=null]
2025-01-11 17:20:14 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session i0mlvl50
2025-01-11 17:20:14 [clientInboundChannel-122] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=i0mlvl50
2025-01-11 17:20:14 [clientOutboundChannel-95] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=i0mlvl50}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=i0mlvl50}]
2025-01-11 17:20:15 [MessageBroker-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [svvddkkt]
2025-01-11 17:20:15 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 17:20:15 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 17:20:15 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 17:20:15 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 17:20:15 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736634015503
2025-01-11 17:20:15 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 17:20:15 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:20:15 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 17:20:15 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:20:15 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:20:15 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:20:15 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:20:15 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:20:15 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:20:15 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:20:15 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:20:15 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736634015503
2025-01-11 17:20:15 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736634015503]
2025-01-11 17:20:15 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:20:15 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 17:20:15 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 17:20:15 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736634015503", parameters={t:[1736634015503]}
2025-01-11 17:20:15 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 17:20:15 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 17:20:15 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 17:20:15 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:20:15 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 17:20:15 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 17:20:15 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736634015503
2025-01-11 17:20:15 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 17:20:15 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 17:20:15 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 17:20:15 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 17:20:15 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 17:20:15 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 17:20:15 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:20:15 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 17:20:15 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 17:20:15 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736634015503]
2025-01-11 17:20:15 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 17:20:15 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 17:20:15 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 17:20:15 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 17:20:15 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 17:20:15 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 9ms
2025-01-11 17:20:15 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 17:20:15 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 17:20:15 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 17:20:15 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:20:15 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 17:20:15 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 20ms
2025-01-11 17:20:15 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 17:20:15 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 17:20:15 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 17:20:15 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:20:15 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 17:20:15 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/261/cfg1vnfj/websocket
2025-01-11 17:20:15 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/261/cfg1vnfj/websocket
2025-01-11 17:20:15 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:20:15 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/261/cfg1vnfj/websocket
2025-01-11 17:20:15 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:20:15 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:20:15 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/261/cfg1vnfj/websocket
2025-01-11 17:20:15 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/261/cfg1vnfj/websocket]
2025-01-11 17:20:15 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/261/cfg1vnfj/websocket - Origin: http://localhost:5173
2025-01-11 17:20:15 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/261/cfg1vnfj/websocket", parameters={}
2025-01-11 17:20:15 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:20:15 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/261/cfg1vnfj/websocket
2025-01-11 17:20:15 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:20:15 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/261/cfg1vnfj/websocket]
2025-01-11 17:20:15 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=cfg1vnfj]
2025-01-11 17:20:15 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:20:15 [clientInboundChannel-128] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=cfg1vnfj
2025-01-11 17:20:19 [clientInboundChannel-120] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=cfg1vnfj
2025-01-11 17:20:20 [MessageBroker-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [i0mlvl50]
2025-01-11 17:20:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/channels
2025-01-11 17:20:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.csrf.CsrfFilter - Invalid CSRF token found for http://localhost:8080/api/channels
2025-01-11 17:20:21 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AccessDeniedHandlerImpl - Responding with 403 status code
2025-01-11 17:20:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-01-11 17:20:21 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:20:21 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=cfg1vnfj] closed with CloseStatus[code=1000, reason=null]
2025-01-11 17:20:21 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session cfg1vnfj
2025-01-11 17:20:22 [clientInboundChannel-122] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=cfg1vnfj
2025-01-11 17:20:22 [clientOutboundChannel-97] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=cfg1vnfj}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=cfg1vnfj}]
2025-01-11 17:20:22 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736634022973
2025-01-11 17:20:22 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:20:22 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:20:22 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:20:22 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:20:22 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:20:22 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736634022973
2025-01-11 17:20:22 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736634022973]
2025-01-11 17:20:22 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:20:22 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736634022973", parameters={t:[1736634022973]}
2025-01-11 17:20:22 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:20:22 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736634022973
2025-01-11 17:20:22 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:20:22 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736634022973]
2025-01-11 17:20:22 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/407/kgdzakly/websocket
2025-01-11 17:20:22 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/407/kgdzakly/websocket
2025-01-11 17:20:22 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:20:22 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/407/kgdzakly/websocket
2025-01-11 17:20:23 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:20:23 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:20:23 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/407/kgdzakly/websocket
2025-01-11 17:20:23 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/407/kgdzakly/websocket]
2025-01-11 17:20:23 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/407/kgdzakly/websocket - Origin: http://localhost:5173
2025-01-11 17:20:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/407/kgdzakly/websocket", parameters={}
2025-01-11 17:20:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:20:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/407/kgdzakly/websocket
2025-01-11 17:20:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:20:23 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/407/kgdzakly/websocket]
2025-01-11 17:20:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=kgdzakly]
2025-01-11 17:20:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:20:23 [clientInboundChannel-128] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=kgdzakly
2025-01-11 17:20:30 [MessageBroker-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [cfg1vnfj]
2025-01-11 17:20:38 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=kgdzakly] closed with CloseStatus[code=1000, reason=null]
2025-01-11 17:20:38 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session kgdzakly
2025-01-11 17:20:38 [clientInboundChannel-118] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=kgdzakly
2025-01-11 17:20:38 [clientOutboundChannel-91] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=kgdzakly}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=kgdzakly}]
2025-01-11 17:20:39 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 17:20:39 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 17:20:39 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 17:20:39 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:20:39 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 17:20:39 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 17:20:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:20:39 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 17:20:39 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736634039921
2025-01-11 17:20:39 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:20:39 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:20:39 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:20:39 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:20:39 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:20:39 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:20:39 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:20:39 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736634039921
2025-01-11 17:20:39 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736634039921]
2025-01-11 17:20:39 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 17:20:40 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 17:20:40 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 17:20:40 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 17:20:40 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 17:20:40 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 17:20:40 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 17:20:40 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 17:20:40 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 17:20:40 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 17:20:39 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:20:40 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736634039921", parameters={t:[1736634039921]}
2025-01-11 17:20:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:20:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736634039921
2025-01-11 17:20:40 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 17:20:40 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 17:20:40 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 17:20:40 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 17:20:40 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 17:20:40 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 17:20:40 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 17:20:40 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 17:20:40 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 17:20:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 17:20:40 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:20:40 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736634039921]
2025-01-11 17:20:40 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 186ms
2025-01-11 17:20:40 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 17:20:40 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 17:20:40 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 17:20:40 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 55ms
2025-01-11 17:20:40 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 17:20:40 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:20:40 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 17:20:40 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 17:20:40 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 17:20:40 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:20:40 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 17:20:40 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/227/azev4btd/websocket
2025-01-11 17:20:40 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/227/azev4btd/websocket
2025-01-11 17:20:40 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:20:40 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/227/azev4btd/websocket
2025-01-11 17:20:40 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:20:40 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:20:40 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/227/azev4btd/websocket
2025-01-11 17:20:40 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/227/azev4btd/websocket]
2025-01-11 17:20:40 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/227/azev4btd/websocket - Origin: http://localhost:5173
2025-01-11 17:20:40 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/227/azev4btd/websocket", parameters={}
2025-01-11 17:20:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:20:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/227/azev4btd/websocket
2025-01-11 17:20:40 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:20:40 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/227/azev4btd/websocket]
2025-01-11 17:20:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=azev4btd]
2025-01-11 17:20:40 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:20:40 [clientInboundChannel-127] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=azev4btd
2025-01-11 17:20:43 [clientInboundChannel-129] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=azev4btd
2025-01-11 17:20:45 [MessageBroker-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [kgdzakly]
2025-01-11 17:20:48 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/channels
2025-01-11 17:20:48 [http-nio-8080-exec-7] DEBUG o.s.security.web.csrf.CsrfFilter - Invalid CSRF token found for http://localhost:8080/api/channels
2025-01-11 17:20:48 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AccessDeniedHandlerImpl - Responding with 403 status code
2025-01-11 17:20:48 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-01-11 17:20:48 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:20:48 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=azev4btd] closed with CloseStatus[code=1000, reason=null]
2025-01-11 17:20:48 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session azev4btd
2025-01-11 17:20:48 [clientInboundChannel-118] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=azev4btd
2025-01-11 17:20:48 [clientOutboundChannel-93] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=azev4btd}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=azev4btd}]
2025-01-11 17:20:49 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736634049814
2025-01-11 17:20:49 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:20:49 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:20:49 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:20:49 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:20:49 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:20:49 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736634049814
2025-01-11 17:20:49 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736634049814]
2025-01-11 17:20:49 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:20:49 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736634049814", parameters={t:[1736634049814]}
2025-01-11 17:20:49 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:20:49 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736634049814
2025-01-11 17:20:49 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:20:49 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736634049814]
2025-01-11 17:20:49 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/640/4mhwm1xo/websocket
2025-01-11 17:20:49 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/640/4mhwm1xo/websocket
2025-01-11 17:20:49 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:20:49 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/640/4mhwm1xo/websocket
2025-01-11 17:20:49 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:20:49 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:20:49 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/640/4mhwm1xo/websocket
2025-01-11 17:20:49 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/640/4mhwm1xo/websocket]
2025-01-11 17:20:49 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/640/4mhwm1xo/websocket - Origin: http://localhost:5173
2025-01-11 17:20:49 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/640/4mhwm1xo/websocket", parameters={}
2025-01-11 17:20:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@7020deaa
2025-01-11 17:20:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/640/4mhwm1xo/websocket
2025-01-11 17:20:49 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:20:49 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/640/4mhwm1xo/websocket]
2025-01-11 17:20:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=4mhwm1xo]
2025-01-11 17:20:50 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:20:50 [clientInboundChannel-119] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=4mhwm1xo
2025-01-11 17:20:55 [MessageBroker-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [azev4btd]
2025-01-11 17:23:26 [main] INFO  c.g.a.chatgenius.Application - Starting Application using Java 21.0.3 with PID 30676 (C:\Users\Agustin\Gauntlet\ChatGenius2\backend\build\classes\java\main started by Agustin in C:\Users\Agustin\Gauntlet\ChatGenius2)
2025-01-11 17:23:26 [main] DEBUG c.g.a.chatgenius.Application - Running with Spring Boot v3.2.2, Spring v6.1.3
2025-01-11 17:23:26 [main] INFO  c.g.a.chatgenius.Application - The following 1 profile is active: "dev"
2025-01-11 17:23:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-11 17:23:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 114 ms. Found 4 JPA repository interfaces.
2025-01-11 17:23:28 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-01-11 17:23:28 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-11 17:23:28 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.18]
2025-01-11 17:23:29 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-11 17:23:29 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2747 ms
2025-01-11 17:23:29 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-11 17:23:29 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2025-01-11 17:23:29 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-11 17:23:30 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-11 17:23:30 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-11 17:23:31 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-11 17:23:32 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-11 17:23:32 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@799206ad
2025-01-11 17:23:32 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-01-11 17:23:34 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-11 17:23:35 [main] DEBUG c.g.a.c.security.ClerkAuthFilter - Filter 'clerkAuthFilter' configured for use
2025-01-11 17:23:35 [main] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Filter 'logFilter' configured for use
2025-01-11 17:23:35 [main] DEBUG c.g.a.c.c.RequestLoggingConfig$1 - Filter 'corsLoggingFilter' configured for use
2025-01-11 17:23:35 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-11 17:23:36 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 40e59058-9756-47ea-9d7e-1f05e1abe23f

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-01-11 17:23:37 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws/**] in 'stompWebSocketHandlerMapping'
2025-01-11 17:23:37 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 22 mappings in 'requestMappingHandlerMapping'
2025-01-11 17:23:37 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-01-11 17:23:37 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7343df40, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1e1e77ed, org.springframework.security.web.context.SecurityContextHolderFilter@7cd90b9b, org.springframework.security.web.header.HeaderWriterFilter@51c4bfea, org.springframework.web.filter.CorsFilter@157eac27, org.springframework.security.web.csrf.CsrfFilter@a57734e, org.springframework.security.web.authentication.logout.LogoutFilter@4ddf2447, com.gauntletai.agustinbiondi.chatgenius.security.ClerkAuthFilter@66e62e19, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3178f903, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@61207d28, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@291a8ecd, org.springframework.security.web.session.SessionManagementFilter@3ad7a94, org.springframework.security.web.access.ExceptionTranslationFilter@1d0868dc, org.springframework.security.web.access.intercept.AuthorizationFilter@43f88cba]
2025-01-11 17:23:37 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.g.a.c.c.ChannelController:
	
2025-01-11 17:23:37 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.g.a.c.c.ClerkWebhookController:
	
2025-01-11 17:23:37 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.g.a.c.c.DevUserController:
	
2025-01-11 17:23:37 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.g.a.c.c.UserController:
	
2025-01-11 17:23:37 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.g.a.c.c.WebSocketController:
	{[MESSAGE],[/channels/{channelId}/messages]}: handleMessage(UUID,MessageDTO,Principal)
	{[MESSAGE],[/channels/{channelId}/typing]}: handleTypingEvent(UUID,Principal)
2025-01-11 17:23:37 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.b.a.w.s.e.BasicErrorController:
	
2025-01-11 17:23:37 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-01-11 17:23:37 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-01-11 17:23:38 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-01-11 17:23:38 [main] DEBUG org.springframework.web.SimpLogging - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-01-11 17:23:38 [main] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-01-11 17:23:38 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-01-11 17:23:38 [main] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@30012b46]
2025-01-11 17:23:38 [main] DEBUG org.springframework.web.SimpLogging - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@30012b46]
2025-01-11 17:23:38 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@30012b46]]
2025-01-11 17:23:38 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-01-11 17:23:38 [main] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-01-11 17:23:38 [main] DEBUG org.springframework.web.SimpLogging - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-01-11 17:23:38 [main] INFO  c.g.a.chatgenius.Application - Started Application in 13.046 seconds (process running for 13.6)
2025-01-11 17:23:38 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-11 17:23:38 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-01-11 17:23:38 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-01-11 17:23:38 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-01-11 17:23:38 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-01-11 17:23:38 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@1b2af5ed
2025-01-11 17:23:38 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@1f44c6b6
2025-01-11 17:23:38 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='true': request parameters and headers will be shown which may lead to unsafe logging of potentially sensitive data
2025-01-11 17:23:38 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 14 ms
2025-01-11 17:23:38 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736634216303
2025-01-11 17:23:38 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:23:38 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:23:38 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:23:38 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:23:38 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:23:38 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736634216303
2025-01-11 17:23:38 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736634216303]
2025-01-11 17:23:38 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:23:38 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736634216303", parameters={t:[1736634216303]}
2025-01-11 17:23:38 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@5b4c2959
2025-01-11 17:23:38 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736634216303
2025-01-11 17:23:38 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:23:38 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736634216303]
2025-01-11 17:23:38 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/066/iot5a15g/websocket
2025-01-11 17:23:38 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/066/iot5a15g/websocket
2025-01-11 17:23:38 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:23:38 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/066/iot5a15g/websocket
2025-01-11 17:23:38 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:23:38 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:23:38 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/066/iot5a15g/websocket
2025-01-11 17:23:38 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/066/iot5a15g/websocket]
2025-01-11 17:23:38 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/066/iot5a15g/websocket - Origin: http://localhost:5173
2025-01-11 17:23:38 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/066/iot5a15g/websocket", parameters={}
2025-01-11 17:23:38 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@5b4c2959
2025-01-11 17:23:38 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/066/iot5a15g/websocket
2025-01-11 17:23:39 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:23:39 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/066/iot5a15g/websocket]
2025-01-11 17:23:39 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=iot5a15g]
2025-01-11 17:23:39 [http-nio-8080-exec-2] ERROR c.g.a.c.security.ClerkTokenValidator - Token verification failed
com.auth0.jwt.exceptions.TokenExpiredException: The Token has expired on 2025-01-11T22:21:48Z.
	at com.auth0.jwt.JWTVerifier$BaseVerification.assertValidInstantClaim(JWTVerifier.java:346)
	at com.auth0.jwt.JWTVerifier$BaseVerification.lambda$addMandatoryClaimChecks$17(JWTVerifier.java:308)
	at com.auth0.jwt.JWTVerifier$BaseVerification$1.verify(JWTVerifier.java:405)
	at com.auth0.jwt.JWTVerifier.verifyClaims(JWTVerifier.java:482)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:464)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:58)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkChannelInterceptor.preSend(ClerkChannelInterceptor.java:36)
	at org.springframework.messaging.support.AbstractMessageChannel$ChannelInterceptorChain.applyPreSend(AbstractMessageChannel.java:181)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:135)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:125)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageFromClient(StompSubProtocolHandler.java:343)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:336)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.delegateMessages(AbstractSockJsSession.java:346)
	at org.springframework.web.socket.sockjs.transport.session.WebSocketServerSockJsSession.handleMessage(WebSocketServerSockJsSession.java:195)
	at org.springframework.web.socket.sockjs.transport.handler.SockJsWebSocketHandler.handleTextMessage(SockJsWebSocketHandler.java:93)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-01-11 17:23:39 [http-nio-8080-exec-2] ERROR c.g.a.c.s.ClerkChannelInterceptor - WebSocket authentication failed
com.auth0.jwt.exceptions.JWTVerificationException: Invalid token
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:65)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkChannelInterceptor.preSend(ClerkChannelInterceptor.java:36)
	at org.springframework.messaging.support.AbstractMessageChannel$ChannelInterceptorChain.applyPreSend(AbstractMessageChannel.java:181)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:135)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:125)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageFromClient(StompSubProtocolHandler.java:343)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:336)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.delegateMessages(AbstractSockJsSession.java:346)
	at org.springframework.web.socket.sockjs.transport.session.WebSocketServerSockJsSession.handleMessage(WebSocketServerSockJsSession.java:195)
	at org.springframework.web.socket.sockjs.transport.handler.SockJsWebSocketHandler.handleTextMessage(SockJsWebSocketHandler.java:93)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: com.auth0.jwt.exceptions.TokenExpiredException: The Token has expired on 2025-01-11T22:21:48Z.
	at com.auth0.jwt.JWTVerifier$BaseVerification.assertValidInstantClaim(JWTVerifier.java:346)
	at com.auth0.jwt.JWTVerifier$BaseVerification.lambda$addMandatoryClaimChecks$17(JWTVerifier.java:308)
	at com.auth0.jwt.JWTVerifier$BaseVerification$1.verify(JWTVerifier.java:405)
	at com.auth0.jwt.JWTVerifier.verifyClaims(JWTVerifier.java:482)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:464)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:58)
	... 34 common frames omitted
2025-01-11 17:23:39 [http-nio-8080-exec-2] DEBUG org.springframework.web.SimpLogging - ClerkChannelInterceptor returned null from preSend, i.e. precluding the send.
2025-01-11 17:23:53 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=iot5a15g] closed with CloseStatus[code=1000, reason=null]
2025-01-11 17:23:53 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session iot5a15g
2025-01-11 17:23:53 [clientInboundChannel-2] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=iot5a15g
2025-01-11 17:23:53 [clientOutboundChannel-1] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=iot5a15g}], simpSessionId=iot5a15g}]
2025-01-11 17:23:54 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 17:23:54 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 17:23:54 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 17:23:54 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736634234733
2025-01-11 17:23:54 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:23:54 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:23:54 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 17:23:54 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:23:54 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:23:54 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:23:54 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 17:23:54 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:23:54 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736634234733
2025-01-11 17:23:54 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 17:23:54 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736634234733]
2025-01-11 17:23:54 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:23:54 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736634234733", parameters={t:[1736634234733]}
2025-01-11 17:23:54 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@5b4c2959
2025-01-11 17:23:54 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:23:54 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736634234733
2025-01-11 17:23:54 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:23:54 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736634234733]
2025-01-11 17:23:54 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/955/meu3t1a1/websocket
2025-01-11 17:23:54 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/955/meu3t1a1/websocket
2025-01-11 17:23:54 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:23:54 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/955/meu3t1a1/websocket
2025-01-11 17:23:54 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:23:54 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:23:54 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/955/meu3t1a1/websocket
2025-01-11 17:23:54 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/955/meu3t1a1/websocket]
2025-01-11 17:23:54 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/955/meu3t1a1/websocket - Origin: http://localhost:5173
2025-01-11 17:23:54 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:23:54 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/955/meu3t1a1/websocket", parameters={}
2025-01-11 17:23:54 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:23:54 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@5b4c2959
2025-01-11 17:23:55 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/955/meu3t1a1/websocket
2025-01-11 17:23:55 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:23:55 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 17:23:55 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 17:23:55 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 17:23:55 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 17:23:55 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 17:23:55 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 17:23:55 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 17:23:55 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/955/meu3t1a1/websocket]
2025-01-11 17:23:55 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 17:23:55 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 17:23:55 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 17:23:55 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 17:23:55 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 17:23:55 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 17:23:55 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 17:23:55 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 17:23:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 17:23:55 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 17:23:55 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 17:23:55 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=meu3t1a1]
2025-01-11 17:23:55 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 17:23:55 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 17:23:55 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:23:55 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 185ms
2025-01-11 17:23:55 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 17:23:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 17:23:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 17:23:55 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 235ms
2025-01-11 17:23:55 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 17:23:55 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 17:23:55 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 17:23:55 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:23:55 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 17:23:55 [clientInboundChannel-5] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=meu3t1a1
2025-01-11 17:23:55 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:23:55 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 17:23:55 [clientInboundChannel-8] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=meu3t1a1
2025-01-11 17:23:59 [MessageBroker-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [iot5a15g]
2025-01-11 17:24:10 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=meu3t1a1] closed with CloseStatus[code=1000, reason=null]
2025-01-11 17:24:10 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session meu3t1a1
2025-01-11 17:24:10 [clientInboundChannel-1] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=meu3t1a1
2025-01-11 17:24:10 [clientOutboundChannel-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=meu3t1a1}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=meu3t1a1}]
2025-01-11 17:24:12 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 17:24:12 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 17:24:12 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 17:24:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 17:24:12 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 17:24:12 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 17:24:12 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736634252042
2025-01-11 17:24:12 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:24:12 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:24:12 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:24:12 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:24:12 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:24:12 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:24:12 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:24:12 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:24:12 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:24:12 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736634252042
2025-01-11 17:24:12 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736634252042]
2025-01-11 17:24:12 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 17:24:12 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 17:24:12 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:24:12 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 17:24:12 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 17:24:12 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736634252042", parameters={t:[1736634252042]}
2025-01-11 17:24:12 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 17:24:12 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 17:24:12 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 17:24:12 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 17:24:12 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 17:24:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@5b4c2959
2025-01-11 17:24:12 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 17:24:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736634252042
2025-01-11 17:24:12 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:24:12 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736634252042]
2025-01-11 17:24:12 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 17:24:12 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 17:24:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 17:24:12 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 17:24:12 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 17:24:12 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 17:24:12 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 17:24:12 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 17:24:12 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 17:24:12 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 17:24:12 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/289/eqpkq2lx/websocket
2025-01-11 17:24:12 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/289/eqpkq2lx/websocket
2025-01-11 17:24:12 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 87ms
2025-01-11 17:24:12 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 17:24:12 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 17:24:12 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 17:24:12 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:24:12 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 17:24:12 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:24:12 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/289/eqpkq2lx/websocket
2025-01-11 17:24:12 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:24:12 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 105ms
2025-01-11 17:24:12 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 17:24:12 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 17:24:12 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 17:24:12 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:24:12 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 17:24:12 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:24:12 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/289/eqpkq2lx/websocket
2025-01-11 17:24:12 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/289/eqpkq2lx/websocket]
2025-01-11 17:24:12 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/289/eqpkq2lx/websocket - Origin: http://localhost:5173
2025-01-11 17:24:12 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/289/eqpkq2lx/websocket", parameters={}
2025-01-11 17:24:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@5b4c2959
2025-01-11 17:24:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/289/eqpkq2lx/websocket
2025-01-11 17:24:12 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:24:12 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/289/eqpkq2lx/websocket]
2025-01-11 17:24:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=eqpkq2lx]
2025-01-11 17:24:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:24:12 [clientInboundChannel-5] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=eqpkq2lx
2025-01-11 17:24:14 [clientInboundChannel-7] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=eqpkq2lx
2025-01-11 17:24:19 [MessageBroker-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [meu3t1a1]
2025-01-11 17:24:38 [MessageBroker-4] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 3 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(3)-CONNECTED(2)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 8, active threads = 0, queued tasks = 0, completed tasks = 18], outboundChannel[pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 4], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 2, completed tasks = 13]
2025-01-11 17:24:48 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/channels
2025-01-11 17:24:48 [http-nio-8080-exec-1] DEBUG o.s.security.web.csrf.CsrfFilter - Invalid CSRF token found for http://localhost:8080/api/channels
2025-01-11 17:24:48 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AccessDeniedHandlerImpl - Responding with 403 status code
2025-01-11 17:24:48 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-01-11 17:24:48 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:24:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=eqpkq2lx] closed with CloseStatus[code=1000, reason=null]
2025-01-11 17:24:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session eqpkq2lx
2025-01-11 17:24:48 [clientInboundChannel-2] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=eqpkq2lx
2025-01-11 17:24:48 [clientOutboundChannel-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=eqpkq2lx}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=eqpkq2lx}]
2025-01-11 17:24:49 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736634289960
2025-01-11 17:24:49 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:24:49 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:24:49 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:24:49 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:24:49 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:24:49 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736634289960
2025-01-11 17:24:49 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736634289960]
2025-01-11 17:24:49 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:24:49 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736634289960", parameters={t:[1736634289960]}
2025-01-11 17:24:49 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@5b4c2959
2025-01-11 17:24:49 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736634289960
2025-01-11 17:24:49 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:24:49 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736634289960]
2025-01-11 17:24:50 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/334/hvgeu55h/websocket
2025-01-11 17:24:50 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/334/hvgeu55h/websocket
2025-01-11 17:24:50 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:24:50 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/334/hvgeu55h/websocket
2025-01-11 17:24:50 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:24:50 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:24:50 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/334/hvgeu55h/websocket
2025-01-11 17:24:50 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/334/hvgeu55h/websocket]
2025-01-11 17:24:50 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/334/hvgeu55h/websocket - Origin: http://localhost:5173
2025-01-11 17:24:50 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/334/hvgeu55h/websocket", parameters={}
2025-01-11 17:24:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@5b4c2959
2025-01-11 17:24:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/334/hvgeu55h/websocket
2025-01-11 17:24:50 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:24:50 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/334/hvgeu55h/websocket]
2025-01-11 17:24:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=hvgeu55h]
2025-01-11 17:24:50 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:24:50 [clientInboundChannel-3] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=hvgeu55h
2025-01-11 17:24:54 [MessageBroker-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [eqpkq2lx]
2025-01-11 17:25:08 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-01-11 17:25:08 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session hvgeu55h with CloseStatus[code=1001, reason=null]
2025-01-11 17:25:08 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=6fb2c535-71ba-0024-da8c-3cda3f960261, uri=ws://localhost:8080/ws/334/hvgeu55h/websocket]
2025-01-11 17:25:08 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=hvgeu55h] closed with CloseStatus[code=1001, reason=null]
2025-01-11 17:25:08 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session hvgeu55h
2025-01-11 17:25:08 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - Detected unsent DISCONNECT message. Processing anyway.
2025-01-11 17:25:08 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=hvgeu55h
2025-01-11 17:25:08 [SpringApplicationShutdownHook] WARN  o.s.w.s.h.ExceptionWebSocketHandlerDecorator - Unhandled exception after connection closed for ExceptionWebSocketHandlerDecorator [delegate=LoggingWebSocketHandlerDecorator [delegate=SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]]]
org.springframework.messaging.MessageDeliveryException: Failed to send message to ExecutorSubscribableChannel[clientInboundChannel]
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:149)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:125)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.afterSessionEnded(StompSubProtocolHandler.java:685)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.clearSession(SubProtocolWebSocketHandler.java:531)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.afterConnectionClosed(SubProtocolWebSocketHandler.java:400)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.afterConnectionClosed(WebSocketHandlerDecorator.java:85)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.afterConnectionClosed(LoggingWebSocketHandlerDecorator.java:72)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.afterConnectionClosed(ExceptionWebSocketHandlerDecorator.java:78)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.close(AbstractSockJsSession.java:200)
	at org.springframework.web.socket.handler.WebSocketSessionDecorator.close(WebSocketSessionDecorator.java:160)
	at org.springframework.web.socket.handler.ConcurrentWebSocketSessionDecorator.close(ConcurrentWebSocketSessionDecorator.java:271)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.stop(SubProtocolWebSocketHandler.java:289)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.stop(SubProtocolWebSocketHandler.java:302)
	at org.springframework.context.support.DefaultLifecycleProcessor.doStop(DefaultLifecycleProcessor.java:344)
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.stop(DefaultLifecycleProcessor.java:483)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.context.support.DefaultLifecycleProcessor.stopBeans(DefaultLifecycleProcessor.java:313)
	at org.springframework.context.support.DefaultLifecycleProcessor.onClose(DefaultLifecycleProcessor.java:214)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1136)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1090)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.springframework.core.task.TaskRejectedException: ExecutorService in shutdown state did not accept task: org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask@7efa2d6d
	at org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor.execute(ThreadPoolTaskExecutor.java:365)
	at org.springframework.messaging.support.ExecutorSubscribableChannel.sendInternal(ExecutorSubscribableChannel.java:103)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:139)
	... 24 common frames omitted
Caused by: java.util.concurrent.RejectedExecutionException: Task org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask@7efa2d6d rejected from org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor$1@6d91e1ba[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 24]
	at java.base/java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2081)
	at java.base/java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:841)
	at java.base/java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1376)
	at org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor$1.execute(ThreadPoolTaskExecutor.java:269)
	at org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor.execute(ThreadPoolTaskExecutor.java:362)
	... 26 common frames omitted
2025-01-11 17:25:08 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-01-11 17:25:08 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-01-11 17:25:08 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@30012b46]]
2025-01-11 17:25:08 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@30012b46]
2025-01-11 17:25:08 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@30012b46]
2025-01-11 17:25:08 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-01-11 17:25:08 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-01-11 17:25:08 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-01-11 17:25:08 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-11 17:25:08 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-01-11 17:25:08 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-01-11 17:26:55 [main] INFO  c.g.a.chatgenius.Application - Starting Application using Java 21.0.3 with PID 29156 (C:\Users\Agustin\Gauntlet\ChatGenius2\backend\build\classes\java\main started by Agustin in C:\Users\Agustin\Gauntlet\ChatGenius2)
2025-01-11 17:26:55 [main] DEBUG c.g.a.chatgenius.Application - Running with Spring Boot v3.2.2, Spring v6.1.3
2025-01-11 17:26:55 [main] INFO  c.g.a.chatgenius.Application - The following 1 profile is active: "dev"
2025-01-11 17:26:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-11 17:26:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 109 ms. Found 4 JPA repository interfaces.
2025-01-11 17:26:57 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-01-11 17:26:57 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-11 17:26:57 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.18]
2025-01-11 17:26:58 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-11 17:26:58 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2541 ms
2025-01-11 17:26:58 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-11 17:26:58 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2025-01-11 17:26:58 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-11 17:26:59 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-11 17:26:59 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-11 17:27:00 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-11 17:27:00 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-11 17:27:00 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@10cb5047
2025-01-11 17:27:00 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-01-11 17:27:01 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-11 17:27:01 [main] DEBUG c.g.a.c.security.ClerkAuthFilter - Filter 'clerkAuthFilter' configured for use
2025-01-11 17:27:01 [main] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Filter 'logFilter' configured for use
2025-01-11 17:27:01 [main] DEBUG c.g.a.c.c.RequestLoggingConfig$1 - Filter 'corsLoggingFilter' configured for use
2025-01-11 17:27:01 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-11 17:27:03 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 7f212c29-c6dd-4185-804b-e0b02d0b6ee5

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-01-11 17:27:03 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws/**] in 'stompWebSocketHandlerMapping'
2025-01-11 17:27:03 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 22 mappings in 'requestMappingHandlerMapping'
2025-01-11 17:27:03 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-01-11 17:27:03 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@21838ea3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f6acdcc, org.springframework.security.web.context.SecurityContextHolderFilter@2ddc5c07, org.springframework.security.web.header.HeaderWriterFilter@604c9f59, org.springframework.web.filter.CorsFilter@49f4de0e, org.springframework.security.web.csrf.CsrfFilter@6ec8fa57, org.springframework.security.web.authentication.logout.LogoutFilter@1e1e77ed, com.gauntletai.agustinbiondi.chatgenius.security.ClerkAuthFilter@1b08d26f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@286bd902, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@78a4764f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@63214338, org.springframework.security.web.session.SessionManagementFilter@557bf0f0, org.springframework.security.web.access.ExceptionTranslationFilter@648374fa, org.springframework.security.web.access.intercept.AuthorizationFilter@2e145f7b]
2025-01-11 17:27:03 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.g.a.c.c.ChannelController:
	
2025-01-11 17:27:03 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.g.a.c.c.ClerkWebhookController:
	
2025-01-11 17:27:03 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.g.a.c.c.DevUserController:
	
2025-01-11 17:27:03 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.g.a.c.c.UserController:
	
2025-01-11 17:27:03 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.g.a.c.c.WebSocketController:
	{[MESSAGE],[/channels/{channelId}/messages]}: handleMessage(UUID,MessageDTO,Principal)
	{[MESSAGE],[/channels/{channelId}/typing]}: handleTypingEvent(UUID,Principal)
2025-01-11 17:27:03 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.b.a.w.s.e.BasicErrorController:
	
2025-01-11 17:27:03 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-01-11 17:27:03 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-01-11 17:27:04 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-01-11 17:27:04 [main] DEBUG org.springframework.web.SimpLogging - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-01-11 17:27:04 [main] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-01-11 17:27:04 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-01-11 17:27:04 [main] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5471182c]
2025-01-11 17:27:04 [main] DEBUG org.springframework.web.SimpLogging - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5471182c]
2025-01-11 17:27:04 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5471182c]]
2025-01-11 17:27:04 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-01-11 17:27:04 [main] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-01-11 17:27:04 [main] DEBUG org.springframework.web.SimpLogging - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-01-11 17:27:04 [main] INFO  c.g.a.chatgenius.Application - Started Application in 9.46 seconds (process running for 9.972)
2025-01-11 17:27:04 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-11 17:27:04 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-01-11 17:27:04 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-01-11 17:27:04 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-01-11 17:27:04 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-01-11 17:27:04 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@979c3cb
2025-01-11 17:27:04 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@ee6533
2025-01-11 17:27:04 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='true': request parameters and headers will be shown which may lead to unsafe logging of potentially sensitive data
2025-01-11 17:27:04 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 8 ms
2025-01-11 17:27:05 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736634424910
2025-01-11 17:27:05 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:27:05 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:27:05 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:27:05 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:27:05 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:27:05 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736634424910
2025-01-11 17:27:05 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736634424910]
2025-01-11 17:27:05 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:27:05 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736634424910", parameters={t:[1736634424910]}
2025-01-11 17:27:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 17:27:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736634424910
2025-01-11 17:27:05 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:27:05 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736634424910]
2025-01-11 17:27:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/843/dfgyfqac/websocket
2025-01-11 17:27:05 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/843/dfgyfqac/websocket
2025-01-11 17:27:05 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:27:05 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/843/dfgyfqac/websocket
2025-01-11 17:27:05 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:27:05 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:27:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/843/dfgyfqac/websocket
2025-01-11 17:27:05 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/843/dfgyfqac/websocket]
2025-01-11 17:27:05 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/843/dfgyfqac/websocket - Origin: http://localhost:5173
2025-01-11 17:27:05 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/843/dfgyfqac/websocket", parameters={}
2025-01-11 17:27:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 17:27:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/843/dfgyfqac/websocket
2025-01-11 17:27:05 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:27:05 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/843/dfgyfqac/websocket]
2025-01-11 17:27:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=dfgyfqac]
2025-01-11 17:27:05 [http-nio-8080-exec-2] ERROR c.g.a.c.security.ClerkTokenValidator - Token verification failed
com.auth0.jwt.exceptions.TokenExpiredException: The Token has expired on 2025-01-11T22:25:48Z.
	at com.auth0.jwt.JWTVerifier$BaseVerification.assertValidInstantClaim(JWTVerifier.java:346)
	at com.auth0.jwt.JWTVerifier$BaseVerification.lambda$addMandatoryClaimChecks$17(JWTVerifier.java:308)
	at com.auth0.jwt.JWTVerifier$BaseVerification$1.verify(JWTVerifier.java:405)
	at com.auth0.jwt.JWTVerifier.verifyClaims(JWTVerifier.java:482)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:464)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:58)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkChannelInterceptor.preSend(ClerkChannelInterceptor.java:36)
	at org.springframework.messaging.support.AbstractMessageChannel$ChannelInterceptorChain.applyPreSend(AbstractMessageChannel.java:181)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:135)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:125)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageFromClient(StompSubProtocolHandler.java:343)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:336)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.delegateMessages(AbstractSockJsSession.java:346)
	at org.springframework.web.socket.sockjs.transport.session.WebSocketServerSockJsSession.handleMessage(WebSocketServerSockJsSession.java:195)
	at org.springframework.web.socket.sockjs.transport.handler.SockJsWebSocketHandler.handleTextMessage(SockJsWebSocketHandler.java:93)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-01-11 17:27:05 [http-nio-8080-exec-2] ERROR c.g.a.c.s.ClerkChannelInterceptor - WebSocket authentication failed
com.auth0.jwt.exceptions.JWTVerificationException: Invalid token
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:65)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkChannelInterceptor.preSend(ClerkChannelInterceptor.java:36)
	at org.springframework.messaging.support.AbstractMessageChannel$ChannelInterceptorChain.applyPreSend(AbstractMessageChannel.java:181)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:135)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:125)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageFromClient(StompSubProtocolHandler.java:343)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:336)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.delegateMessages(AbstractSockJsSession.java:346)
	at org.springframework.web.socket.sockjs.transport.session.WebSocketServerSockJsSession.handleMessage(WebSocketServerSockJsSession.java:195)
	at org.springframework.web.socket.sockjs.transport.handler.SockJsWebSocketHandler.handleTextMessage(SockJsWebSocketHandler.java:93)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: com.auth0.jwt.exceptions.TokenExpiredException: The Token has expired on 2025-01-11T22:25:48Z.
	at com.auth0.jwt.JWTVerifier$BaseVerification.assertValidInstantClaim(JWTVerifier.java:346)
	at com.auth0.jwt.JWTVerifier$BaseVerification.lambda$addMandatoryClaimChecks$17(JWTVerifier.java:308)
	at com.auth0.jwt.JWTVerifier$BaseVerification$1.verify(JWTVerifier.java:405)
	at com.auth0.jwt.JWTVerifier.verifyClaims(JWTVerifier.java:482)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:464)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:58)
	... 34 common frames omitted
2025-01-11 17:27:05 [http-nio-8080-exec-2] DEBUG org.springframework.web.SimpLogging - ClerkChannelInterceptor returned null from preSend, i.e. precluding the send.
2025-01-11 17:27:13 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=dfgyfqac] closed with CloseStatus[code=1000, reason=null]
2025-01-11 17:27:13 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session dfgyfqac
2025-01-11 17:27:13 [clientInboundChannel-2] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=dfgyfqac
2025-01-11 17:27:13 [clientOutboundChannel-1] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=dfgyfqac}], simpSessionId=dfgyfqac}]
2025-01-11 17:27:15 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 17:27:15 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736634435324
2025-01-11 17:27:15 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 17:27:15 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 17:27:15 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 17:27:15 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 17:27:15 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:27:15 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 17:27:15 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:27:15 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:27:15 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:27:15 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:27:15 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:27:15 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:27:15 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736634435324
2025-01-11 17:27:15 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736634435324]
2025-01-11 17:27:15 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:27:15 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:27:15 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:27:15 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736634435324", parameters={t:[1736634435324]}
2025-01-11 17:27:15 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 17:27:15 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736634435324
2025-01-11 17:27:15 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:27:15 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736634435324]
2025-01-11 17:27:16 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 17:27:16 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 17:27:16 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 17:27:16 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 17:27:16 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 17:27:16 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 17:27:16 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 17:27:16 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 17:27:16 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 17:27:16 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 17:27:16 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 17:27:16 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 17:27:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 17:27:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 17:27:16 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 17:27:16 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 17:27:16 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 17:27:16 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 17:27:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 17:27:16 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 17:27:16 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 207ms
2025-01-11 17:27:16 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 200ms
2025-01-11 17:27:16 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[],[]>
2025-01-11 17:27:16 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 17:27:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 17:27:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 17:27:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-01-11 17:27:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 17:27:16 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:27:16 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 17:27:16 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/673/o5cjsbnw/websocket
2025-01-11 17:27:16 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/673/o5cjsbnw/websocket
2025-01-11 17:27:16 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:27:16 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/673/o5cjsbnw/websocket
2025-01-11 17:27:16 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:27:16 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:27:16 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/673/o5cjsbnw/websocket
2025-01-11 17:27:16 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/673/o5cjsbnw/websocket]
2025-01-11 17:27:16 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/673/o5cjsbnw/websocket - Origin: http://localhost:5173
2025-01-11 17:27:16 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/673/o5cjsbnw/websocket", parameters={}
2025-01-11 17:27:16 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 17:27:16 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:27:16 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 17:27:16 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/673/o5cjsbnw/websocket
2025-01-11 17:27:16 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:27:16 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/673/o5cjsbnw/websocket]
2025-01-11 17:27:16 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=o5cjsbnw]
2025-01-11 17:27:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:27:16 [clientInboundChannel-5] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=o5cjsbnw
2025-01-11 17:27:20 [MessageBroker-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [dfgyfqac]
2025-01-11 17:27:23 [clientInboundChannel-8] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=o5cjsbnw
2025-01-11 17:27:27 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/channels
2025-01-11 17:27:27 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: POST /api/channels
2025-01-11 17:27:27 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 17:27:27 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:27:27 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:27:27 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 17:27:27 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for POST /api/channels
2025-01-11 17:27:27 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/channels
2025-01-11 17:27:27 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [POST /api/channels]
2025-01-11 17:27:27 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: POST /api/channels - Origin: http://localhost:5173
2025-01-11 17:27:27 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/channels", parameters={}
2025-01-11 17:27:27 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#createChannel(ChannelDTO, String)
2025-01-11 17:27:27 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ChannelDTO(id=null, name=sdfd, description=null, type=PUBLIC, createdBy=null, createdAt=null, member (truncated)...]
2025-01-11 17:27:27 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: POST , Controller: ChannelController.createChannel
2025-01-11 17:27:27 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: [ChannelDTO(id=null, name=sdfd, description=null, type=PUBLIC, createdBy=null, createdAt=null, memberIds=[]), user_2rMjbsf5HEAsTOk08nq01mt3exa]
2025-01-11 17:27:27 [http-nio-8080-exec-5] INFO  c.g.a.c.service.ChannelServiceImpl - Creating channel with name: sdfd, creator: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:27:27 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:27:27 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        channels
        (created_at, created_by, description, name, type, id) 
    values
        (?, ?, ?, ?, ?, ?)
2025-01-11 17:27:27 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        cm1_0.id 
    from
        channel_memberships cm1_0 
    left join
        users u1_0 
            on u1_0.user_id=cm1_0.user_id 
    where
        cm1_0.channel_id=? 
        and u1_0.user_id=? 
    fetch
        first ? rows only
2025-01-11 17:27:27 [http-nio-8080-exec-5] DEBUG c.g.a.c.w.WebSocketEventHandler - Broadcasting channel created event for channel: 21666a59-c37c-4684-a875-a2d6aa31ae1e
2025-01-11 17:27:27 [http-nio-8080-exec-5] DEBUG org.springframework.web.SimpLogging - Processing MESSAGE destination=/topic/channels/events session=null payload={
  "type" : "CREATED",
  "channel" : {
    "id" : "21666a59-c37c-4684-a875-a...(truncated)
2025-01-11 17:27:27 [http-nio-8080-exec-5] DEBUG org.springframework.web.SimpLogging - Broadcasting to 1 sessions.
2025-01-11 17:27:27 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        channel_memberships
        (channel_id, joined_at, last_read_at, user_id, id) 
    values
        (?, ?, ?, ?, ?)
2025-01-11 17:27:27 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 17:27:27 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 17:27:27 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 17:27:27 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:27:27 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:27:27 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 17:27:27 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: POST , Duration: 270ms
2025-01-11 17:27:27 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[]),[]>
2025-01-11 17:27:27 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 17:27:27 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 17:27:27 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 17:27:27 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 17:27:27 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 17:27:27 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 17:27:27 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, create (truncated)...]
2025-01-11 17:27:27 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 17:27:27 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 17:27:27 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:27:27 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 17:27:27 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: POST /api/channels, payload={"name":"sdfd","type":"PUBLIC","memberIds":[]}]
2025-01-11 17:27:27 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 17:27:27 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 17:27:27 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 99ms
2025-01-11 17:27:27 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 17:27:27 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 17:27:27 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 17:27:27 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:27:27 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 17:27:27 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 17:27:27 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 17:27:27 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 17:27:27 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:27:27 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:27:27 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 17:27:27 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 17:27:27 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 17:27:27 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 17:27:27 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 17:27:27 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 17:27:27 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 17:27:27 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 17:27:27 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 17:27:27 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 17:27:27 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 17:27:27 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 23ms
2025-01-11 17:27:27 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 17:27:27 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 17:27:27 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 17:27:27 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:27:27 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 17:27:37 [clientInboundChannel-1] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT receipt=close-1 session=o5cjsbnw
2025-01-11 17:27:37 [clientInboundChannel-2] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/presence session=o5cjsbnw, lookupDestination='/presence'
2025-01-11 17:27:37 [clientInboundChannel-2] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2025-01-11 17:27:37 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=o5cjsbnw] closed with CloseStatus[code=1000, reason=null]
2025-01-11 17:27:37 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session o5cjsbnw
2025-01-11 17:27:37 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736634457748
2025-01-11 17:27:37 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:27:37 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:27:37 [clientInboundChannel-7] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=o5cjsbnw
2025-01-11 17:27:37 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:27:37 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:27:37 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:27:37 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736634457748
2025-01-11 17:27:37 [clientOutboundChannel-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=o5cjsbnw}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=o5cjsbnw}]
2025-01-11 17:27:37 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736634457748]
2025-01-11 17:27:37 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:27:37 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736634457748", parameters={t:[1736634457748]}
2025-01-11 17:27:37 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 17:27:37 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736634457748
2025-01-11 17:27:37 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:27:37 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736634457748]
2025-01-11 17:27:37 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/175/g5cn4cht/websocket
2025-01-11 17:27:37 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/175/g5cn4cht/websocket
2025-01-11 17:27:37 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:27:37 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/175/g5cn4cht/websocket
2025-01-11 17:27:37 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:27:37 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:27:37 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/175/g5cn4cht/websocket
2025-01-11 17:27:37 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/175/g5cn4cht/websocket]
2025-01-11 17:27:37 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/175/g5cn4cht/websocket - Origin: http://localhost:5173
2025-01-11 17:27:37 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/175/g5cn4cht/websocket", parameters={}
2025-01-11 17:27:37 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 17:27:37 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/175/g5cn4cht/websocket
2025-01-11 17:27:37 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:27:37 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/175/g5cn4cht/websocket]
2025-01-11 17:27:37 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=g5cn4cht]
2025-01-11 17:27:37 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:27:37 [clientInboundChannel-6] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=g5cn4cht
2025-01-11 17:27:45 [MessageBroker-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [o5cjsbnw]
2025-01-11 17:27:51 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=g5cn4cht] closed with CloseStatus[code=1000, reason=null]
2025-01-11 17:27:51 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session g5cn4cht
2025-01-11 17:27:51 [clientInboundChannel-1] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=g5cn4cht
2025-01-11 17:27:51 [clientOutboundChannel-7] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=g5cn4cht}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=g5cn4cht}]
2025-01-11 17:27:53 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 17:27:53 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 17:27:53 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 17:27:53 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736634473302
2025-01-11 17:27:53 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 17:27:53 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 17:27:53 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:27:53 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:27:53 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 17:27:53 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:27:53 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:27:53 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:27:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:27:53 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:27:53 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:27:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:27:53 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736634473302
2025-01-11 17:27:53 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 17:27:53 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736634473302]
2025-01-11 17:27:53 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 17:27:53 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 17:27:53 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:27:53 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 17:27:53 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736634473302", parameters={t:[1736634473302]}
2025-01-11 17:27:53 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 17:27:53 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 17:27:53 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 17:27:53 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 17:27:53 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 17:27:53 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 17:27:53 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736634473302
2025-01-11 17:27:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 17:27:53 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:27:53 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736634473302]
2025-01-11 17:27:53 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 17:27:53 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 17:27:53 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 17:27:53 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 17:27:53 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 17:27:53 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 17:27:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 17:27:53 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 17:27:53 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 17:27:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 17:27:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 17:27:53 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/920/ebfzkwct/websocket
2025-01-11 17:27:53 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/920/ebfzkwct/websocket
2025-01-11 17:27:53 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:27:53 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/920/ebfzkwct/websocket
2025-01-11 17:27:53 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:27:53 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:27:53 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/920/ebfzkwct/websocket
2025-01-11 17:27:53 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 70ms
2025-01-11 17:27:53 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 17:27:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 17:27:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 17:27:53 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:27:53 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 17:27:53 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/920/ebfzkwct/websocket]
2025-01-11 17:27:53 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/920/ebfzkwct/websocket - Origin: http://localhost:5173
2025-01-11 17:27:53 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 126ms
2025-01-11 17:27:53 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 17:27:53 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 17:27:53 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 17:27:53 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:27:53 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 17:27:53 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/920/ebfzkwct/websocket", parameters={}
2025-01-11 17:27:53 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 17:27:53 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/920/ebfzkwct/websocket
2025-01-11 17:27:53 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:27:53 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/920/ebfzkwct/websocket]
2025-01-11 17:27:53 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=ebfzkwct]
2025-01-11 17:27:53 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:27:53 [clientInboundChannel-4] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=ebfzkwct
2025-01-11 17:28:00 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [g5cn4cht]
2025-01-11 17:28:04 [MessageBroker-4] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 4 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(4)-CONNECTED(3)-DISCONNECT(1)], stompBrokerRelay[null], inboundChannel[pool size = 8, active threads = 0, queued tasks = 0, completed tasks = 27], outboundChannel[pool size = 8, active threads = 0, queued tasks = 0, completed tasks = 8], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 2, completed tasks = 12]
2025-01-11 17:28:05 [clientInboundChannel-3] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/presence session=ebfzkwct, lookupDestination='/presence'
2025-01-11 17:28:05 [clientInboundChannel-3] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2025-01-11 17:28:05 [clientInboundChannel-1] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT receipt=close-0 session=ebfzkwct
2025-01-11 17:28:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=ebfzkwct] closed with CloseStatus[code=1000, reason=null]
2025-01-11 17:28:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session ebfzkwct
2025-01-11 17:28:05 [clientInboundChannel-4] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=ebfzkwct
2025-01-11 17:28:05 [clientOutboundChannel-2] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=ebfzkwct}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=ebfzkwct}]
2025-01-11 17:28:05 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736634485952
2025-01-11 17:28:05 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:28:05 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:28:05 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:28:05 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:28:05 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:28:05 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736634485952
2025-01-11 17:28:05 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736634485952]
2025-01-11 17:28:05 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:28:05 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736634485952", parameters={t:[1736634485952]}
2025-01-11 17:28:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 17:28:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736634485952
2025-01-11 17:28:05 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:28:05 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736634485952]
2025-01-11 17:28:05 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/900/dgqffdlr/websocket
2025-01-11 17:28:05 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/900/dgqffdlr/websocket
2025-01-11 17:28:05 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:28:06 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/900/dgqffdlr/websocket
2025-01-11 17:28:06 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:28:06 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:28:06 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/900/dgqffdlr/websocket
2025-01-11 17:28:06 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/900/dgqffdlr/websocket]
2025-01-11 17:28:06 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/900/dgqffdlr/websocket - Origin: http://localhost:5173
2025-01-11 17:28:06 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/900/dgqffdlr/websocket", parameters={}
2025-01-11 17:28:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 17:28:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/900/dgqffdlr/websocket
2025-01-11 17:28:06 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:28:06 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/900/dgqffdlr/websocket]
2025-01-11 17:28:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=dgqffdlr]
2025-01-11 17:28:06 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:28:06 [clientInboundChannel-2] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=dgqffdlr
2025-01-11 17:28:10 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=dgqffdlr] closed with CloseStatus[code=1000, reason=null]
2025-01-11 17:28:10 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session dgqffdlr
2025-01-11 17:28:11 [clientInboundChannel-1] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=dgqffdlr
2025-01-11 17:28:11 [clientOutboundChannel-4] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=dgqffdlr}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=dgqffdlr}]
2025-01-11 17:28:13 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 17:28:13 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 17:28:13 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736634493577
2025-01-11 17:28:13 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 17:28:13 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:28:13 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:28:13 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:28:13 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 17:28:13 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:28:13 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 17:28:13 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:28:13 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:28:13 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 17:28:13 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736634493577
2025-01-11 17:28:13 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:28:13 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736634493577]
2025-01-11 17:28:13 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:28:13 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:28:13 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:28:13 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736634493577", parameters={t:[1736634493577]}
2025-01-11 17:28:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 17:28:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736634493577
2025-01-11 17:28:13 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 17:28:13 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 17:28:13 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 17:28:13 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 17:28:13 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 17:28:13 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 17:28:13 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 17:28:13 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 17:28:13 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 17:28:13 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 17:28:13 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:28:13 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 17:28:13 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 17:28:13 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736634493577]
2025-01-11 17:28:13 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 17:28:13 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 17:28:13 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 17:28:13 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 17:28:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 17:28:13 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 17:28:13 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 17:28:13 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 17:28:13 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 17:28:13 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/229/iwwq0ilk/websocket
2025-01-11 17:28:13 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/229/iwwq0ilk/websocket
2025-01-11 17:28:13 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:28:13 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/229/iwwq0ilk/websocket
2025-01-11 17:28:13 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:28:13 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:28:13 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/229/iwwq0ilk/websocket
2025-01-11 17:28:13 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/229/iwwq0ilk/websocket]
2025-01-11 17:28:13 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 74ms
2025-01-11 17:28:13 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 59ms
2025-01-11 17:28:13 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 17:28:13 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/229/iwwq0ilk/websocket - Origin: http://localhost:5173
2025-01-11 17:28:13 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 17:28:13 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 17:28:13 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/229/iwwq0ilk/websocket", parameters={}
2025-01-11 17:28:13 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 17:28:13 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 17:28:13 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 17:28:13 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:28:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:28:13 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 17:28:13 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 17:28:13 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 17:28:13 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/229/iwwq0ilk/websocket
2025-01-11 17:28:13 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:28:13 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/229/iwwq0ilk/websocket]
2025-01-11 17:28:13 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=iwwq0ilk]
2025-01-11 17:28:13 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:28:14 [clientInboundChannel-6] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=iwwq0ilk
2025-01-11 17:28:14 [clientInboundChannel-8] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=iwwq0ilk
2025-01-11 17:28:15 [MessageBroker-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [ebfzkwct]
2025-01-11 17:28:20 [MessageBroker-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [dgqffdlr]
2025-01-11 17:28:50 [clientInboundChannel-1] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/presence session=iwwq0ilk, lookupDestination='/presence'
2025-01-11 17:28:50 [clientInboundChannel-1] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2025-01-11 17:28:50 [clientInboundChannel-3] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT receipt=close-1 session=iwwq0ilk
2025-01-11 17:28:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=iwwq0ilk] closed with CloseStatus[code=1000, reason=null]
2025-01-11 17:28:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session iwwq0ilk
2025-01-11 17:28:50 [clientInboundChannel-8] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=iwwq0ilk
2025-01-11 17:28:50 [clientOutboundChannel-7] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=iwwq0ilk}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=iwwq0ilk}]
2025-01-11 17:28:50 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736634530600
2025-01-11 17:28:50 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:28:50 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:28:50 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:28:50 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:28:50 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:28:50 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736634530600
2025-01-11 17:28:50 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736634530600]
2025-01-11 17:28:50 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:28:50 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736634530600", parameters={t:[1736634530600]}
2025-01-11 17:28:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 17:28:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736634530600
2025-01-11 17:28:50 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:28:50 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736634530600]
2025-01-11 17:28:50 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/555/qompxkmi/websocket
2025-01-11 17:28:50 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/555/qompxkmi/websocket
2025-01-11 17:28:50 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:28:50 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/555/qompxkmi/websocket
2025-01-11 17:28:50 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:28:50 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:28:50 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/555/qompxkmi/websocket
2025-01-11 17:28:50 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/555/qompxkmi/websocket]
2025-01-11 17:28:50 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/555/qompxkmi/websocket - Origin: http://localhost:5173
2025-01-11 17:28:50 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/555/qompxkmi/websocket", parameters={}
2025-01-11 17:28:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 17:28:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/555/qompxkmi/websocket
2025-01-11 17:28:50 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:28:50 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/555/qompxkmi/websocket]
2025-01-11 17:28:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=qompxkmi]
2025-01-11 17:28:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:28:50 [clientInboundChannel-4] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=qompxkmi
2025-01-11 17:28:51 [clientInboundChannel-2] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=qompxkmi
2025-01-11 17:29:00 [MessageBroker-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [iwwq0ilk]
2025-01-11 17:29:09 [clientInboundChannel-5] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/presence session=qompxkmi, lookupDestination='/presence'
2025-01-11 17:29:10 [clientInboundChannel-5] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2025-01-11 17:29:09 [clientInboundChannel-8] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT receipt=close-1 session=qompxkmi
2025-01-11 17:29:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=qompxkmi] closed with CloseStatus[code=1000, reason=null]
2025-01-11 17:29:10 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736634550329
2025-01-11 17:29:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session qompxkmi
2025-01-11 17:29:10 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:29:10 [clientInboundChannel-7] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=qompxkmi
2025-01-11 17:29:10 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:29:10 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:29:11 [clientOutboundChannel-11] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=qompxkmi}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=qompxkmi}]
2025-01-11 17:29:11 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:29:11 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:29:11 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736634550329
2025-01-11 17:29:11 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736634550329]
2025-01-11 17:29:11 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:29:11 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736634550329", parameters={t:[1736634550329]}
2025-01-11 17:29:11 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 17:29:11 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736634550329
2025-01-11 17:29:11 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:29:11 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736634550329]
2025-01-11 17:29:11 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/439/to2201nb/websocket
2025-01-11 17:29:11 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/439/to2201nb/websocket
2025-01-11 17:29:11 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:29:11 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/439/to2201nb/websocket
2025-01-11 17:29:11 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:29:11 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:29:11 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/439/to2201nb/websocket
2025-01-11 17:29:11 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/439/to2201nb/websocket]
2025-01-11 17:29:11 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/439/to2201nb/websocket - Origin: http://localhost:5173
2025-01-11 17:29:11 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/439/to2201nb/websocket", parameters={}
2025-01-11 17:29:11 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 17:29:11 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/439/to2201nb/websocket
2025-01-11 17:29:11 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:29:11 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/439/to2201nb/websocket]
2025-01-11 17:29:11 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=to2201nb]
2025-01-11 17:29:11 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:29:11 [clientInboundChannel-6] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=to2201nb
2025-01-11 17:29:11 [clientInboundChannel-3] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=to2201nb
2025-01-11 17:29:20 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [qompxkmi]
2025-01-11 17:33:47 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 17:33:47 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 17:33:47 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 17:33:47 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:33:47 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:33:47 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 17:33:47 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 17:33:47 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 17:33:47 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 17:33:47 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 17:33:47 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 17:33:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 17:33:47 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 17:33:47 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 17:33:47 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 17:33:47 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 17:33:47 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 19ms
2025-01-11 17:33:47 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 17:33:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 17:33:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 17:33:47 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:33:47 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 17:39:04 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 17:39:04 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 17:39:04 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 17:39:04 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:39:04 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:39:04 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 17:39:04 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 17:39:04 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 17:39:04 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 17:39:04 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 17:39:04 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 17:39:04 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 17:39:04 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 17:39:04 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 17:39:04 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 17:39:04 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 17:39:05 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 81ms
2025-01-11 17:39:05 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 17:39:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 17:39:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 17:39:05 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:39:05 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 17:40:29 [clientInboundChannel-9] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/presence session=to2201nb, lookupDestination='/presence'
2025-01-11 17:40:29 [clientInboundChannel-9] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2025-01-11 17:40:29 [clientInboundChannel-13] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT receipt=close-1 session=to2201nb
2025-01-11 17:40:29 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=to2201nb] closed with CloseStatus[code=1000, reason=null]
2025-01-11 17:40:29 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session to2201nb
2025-01-11 17:40:29 [clientInboundChannel-16] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=to2201nb
2025-01-11 17:40:29 [clientOutboundChannel-14] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=to2201nb}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=to2201nb}]
2025-01-11 17:40:29 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736635229449
2025-01-11 17:40:29 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:40:29 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:40:29 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:40:29 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:40:29 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:40:29 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736635229449
2025-01-11 17:40:29 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736635229449]
2025-01-11 17:40:29 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:40:29 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736635229449", parameters={t:[1736635229449]}
2025-01-11 17:40:29 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 17:40:29 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736635229449
2025-01-11 17:40:29 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:40:29 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736635229449]
2025-01-11 17:40:29 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/838/sq2bn45a/websocket
2025-01-11 17:40:29 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/838/sq2bn45a/websocket
2025-01-11 17:40:29 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:40:29 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/838/sq2bn45a/websocket
2025-01-11 17:40:29 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:40:29 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:40:29 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/838/sq2bn45a/websocket
2025-01-11 17:40:29 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/838/sq2bn45a/websocket]
2025-01-11 17:40:29 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/838/sq2bn45a/websocket - Origin: http://localhost:5173
2025-01-11 17:40:29 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/838/sq2bn45a/websocket", parameters={}
2025-01-11 17:40:29 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 17:40:29 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/838/sq2bn45a/websocket
2025-01-11 17:40:29 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:40:29 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/838/sq2bn45a/websocket]
2025-01-11 17:40:29 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=sq2bn45a]
2025-01-11 17:40:29 [http-nio-8080-exec-9] ERROR c.g.a.c.security.ClerkTokenValidator - Token verification failed
com.auth0.jwt.exceptions.TokenExpiredException: The Token has expired on 2025-01-11T22:29:12Z.
	at com.auth0.jwt.JWTVerifier$BaseVerification.assertValidInstantClaim(JWTVerifier.java:346)
	at com.auth0.jwt.JWTVerifier$BaseVerification.lambda$addMandatoryClaimChecks$17(JWTVerifier.java:308)
	at com.auth0.jwt.JWTVerifier$BaseVerification$1.verify(JWTVerifier.java:405)
	at com.auth0.jwt.JWTVerifier.verifyClaims(JWTVerifier.java:482)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:464)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:58)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkChannelInterceptor.preSend(ClerkChannelInterceptor.java:36)
	at org.springframework.messaging.support.AbstractMessageChannel$ChannelInterceptorChain.applyPreSend(AbstractMessageChannel.java:181)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:135)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:125)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageFromClient(StompSubProtocolHandler.java:343)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:336)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.delegateMessages(AbstractSockJsSession.java:346)
	at org.springframework.web.socket.sockjs.transport.session.WebSocketServerSockJsSession.handleMessage(WebSocketServerSockJsSession.java:195)
	at org.springframework.web.socket.sockjs.transport.handler.SockJsWebSocketHandler.handleTextMessage(SockJsWebSocketHandler.java:93)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-01-11 17:40:29 [http-nio-8080-exec-9] ERROR c.g.a.c.s.ClerkChannelInterceptor - WebSocket authentication failed
com.auth0.jwt.exceptions.JWTVerificationException: Invalid token
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:65)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkChannelInterceptor.preSend(ClerkChannelInterceptor.java:36)
	at org.springframework.messaging.support.AbstractMessageChannel$ChannelInterceptorChain.applyPreSend(AbstractMessageChannel.java:181)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:135)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:125)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageFromClient(StompSubProtocolHandler.java:343)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:336)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.delegateMessages(AbstractSockJsSession.java:346)
	at org.springframework.web.socket.sockjs.transport.session.WebSocketServerSockJsSession.handleMessage(WebSocketServerSockJsSession.java:195)
	at org.springframework.web.socket.sockjs.transport.handler.SockJsWebSocketHandler.handleTextMessage(SockJsWebSocketHandler.java:93)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: com.auth0.jwt.exceptions.TokenExpiredException: The Token has expired on 2025-01-11T22:29:12Z.
	at com.auth0.jwt.JWTVerifier$BaseVerification.assertValidInstantClaim(JWTVerifier.java:346)
	at com.auth0.jwt.JWTVerifier$BaseVerification.lambda$addMandatoryClaimChecks$17(JWTVerifier.java:308)
	at com.auth0.jwt.JWTVerifier$BaseVerification$1.verify(JWTVerifier.java:405)
	at com.auth0.jwt.JWTVerifier.verifyClaims(JWTVerifier.java:482)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:464)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:58)
	... 34 common frames omitted
2025-01-11 17:40:29 [http-nio-8080-exec-9] DEBUG org.springframework.web.SimpLogging - ClerkChannelInterceptor returned null from preSend, i.e. precluding the send.
2025-01-11 17:40:35 [MessageBroker-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [to2201nb]
2025-01-11 17:41:21 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=sq2bn45a] closed with CloseStatus[code=1000, reason=null]
2025-01-11 17:41:21 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session sq2bn45a
2025-01-11 17:41:21 [clientInboundChannel-9] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=sq2bn45a
2025-01-11 17:41:21 [clientOutboundChannel-15] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=sq2bn45a}], simpSessionId=sq2bn45a}]
2025-01-11 17:41:21 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736635281911
2025-01-11 17:41:21 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:41:21 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:41:21 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:41:21 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:41:21 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:41:21 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736635281911
2025-01-11 17:41:21 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736635281911]
2025-01-11 17:41:21 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:41:21 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736635281911", parameters={t:[1736635281911]}
2025-01-11 17:41:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 17:41:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736635281911
2025-01-11 17:41:21 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:41:21 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736635281911]
2025-01-11 17:41:21 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/676/2e5ow2ri/websocket
2025-01-11 17:41:21 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/676/2e5ow2ri/websocket
2025-01-11 17:41:21 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:41:21 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/676/2e5ow2ri/websocket
2025-01-11 17:41:21 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:41:21 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:41:21 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/676/2e5ow2ri/websocket
2025-01-11 17:41:21 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/676/2e5ow2ri/websocket]
2025-01-11 17:41:21 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/676/2e5ow2ri/websocket - Origin: http://localhost:5173
2025-01-11 17:41:21 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/676/2e5ow2ri/websocket", parameters={}
2025-01-11 17:41:21 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 17:41:21 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/676/2e5ow2ri/websocket
2025-01-11 17:41:21 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:41:21 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/676/2e5ow2ri/websocket]
2025-01-11 17:41:21 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=2e5ow2ri]
2025-01-11 17:41:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:41:22 [clientInboundChannel-12] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=2e5ow2ri
2025-01-11 17:41:22 [clientInboundChannel-16] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=2e5ow2ri
2025-01-11 17:41:30 [MessageBroker-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [sq2bn45a]
2025-01-11 17:44:16 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 17:44:16 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 17:44:16 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 17:44:16 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:44:16 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:44:16 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 17:44:16 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 17:44:16 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 17:44:16 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 17:44:16 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 17:44:16 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 17:44:16 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 17:44:16 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 17:44:16 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 17:44:16 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 17:44:16 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 17:44:16 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 18ms
2025-01-11 17:44:16 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 17:44:16 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 17:44:16 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 17:44:16 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:44:16 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 17:51:01 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 17:51:01 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 17:51:01 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 17:51:01 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:51:01 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:51:01 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 17:51:01 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 17:51:01 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 17:51:01 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 17:51:01 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 17:51:01 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 17:51:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 17:51:01 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 17:51:01 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 17:51:01 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 17:51:01 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 17:51:01 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 34ms
2025-01-11 17:51:01 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 17:51:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 17:51:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 17:51:01 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:51:01 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 17:53:59 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=2e5ow2ri] closed with CloseStatus[code=1000, reason=null]
2025-01-11 17:53:59 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session 2e5ow2ri
2025-01-11 17:53:59 [clientInboundChannel-18] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=2e5ow2ri
2025-01-11 17:53:59 [clientOutboundChannel-17] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=2e5ow2ri}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=2e5ow2ri}]
2025-01-11 17:54:00 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 17:54:00 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users
2025-01-11 17:54:00 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736636040563
2025-01-11 17:54:00 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 17:54:00 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 17:54:00 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:54:00 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:54:00 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:54:00 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 17:54:00 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:54:00 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:54:00 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736636040563
2025-01-11 17:54:00 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736636040563]
2025-01-11 17:54:00 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 17:54:00 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:54:00 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 17:54:00 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736636040563", parameters={t:[1736636040563]}
2025-01-11 17:54:00 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:54:00 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 17:54:00 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 17:54:00 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736636040563
2025-01-11 17:54:00 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:54:00 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:54:00 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:54:00 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736636040563]
2025-01-11 17:54:00 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 17:54:00 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 17:54:00 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 17:54:00 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 17:54:00 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 17:54:00 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 17:54:00 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 17:54:00 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 17:54:00 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 17:54:00 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 17:54:00 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 17:54:00 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 17:54:00 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 17:54:00 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 17:54:00 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 17:54:00 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 17:54:00 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 17:54:00 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 17:54:00 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 17:54:00 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 17:54:00 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/986/uuljeszl/websocket
2025-01-11 17:54:00 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/986/uuljeszl/websocket
2025-01-11 17:54:00 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:54:00 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/986/uuljeszl/websocket
2025-01-11 17:54:00 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 17:54:00 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:54:00 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 17ms
2025-01-11 17:54:00 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 17:54:00 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 17:54:00 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 17:54:00 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:54:00 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 17:54:00 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:54:00 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/986/uuljeszl/websocket
2025-01-11 17:54:00 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/986/uuljeszl/websocket]
2025-01-11 17:54:00 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/986/uuljeszl/websocket - Origin: http://localhost:5173
2025-01-11 17:54:00 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 32ms
2025-01-11 17:54:00 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 17:54:00 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/986/uuljeszl/websocket", parameters={}
2025-01-11 17:54:00 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 17:54:00 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 17:54:00 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:54:00 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 17:54:00 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 17:54:00 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/986/uuljeszl/websocket
2025-01-11 17:54:00 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:54:00 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/986/uuljeszl/websocket]
2025-01-11 17:54:00 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=uuljeszl]
2025-01-11 17:54:00 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 17:54:00 [clientInboundChannel-21] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=uuljeszl
2025-01-11 17:54:00 [clientInboundChannel-24] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=uuljeszl
2025-01-11 17:54:05 [MessageBroker-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [2e5ow2ri]
2025-01-11 17:57:08 [clientInboundChannel-29] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT receipt=close-1 session=uuljeszl
2025-01-11 17:57:08 [clientInboundChannel-25] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/presence session=uuljeszl, lookupDestination='/presence'
2025-01-11 17:57:08 [clientInboundChannel-25] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2025-01-11 17:57:08 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=uuljeszl] closed with CloseStatus[code=1000, reason=null]
2025-01-11 17:57:08 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session uuljeszl
2025-01-11 17:57:08 [clientInboundChannel-32] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=uuljeszl
2025-01-11 17:57:08 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736636228890
2025-01-11 17:57:08 [clientOutboundChannel-20] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=uuljeszl}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=uuljeszl}]
2025-01-11 17:57:08 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 17:57:08 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:57:08 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 17:57:08 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:57:08 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:57:08 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736636228890
2025-01-11 17:57:08 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736636228890]
2025-01-11 17:57:08 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 17:57:08 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736636228890", parameters={t:[1736636228890]}
2025-01-11 17:57:08 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 17:57:08 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736636228890
2025-01-11 17:57:08 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 17:57:08 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736636228890]
2025-01-11 17:57:08 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/019/xyy25pn3/websocket
2025-01-11 17:57:08 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/019/xyy25pn3/websocket
2025-01-11 17:57:08 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 17:57:08 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/019/xyy25pn3/websocket
2025-01-11 17:57:08 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 17:57:08 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 17:57:08 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/019/xyy25pn3/websocket
2025-01-11 17:57:08 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/019/xyy25pn3/websocket]
2025-01-11 17:57:08 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/019/xyy25pn3/websocket - Origin: http://localhost:5173
2025-01-11 17:57:08 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/019/xyy25pn3/websocket", parameters={}
2025-01-11 17:57:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 17:57:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/019/xyy25pn3/websocket
2025-01-11 17:57:08 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 17:57:08 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/019/xyy25pn3/websocket]
2025-01-11 17:57:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=xyy25pn3]
2025-01-11 17:57:08 [http-nio-8080-exec-6] ERROR c.g.a.c.security.ClerkTokenValidator - Token verification failed
com.auth0.jwt.exceptions.TokenExpiredException: The Token has expired on 2025-01-11T22:54:59Z.
	at com.auth0.jwt.JWTVerifier$BaseVerification.assertValidInstantClaim(JWTVerifier.java:346)
	at com.auth0.jwt.JWTVerifier$BaseVerification.lambda$addMandatoryClaimChecks$17(JWTVerifier.java:308)
	at com.auth0.jwt.JWTVerifier$BaseVerification$1.verify(JWTVerifier.java:405)
	at com.auth0.jwt.JWTVerifier.verifyClaims(JWTVerifier.java:482)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:464)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:58)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkChannelInterceptor.preSend(ClerkChannelInterceptor.java:36)
	at org.springframework.messaging.support.AbstractMessageChannel$ChannelInterceptorChain.applyPreSend(AbstractMessageChannel.java:181)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:135)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:125)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageFromClient(StompSubProtocolHandler.java:343)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:336)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.delegateMessages(AbstractSockJsSession.java:346)
	at org.springframework.web.socket.sockjs.transport.session.WebSocketServerSockJsSession.handleMessage(WebSocketServerSockJsSession.java:195)
	at org.springframework.web.socket.sockjs.transport.handler.SockJsWebSocketHandler.handleTextMessage(SockJsWebSocketHandler.java:93)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-01-11 17:57:08 [http-nio-8080-exec-6] ERROR c.g.a.c.s.ClerkChannelInterceptor - WebSocket authentication failed
com.auth0.jwt.exceptions.JWTVerificationException: Invalid token
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:65)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkChannelInterceptor.preSend(ClerkChannelInterceptor.java:36)
	at org.springframework.messaging.support.AbstractMessageChannel$ChannelInterceptorChain.applyPreSend(AbstractMessageChannel.java:181)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:135)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:125)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageFromClient(StompSubProtocolHandler.java:343)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:336)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.delegateMessages(AbstractSockJsSession.java:346)
	at org.springframework.web.socket.sockjs.transport.session.WebSocketServerSockJsSession.handleMessage(WebSocketServerSockJsSession.java:195)
	at org.springframework.web.socket.sockjs.transport.handler.SockJsWebSocketHandler.handleTextMessage(SockJsWebSocketHandler.java:93)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: com.auth0.jwt.exceptions.TokenExpiredException: The Token has expired on 2025-01-11T22:54:59Z.
	at com.auth0.jwt.JWTVerifier$BaseVerification.assertValidInstantClaim(JWTVerifier.java:346)
	at com.auth0.jwt.JWTVerifier$BaseVerification.lambda$addMandatoryClaimChecks$17(JWTVerifier.java:308)
	at com.auth0.jwt.JWTVerifier$BaseVerification$1.verify(JWTVerifier.java:405)
	at com.auth0.jwt.JWTVerifier.verifyClaims(JWTVerifier.java:482)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:464)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:58)
	... 34 common frames omitted
2025-01-11 17:57:08 [http-nio-8080-exec-6] DEBUG org.springframework.web.SimpLogging - ClerkChannelInterceptor returned null from preSend, i.e. precluding the send.
2025-01-11 17:57:15 [MessageBroker-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [uuljeszl]
2025-01-11 17:58:04 [MessageBroker-4] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 12 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(12)-CONNECTED(9)-DISCONNECT(6)], stompBrokerRelay[null], inboundChannel[pool size = 8, active threads = 0, queued tasks = 0, completed tasks = 114], outboundChannel[pool size = 2, active threads = 0, queued tasks = 0, completed tasks = 27], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 2, completed tasks = 443]
2025-01-11 18:01:27 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 18:01:27 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 18:01:27 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:01:27 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:01:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:01:27 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:01:27 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 18:01:27 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 18:01:27 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 18:01:27 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 18:01:27 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 18:01:27 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 18:01:27 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 18:01:27 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:01:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 18:01:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 18:01:27 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 21ms
2025-01-11 18:01:27 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 18:01:27 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:01:27 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 18:01:27 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:01:27 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 18:04:02 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=xyy25pn3] closed with CloseStatus[code=1000, reason=null]
2025-01-11 18:04:02 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session xyy25pn3
2025-01-11 18:04:02 [clientInboundChannel-34] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=xyy25pn3
2025-01-11 18:04:02 [clientOutboundChannel-21] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=xyy25pn3}], simpSessionId=xyy25pn3}]
2025-01-11 18:04:02 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736636642952
2025-01-11 18:04:02 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 18:04:02 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:04:02 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 18:04:02 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:04:02 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:04:02 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736636642952
2025-01-11 18:04:02 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736636642952]
2025-01-11 18:04:02 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 18:04:02 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736636642952", parameters={t:[1736636642952]}
2025-01-11 18:04:02 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:04:02 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736636642952
2025-01-11 18:04:02 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:04:02 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736636642952]
2025-01-11 18:04:02 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/648/lpdqtofg/websocket
2025-01-11 18:04:02 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/648/lpdqtofg/websocket
2025-01-11 18:04:02 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:04:02 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/648/lpdqtofg/websocket
2025-01-11 18:04:02 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:04:02 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:04:02 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/648/lpdqtofg/websocket
2025-01-11 18:04:02 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/648/lpdqtofg/websocket]
2025-01-11 18:04:02 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/648/lpdqtofg/websocket - Origin: http://localhost:5173
2025-01-11 18:04:02 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/648/lpdqtofg/websocket", parameters={}
2025-01-11 18:04:02 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:04:02 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/648/lpdqtofg/websocket
2025-01-11 18:04:02 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 18:04:02 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/648/lpdqtofg/websocket]
2025-01-11 18:04:02 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=lpdqtofg]
2025-01-11 18:04:02 [http-nio-8080-exec-5] ERROR c.g.a.c.security.ClerkTokenValidator - Token verification failed
com.auth0.jwt.exceptions.TokenExpiredException: The Token has expired on 2025-01-11T22:54:59Z.
	at com.auth0.jwt.JWTVerifier$BaseVerification.assertValidInstantClaim(JWTVerifier.java:346)
	at com.auth0.jwt.JWTVerifier$BaseVerification.lambda$addMandatoryClaimChecks$17(JWTVerifier.java:308)
	at com.auth0.jwt.JWTVerifier$BaseVerification$1.verify(JWTVerifier.java:405)
	at com.auth0.jwt.JWTVerifier.verifyClaims(JWTVerifier.java:482)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:464)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:58)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkChannelInterceptor.preSend(ClerkChannelInterceptor.java:36)
	at org.springframework.messaging.support.AbstractMessageChannel$ChannelInterceptorChain.applyPreSend(AbstractMessageChannel.java:181)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:135)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:125)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageFromClient(StompSubProtocolHandler.java:343)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:336)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.delegateMessages(AbstractSockJsSession.java:346)
	at org.springframework.web.socket.sockjs.transport.session.WebSocketServerSockJsSession.handleMessage(WebSocketServerSockJsSession.java:195)
	at org.springframework.web.socket.sockjs.transport.handler.SockJsWebSocketHandler.handleTextMessage(SockJsWebSocketHandler.java:93)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-01-11 18:04:02 [http-nio-8080-exec-5] ERROR c.g.a.c.s.ClerkChannelInterceptor - WebSocket authentication failed
com.auth0.jwt.exceptions.JWTVerificationException: Invalid token
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:65)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkChannelInterceptor.preSend(ClerkChannelInterceptor.java:36)
	at org.springframework.messaging.support.AbstractMessageChannel$ChannelInterceptorChain.applyPreSend(AbstractMessageChannel.java:181)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:135)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:125)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageFromClient(StompSubProtocolHandler.java:343)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:336)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.delegateMessages(AbstractSockJsSession.java:346)
	at org.springframework.web.socket.sockjs.transport.session.WebSocketServerSockJsSession.handleMessage(WebSocketServerSockJsSession.java:195)
	at org.springframework.web.socket.sockjs.transport.handler.SockJsWebSocketHandler.handleTextMessage(SockJsWebSocketHandler.java:93)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: com.auth0.jwt.exceptions.TokenExpiredException: The Token has expired on 2025-01-11T22:54:59Z.
	at com.auth0.jwt.JWTVerifier$BaseVerification.assertValidInstantClaim(JWTVerifier.java:346)
	at com.auth0.jwt.JWTVerifier$BaseVerification.lambda$addMandatoryClaimChecks$17(JWTVerifier.java:308)
	at com.auth0.jwt.JWTVerifier$BaseVerification$1.verify(JWTVerifier.java:405)
	at com.auth0.jwt.JWTVerifier.verifyClaims(JWTVerifier.java:482)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:464)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:58)
	... 34 common frames omitted
2025-01-11 18:04:03 [http-nio-8080-exec-5] DEBUG org.springframework.web.SimpLogging - ClerkChannelInterceptor returned null from preSend, i.e. precluding the send.
2025-01-11 18:04:10 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [xyy25pn3]
2025-01-11 18:06:56 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 18:06:56 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 18:06:56 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:06:56 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:06:57 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:06:57 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:06:57 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 18:06:57 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 18:06:57 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 18:06:57 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 18:06:57 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 18:06:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 18:06:57 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 18:06:57 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:06:57 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 18:06:57 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 18:06:57 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 369ms
2025-01-11 18:06:57 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 18:06:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:06:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 18:06:57 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:06:57 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 18:07:28 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=lpdqtofg] closed with CloseStatus[code=1000, reason=null]
2025-01-11 18:07:28 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session lpdqtofg
2025-01-11 18:07:28 [clientInboundChannel-37] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=lpdqtofg
2025-01-11 18:07:28 [clientOutboundChannel-22] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=lpdqtofg}], simpSessionId=lpdqtofg}]
2025-01-11 18:07:28 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736636848944
2025-01-11 18:07:28 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 18:07:28 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:07:28 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 18:07:28 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:07:28 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:07:28 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736636848944
2025-01-11 18:07:28 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736636848944]
2025-01-11 18:07:28 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 18:07:28 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736636848944", parameters={t:[1736636848944]}
2025-01-11 18:07:28 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:07:28 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736636848944
2025-01-11 18:07:28 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:07:28 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736636848944]
2025-01-11 18:07:28 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/395/zobyukmw/websocket
2025-01-11 18:07:28 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/395/zobyukmw/websocket
2025-01-11 18:07:28 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:07:28 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/395/zobyukmw/websocket
2025-01-11 18:07:28 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:07:28 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:07:28 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/395/zobyukmw/websocket
2025-01-11 18:07:28 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/395/zobyukmw/websocket]
2025-01-11 18:07:28 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/395/zobyukmw/websocket - Origin: http://localhost:5173
2025-01-11 18:07:28 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/395/zobyukmw/websocket", parameters={}
2025-01-11 18:07:28 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:07:28 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/395/zobyukmw/websocket
2025-01-11 18:07:28 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 18:07:28 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/395/zobyukmw/websocket]
2025-01-11 18:07:28 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=zobyukmw]
2025-01-11 18:07:29 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:07:29 [clientInboundChannel-40] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=zobyukmw
2025-01-11 18:07:29 [clientInboundChannel-43] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=zobyukmw
2025-01-11 18:07:35 [MessageBroker-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [lpdqtofg]
2025-01-11 18:08:28 [clientInboundChannel-36] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/presence session=zobyukmw, lookupDestination='/presence'
2025-01-11 18:08:28 [clientInboundChannel-36] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2025-01-11 18:08:28 [clientInboundChannel-41] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT receipt=close-1 session=zobyukmw
2025-01-11 18:08:28 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=zobyukmw] closed with CloseStatus[code=1000, reason=null]
2025-01-11 18:08:28 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session zobyukmw
2025-01-11 18:08:28 [clientInboundChannel-43] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=zobyukmw
2025-01-11 18:08:28 [clientOutboundChannel-25] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=zobyukmw}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=zobyukmw}]
2025-01-11 18:08:28 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736636908936
2025-01-11 18:08:28 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 18:08:28 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:08:28 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 18:08:28 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:08:28 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:08:28 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736636908936
2025-01-11 18:08:28 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736636908936]
2025-01-11 18:08:28 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 18:08:28 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736636908936", parameters={t:[1736636908936]}
2025-01-11 18:08:28 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:08:28 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736636908936
2025-01-11 18:08:28 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:08:28 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736636908936]
2025-01-11 18:08:28 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/473/hdaoi4p1/websocket
2025-01-11 18:08:28 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/473/hdaoi4p1/websocket
2025-01-11 18:08:28 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:08:28 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/473/hdaoi4p1/websocket
2025-01-11 18:08:28 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:08:28 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:08:28 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/473/hdaoi4p1/websocket
2025-01-11 18:08:28 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/473/hdaoi4p1/websocket]
2025-01-11 18:08:28 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/473/hdaoi4p1/websocket - Origin: http://localhost:5173
2025-01-11 18:08:28 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/473/hdaoi4p1/websocket", parameters={}
2025-01-11 18:08:28 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:08:28 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/473/hdaoi4p1/websocket
2025-01-11 18:08:28 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 18:08:28 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/473/hdaoi4p1/websocket]
2025-01-11 18:08:28 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=hdaoi4p1]
2025-01-11 18:08:28 [http-nio-8080-exec-8] ERROR c.g.a.c.security.ClerkTokenValidator - Token verification failed
com.auth0.jwt.exceptions.TokenExpiredException: The Token has expired on 2025-01-11T23:08:04Z.
	at com.auth0.jwt.JWTVerifier$BaseVerification.assertValidInstantClaim(JWTVerifier.java:346)
	at com.auth0.jwt.JWTVerifier$BaseVerification.lambda$addMandatoryClaimChecks$17(JWTVerifier.java:308)
	at com.auth0.jwt.JWTVerifier$BaseVerification$1.verify(JWTVerifier.java:405)
	at com.auth0.jwt.JWTVerifier.verifyClaims(JWTVerifier.java:482)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:464)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:58)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkChannelInterceptor.preSend(ClerkChannelInterceptor.java:36)
	at org.springframework.messaging.support.AbstractMessageChannel$ChannelInterceptorChain.applyPreSend(AbstractMessageChannel.java:181)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:135)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:125)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageFromClient(StompSubProtocolHandler.java:343)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:336)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.delegateMessages(AbstractSockJsSession.java:346)
	at org.springframework.web.socket.sockjs.transport.session.WebSocketServerSockJsSession.handleMessage(WebSocketServerSockJsSession.java:195)
	at org.springframework.web.socket.sockjs.transport.handler.SockJsWebSocketHandler.handleTextMessage(SockJsWebSocketHandler.java:93)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-01-11 18:08:28 [http-nio-8080-exec-8] ERROR c.g.a.c.s.ClerkChannelInterceptor - WebSocket authentication failed
com.auth0.jwt.exceptions.JWTVerificationException: Invalid token
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:65)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkChannelInterceptor.preSend(ClerkChannelInterceptor.java:36)
	at org.springframework.messaging.support.AbstractMessageChannel$ChannelInterceptorChain.applyPreSend(AbstractMessageChannel.java:181)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:135)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:125)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageFromClient(StompSubProtocolHandler.java:343)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:336)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.delegateMessages(AbstractSockJsSession.java:346)
	at org.springframework.web.socket.sockjs.transport.session.WebSocketServerSockJsSession.handleMessage(WebSocketServerSockJsSession.java:195)
	at org.springframework.web.socket.sockjs.transport.handler.SockJsWebSocketHandler.handleTextMessage(SockJsWebSocketHandler.java:93)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: com.auth0.jwt.exceptions.TokenExpiredException: The Token has expired on 2025-01-11T23:08:04Z.
	at com.auth0.jwt.JWTVerifier$BaseVerification.assertValidInstantClaim(JWTVerifier.java:346)
	at com.auth0.jwt.JWTVerifier$BaseVerification.lambda$addMandatoryClaimChecks$17(JWTVerifier.java:308)
	at com.auth0.jwt.JWTVerifier$BaseVerification$1.verify(JWTVerifier.java:405)
	at com.auth0.jwt.JWTVerifier.verifyClaims(JWTVerifier.java:482)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:464)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:58)
	... 34 common frames omitted
2025-01-11 18:08:28 [http-nio-8080-exec-8] DEBUG org.springframework.web.SimpLogging - ClerkChannelInterceptor returned null from preSend, i.e. precluding the send.
2025-01-11 18:08:35 [MessageBroker-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [zobyukmw]
2025-01-11 18:12:03 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 18:12:03 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 18:12:03 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:12:04 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:12:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:12:04 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:12:04 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 18:12:04 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 18:12:04 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 18:12:04 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 18:12:04 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 18:12:04 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 18:12:04 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 18:12:04 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:12:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 18:12:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 18:12:04 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 279ms
2025-01-11 18:12:04 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 18:12:04 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:12:04 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 18:12:04 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:12:04 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 18:17:46 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/channels/public
2025-01-11 18:17:46 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 18:17:46 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 18:17:47 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:17:47 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:17:47 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:17:47 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:17:47 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 18:17:47 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 18:17:47 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 18:17:47 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 18:17:47 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 18:17:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 18:17:47 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 18:17:47 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:17:47 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 18:17:47 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 18:17:47 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 133ms
2025-01-11 18:17:47 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 18:17:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:17:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 18:17:47 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:17:47 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 18:22:51 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 18:22:51 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 18:22:51 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:22:51 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:22:51 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:22:52 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:22:52 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 18:22:52 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 18:22:52 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 18:22:52 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 18:22:52 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 18:22:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 18:22:52 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 18:22:52 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:22:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 18:22:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 18:22:52 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 20ms
2025-01-11 18:22:52 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 18:22:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:22:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 18:22:52 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:22:52 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 18:23:55 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=hdaoi4p1] closed with CloseStatus[code=1000, reason=null]
2025-01-11 18:23:56 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session hdaoi4p1
2025-01-11 18:23:56 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736637835922
2025-01-11 18:23:56 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 18:23:56 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:23:56 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 18:23:56 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:23:56 [clientInboundChannel-45] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=hdaoi4p1
2025-01-11 18:23:56 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:23:56 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736637835922
2025-01-11 18:23:56 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736637835922]
2025-01-11 18:23:56 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 18:23:56 [clientOutboundChannel-26] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=hdaoi4p1}], simpSessionId=hdaoi4p1}]
2025-01-11 18:23:56 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736637835922", parameters={t:[1736637835922]}
2025-01-11 18:23:56 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:23:56 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736637835922
2025-01-11 18:23:56 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:23:56 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736637835922]
2025-01-11 18:23:56 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/062/40ltmhcc/websocket
2025-01-11 18:23:56 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/062/40ltmhcc/websocket
2025-01-11 18:23:56 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:23:56 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/062/40ltmhcc/websocket
2025-01-11 18:23:56 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:23:56 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:23:56 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/062/40ltmhcc/websocket
2025-01-11 18:23:56 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/062/40ltmhcc/websocket]
2025-01-11 18:23:56 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/062/40ltmhcc/websocket - Origin: http://localhost:5173
2025-01-11 18:23:56 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/062/40ltmhcc/websocket", parameters={}
2025-01-11 18:23:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:23:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/062/40ltmhcc/websocket
2025-01-11 18:23:56 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 18:23:56 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/062/40ltmhcc/websocket]
2025-01-11 18:23:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=40ltmhcc]
2025-01-11 18:23:56 [http-nio-8080-exec-3] ERROR c.g.a.c.security.ClerkTokenValidator - Token verification failed
com.auth0.jwt.exceptions.TokenExpiredException: The Token has expired on 2025-01-11T23:08:04Z.
	at com.auth0.jwt.JWTVerifier$BaseVerification.assertValidInstantClaim(JWTVerifier.java:346)
	at com.auth0.jwt.JWTVerifier$BaseVerification.lambda$addMandatoryClaimChecks$17(JWTVerifier.java:308)
	at com.auth0.jwt.JWTVerifier$BaseVerification$1.verify(JWTVerifier.java:405)
	at com.auth0.jwt.JWTVerifier.verifyClaims(JWTVerifier.java:482)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:464)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:58)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkChannelInterceptor.preSend(ClerkChannelInterceptor.java:36)
	at org.springframework.messaging.support.AbstractMessageChannel$ChannelInterceptorChain.applyPreSend(AbstractMessageChannel.java:181)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:135)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:125)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageFromClient(StompSubProtocolHandler.java:343)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:336)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.delegateMessages(AbstractSockJsSession.java:346)
	at org.springframework.web.socket.sockjs.transport.session.WebSocketServerSockJsSession.handleMessage(WebSocketServerSockJsSession.java:195)
	at org.springframework.web.socket.sockjs.transport.handler.SockJsWebSocketHandler.handleTextMessage(SockJsWebSocketHandler.java:93)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-01-11 18:23:56 [http-nio-8080-exec-3] ERROR c.g.a.c.s.ClerkChannelInterceptor - WebSocket authentication failed
com.auth0.jwt.exceptions.JWTVerificationException: Invalid token
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:65)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkChannelInterceptor.preSend(ClerkChannelInterceptor.java:36)
	at org.springframework.messaging.support.AbstractMessageChannel$ChannelInterceptorChain.applyPreSend(AbstractMessageChannel.java:181)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:135)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:125)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageFromClient(StompSubProtocolHandler.java:343)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:336)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.delegateMessages(AbstractSockJsSession.java:346)
	at org.springframework.web.socket.sockjs.transport.session.WebSocketServerSockJsSession.handleMessage(WebSocketServerSockJsSession.java:195)
	at org.springframework.web.socket.sockjs.transport.handler.SockJsWebSocketHandler.handleTextMessage(SockJsWebSocketHandler.java:93)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: com.auth0.jwt.exceptions.TokenExpiredException: The Token has expired on 2025-01-11T23:08:04Z.
	at com.auth0.jwt.JWTVerifier$BaseVerification.assertValidInstantClaim(JWTVerifier.java:346)
	at com.auth0.jwt.JWTVerifier$BaseVerification.lambda$addMandatoryClaimChecks$17(JWTVerifier.java:308)
	at com.auth0.jwt.JWTVerifier$BaseVerification$1.verify(JWTVerifier.java:405)
	at com.auth0.jwt.JWTVerifier.verifyClaims(JWTVerifier.java:482)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:464)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:58)
	... 34 common frames omitted
2025-01-11 18:23:56 [http-nio-8080-exec-3] DEBUG org.springframework.web.SimpLogging - ClerkChannelInterceptor returned null from preSend, i.e. precluding the send.
2025-01-11 18:23:57 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 18:23:57 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 18:23:57 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:23:57 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:23:57 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:23:57 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:23:57 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 18:23:57 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 18:23:57 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 18:23:57 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 18:23:57 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 18:23:57 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 18:23:57 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 18:23:57 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:23:57 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 18:23:57 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 15ms
2025-01-11 18:23:57 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 18:23:57 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:23:57 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 18:23:57 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:23:57 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 18:24:05 [MessageBroker-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [hdaoi4p1]
2025-01-11 18:28:04 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 16 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(16)-CONNECTED(10)-DISCONNECT(7)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 138], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 33], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 2, completed tasks = 874]
2025-01-11 18:32:37 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=40ltmhcc] closed with CloseStatus[code=1000, reason=null]
2025-01-11 18:32:37 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session 40ltmhcc
2025-01-11 18:32:37 [clientInboundChannel-48] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=40ltmhcc
2025-01-11 18:32:37 [clientOutboundChannel-27] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=40ltmhcc}], simpSessionId=40ltmhcc}]
2025-01-11 18:32:37 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736638357915
2025-01-11 18:32:37 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 18:32:37 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:32:37 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 18:32:37 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:32:37 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:32:37 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736638357915
2025-01-11 18:32:37 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736638357915]
2025-01-11 18:32:37 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 18:32:37 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736638357915", parameters={t:[1736638357915]}
2025-01-11 18:32:37 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:32:37 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736638357915
2025-01-11 18:32:37 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:32:37 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736638357915]
2025-01-11 18:32:37 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/714/qwxakyoz/websocket
2025-01-11 18:32:37 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/714/qwxakyoz/websocket
2025-01-11 18:32:37 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:32:37 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/714/qwxakyoz/websocket
2025-01-11 18:32:37 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:32:37 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:32:37 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/714/qwxakyoz/websocket
2025-01-11 18:32:37 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/714/qwxakyoz/websocket]
2025-01-11 18:32:37 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/714/qwxakyoz/websocket - Origin: http://localhost:5173
2025-01-11 18:32:37 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/714/qwxakyoz/websocket", parameters={}
2025-01-11 18:32:37 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:32:37 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/714/qwxakyoz/websocket
2025-01-11 18:32:37 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 18:32:37 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/714/qwxakyoz/websocket]
2025-01-11 18:32:37 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=qwxakyoz]
2025-01-11 18:32:37 [http-nio-8080-exec-6] ERROR c.g.a.c.security.ClerkTokenValidator - Token verification failed
com.auth0.jwt.exceptions.TokenExpiredException: The Token has expired on 2025-01-11T23:24:41Z.
	at com.auth0.jwt.JWTVerifier$BaseVerification.assertValidInstantClaim(JWTVerifier.java:346)
	at com.auth0.jwt.JWTVerifier$BaseVerification.lambda$addMandatoryClaimChecks$17(JWTVerifier.java:308)
	at com.auth0.jwt.JWTVerifier$BaseVerification$1.verify(JWTVerifier.java:405)
	at com.auth0.jwt.JWTVerifier.verifyClaims(JWTVerifier.java:482)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:464)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:58)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkChannelInterceptor.preSend(ClerkChannelInterceptor.java:36)
	at org.springframework.messaging.support.AbstractMessageChannel$ChannelInterceptorChain.applyPreSend(AbstractMessageChannel.java:181)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:135)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:125)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageFromClient(StompSubProtocolHandler.java:343)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:336)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.delegateMessages(AbstractSockJsSession.java:346)
	at org.springframework.web.socket.sockjs.transport.session.WebSocketServerSockJsSession.handleMessage(WebSocketServerSockJsSession.java:195)
	at org.springframework.web.socket.sockjs.transport.handler.SockJsWebSocketHandler.handleTextMessage(SockJsWebSocketHandler.java:93)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-01-11 18:32:37 [http-nio-8080-exec-6] ERROR c.g.a.c.s.ClerkChannelInterceptor - WebSocket authentication failed
com.auth0.jwt.exceptions.JWTVerificationException: Invalid token
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:65)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkChannelInterceptor.preSend(ClerkChannelInterceptor.java:36)
	at org.springframework.messaging.support.AbstractMessageChannel$ChannelInterceptorChain.applyPreSend(AbstractMessageChannel.java:181)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:135)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:125)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageFromClient(StompSubProtocolHandler.java:343)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:336)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.delegateMessages(AbstractSockJsSession.java:346)
	at org.springframework.web.socket.sockjs.transport.session.WebSocketServerSockJsSession.handleMessage(WebSocketServerSockJsSession.java:195)
	at org.springframework.web.socket.sockjs.transport.handler.SockJsWebSocketHandler.handleTextMessage(SockJsWebSocketHandler.java:93)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: com.auth0.jwt.exceptions.TokenExpiredException: The Token has expired on 2025-01-11T23:24:41Z.
	at com.auth0.jwt.JWTVerifier$BaseVerification.assertValidInstantClaim(JWTVerifier.java:346)
	at com.auth0.jwt.JWTVerifier$BaseVerification.lambda$addMandatoryClaimChecks$17(JWTVerifier.java:308)
	at com.auth0.jwt.JWTVerifier$BaseVerification$1.verify(JWTVerifier.java:405)
	at com.auth0.jwt.JWTVerifier.verifyClaims(JWTVerifier.java:482)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:464)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:58)
	... 34 common frames omitted
2025-01-11 18:32:37 [http-nio-8080-exec-6] DEBUG org.springframework.web.SimpLogging - ClerkChannelInterceptor returned null from preSend, i.e. precluding the send.
2025-01-11 18:32:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=qwxakyoz] closed with CloseStatus[code=1000, reason=null]
2025-01-11 18:32:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session qwxakyoz
2025-01-11 18:32:41 [clientInboundChannel-51] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=qwxakyoz
2025-01-11 18:32:41 [clientOutboundChannel-28] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=qwxakyoz}], simpSessionId=qwxakyoz}]
2025-01-11 18:32:42 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 18:32:42 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736638362731
2025-01-11 18:32:42 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 18:32:42 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 18:32:42 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:32:42 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:32:42 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 18:32:42 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:32:42 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:32:42 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:32:42 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736638362731
2025-01-11 18:32:42 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736638362731]
2025-01-11 18:32:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:32:42 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 18:32:42 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736638362731", parameters={t:[1736638362731]}
2025-01-11 18:32:42 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:32:42 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736638362731
2025-01-11 18:32:42 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:32:42 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736638362731]
2025-01-11 18:32:42 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:32:42 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 18:32:42 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 18:32:42 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 18:32:42 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 18:32:42 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 18:32:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 18:32:42 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 18:32:42 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:32:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 18:32:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 18:32:42 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/378/sv0dpooq/websocket
2025-01-11 18:32:42 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/378/sv0dpooq/websocket
2025-01-11 18:32:42 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:32:42 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/378/sv0dpooq/websocket
2025-01-11 18:32:42 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:32:42 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:32:42 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/378/sv0dpooq/websocket
2025-01-11 18:32:42 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/378/sv0dpooq/websocket]
2025-01-11 18:32:42 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/378/sv0dpooq/websocket - Origin: http://localhost:5173
2025-01-11 18:32:42 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 18ms
2025-01-11 18:32:42 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/378/sv0dpooq/websocket", parameters={}
2025-01-11 18:32:42 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 18:32:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:32:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:32:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 18:32:42 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:32:42 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 18:32:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/378/sv0dpooq/websocket
2025-01-11 18:32:42 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 18:32:42 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/378/sv0dpooq/websocket]
2025-01-11 18:32:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=sv0dpooq]
2025-01-11 18:32:42 [http-nio-8080-exec-1] ERROR c.g.a.c.security.ClerkTokenValidator - Token verification failed
com.auth0.jwt.exceptions.TokenExpiredException: The Token has expired on 2025-01-11T23:24:41Z.
	at com.auth0.jwt.JWTVerifier$BaseVerification.assertValidInstantClaim(JWTVerifier.java:346)
	at com.auth0.jwt.JWTVerifier$BaseVerification.lambda$addMandatoryClaimChecks$17(JWTVerifier.java:308)
	at com.auth0.jwt.JWTVerifier$BaseVerification$1.verify(JWTVerifier.java:405)
	at com.auth0.jwt.JWTVerifier.verifyClaims(JWTVerifier.java:482)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:464)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:58)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkChannelInterceptor.preSend(ClerkChannelInterceptor.java:36)
	at org.springframework.messaging.support.AbstractMessageChannel$ChannelInterceptorChain.applyPreSend(AbstractMessageChannel.java:181)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:135)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:125)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageFromClient(StompSubProtocolHandler.java:343)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:336)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.delegateMessages(AbstractSockJsSession.java:346)
	at org.springframework.web.socket.sockjs.transport.session.WebSocketServerSockJsSession.handleMessage(WebSocketServerSockJsSession.java:195)
	at org.springframework.web.socket.sockjs.transport.handler.SockJsWebSocketHandler.handleTextMessage(SockJsWebSocketHandler.java:93)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-01-11 18:32:42 [http-nio-8080-exec-1] ERROR c.g.a.c.s.ClerkChannelInterceptor - WebSocket authentication failed
com.auth0.jwt.exceptions.JWTVerificationException: Invalid token
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:65)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkChannelInterceptor.preSend(ClerkChannelInterceptor.java:36)
	at org.springframework.messaging.support.AbstractMessageChannel$ChannelInterceptorChain.applyPreSend(AbstractMessageChannel.java:181)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:135)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:125)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageFromClient(StompSubProtocolHandler.java:343)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:336)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.delegateMessages(AbstractSockJsSession.java:346)
	at org.springframework.web.socket.sockjs.transport.session.WebSocketServerSockJsSession.handleMessage(WebSocketServerSockJsSession.java:195)
	at org.springframework.web.socket.sockjs.transport.handler.SockJsWebSocketHandler.handleTextMessage(SockJsWebSocketHandler.java:93)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: com.auth0.jwt.exceptions.TokenExpiredException: The Token has expired on 2025-01-11T23:24:41Z.
	at com.auth0.jwt.JWTVerifier$BaseVerification.assertValidInstantClaim(JWTVerifier.java:346)
	at com.auth0.jwt.JWTVerifier$BaseVerification.lambda$addMandatoryClaimChecks$17(JWTVerifier.java:308)
	at com.auth0.jwt.JWTVerifier$BaseVerification$1.verify(JWTVerifier.java:405)
	at com.auth0.jwt.JWTVerifier.verifyClaims(JWTVerifier.java:482)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:464)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:58)
	... 34 common frames omitted
2025-01-11 18:32:42 [http-nio-8080-exec-1] DEBUG org.springframework.web.SimpLogging - ClerkChannelInterceptor returned null from preSend, i.e. precluding the send.
2025-01-11 18:32:45 [MessageBroker-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [40ltmhcc]
2025-01-11 18:32:50 [MessageBroker-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [qwxakyoz]
2025-01-11 18:33:46 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=sv0dpooq] closed with CloseStatus[code=1000, reason=null]
2025-01-11 18:33:46 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session sv0dpooq
2025-01-11 18:33:46 [clientInboundChannel-54] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=sv0dpooq
2025-01-11 18:33:46 [clientOutboundChannel-29] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=sv0dpooq}], simpSessionId=sv0dpooq}]
2025-01-11 18:33:46 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736638426929
2025-01-11 18:33:46 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 18:33:46 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:33:46 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 18:33:46 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:33:46 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:33:46 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736638426929
2025-01-11 18:33:46 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736638426929]
2025-01-11 18:33:46 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 18:33:46 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736638426929", parameters={t:[1736638426929]}
2025-01-11 18:33:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:33:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736638426929
2025-01-11 18:33:46 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:33:46 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736638426929]
2025-01-11 18:33:46 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/952/jvl3c21b/websocket
2025-01-11 18:33:46 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/952/jvl3c21b/websocket
2025-01-11 18:33:46 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:33:46 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/952/jvl3c21b/websocket
2025-01-11 18:33:46 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:33:46 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:33:46 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/952/jvl3c21b/websocket
2025-01-11 18:33:46 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/952/jvl3c21b/websocket]
2025-01-11 18:33:46 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/952/jvl3c21b/websocket - Origin: http://localhost:5173
2025-01-11 18:33:46 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/952/jvl3c21b/websocket", parameters={}
2025-01-11 18:33:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:33:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/952/jvl3c21b/websocket
2025-01-11 18:33:46 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 18:33:46 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/952/jvl3c21b/websocket]
2025-01-11 18:33:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=jvl3c21b]
2025-01-11 18:33:46 [http-nio-8080-exec-8] ERROR c.g.a.c.security.ClerkTokenValidator - Token verification failed
com.auth0.jwt.exceptions.TokenExpiredException: The Token has expired on 2025-01-11T23:24:41Z.
	at com.auth0.jwt.JWTVerifier$BaseVerification.assertValidInstantClaim(JWTVerifier.java:346)
	at com.auth0.jwt.JWTVerifier$BaseVerification.lambda$addMandatoryClaimChecks$17(JWTVerifier.java:308)
	at com.auth0.jwt.JWTVerifier$BaseVerification$1.verify(JWTVerifier.java:405)
	at com.auth0.jwt.JWTVerifier.verifyClaims(JWTVerifier.java:482)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:464)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:58)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkChannelInterceptor.preSend(ClerkChannelInterceptor.java:36)
	at org.springframework.messaging.support.AbstractMessageChannel$ChannelInterceptorChain.applyPreSend(AbstractMessageChannel.java:181)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:135)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:125)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageFromClient(StompSubProtocolHandler.java:343)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:336)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.delegateMessages(AbstractSockJsSession.java:346)
	at org.springframework.web.socket.sockjs.transport.session.WebSocketServerSockJsSession.handleMessage(WebSocketServerSockJsSession.java:195)
	at org.springframework.web.socket.sockjs.transport.handler.SockJsWebSocketHandler.handleTextMessage(SockJsWebSocketHandler.java:93)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-01-11 18:33:46 [http-nio-8080-exec-8] ERROR c.g.a.c.s.ClerkChannelInterceptor - WebSocket authentication failed
com.auth0.jwt.exceptions.JWTVerificationException: Invalid token
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:65)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkChannelInterceptor.preSend(ClerkChannelInterceptor.java:36)
	at org.springframework.messaging.support.AbstractMessageChannel$ChannelInterceptorChain.applyPreSend(AbstractMessageChannel.java:181)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:135)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:125)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageFromClient(StompSubProtocolHandler.java:343)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:336)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.delegateMessages(AbstractSockJsSession.java:346)
	at org.springframework.web.socket.sockjs.transport.session.WebSocketServerSockJsSession.handleMessage(WebSocketServerSockJsSession.java:195)
	at org.springframework.web.socket.sockjs.transport.handler.SockJsWebSocketHandler.handleTextMessage(SockJsWebSocketHandler.java:93)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: com.auth0.jwt.exceptions.TokenExpiredException: The Token has expired on 2025-01-11T23:24:41Z.
	at com.auth0.jwt.JWTVerifier$BaseVerification.assertValidInstantClaim(JWTVerifier.java:346)
	at com.auth0.jwt.JWTVerifier$BaseVerification.lambda$addMandatoryClaimChecks$17(JWTVerifier.java:308)
	at com.auth0.jwt.JWTVerifier$BaseVerification$1.verify(JWTVerifier.java:405)
	at com.auth0.jwt.JWTVerifier.verifyClaims(JWTVerifier.java:482)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:464)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:58)
	... 34 common frames omitted
2025-01-11 18:33:46 [http-nio-8080-exec-8] DEBUG org.springframework.web.SimpLogging - ClerkChannelInterceptor returned null from preSend, i.e. precluding the send.
2025-01-11 18:33:53 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=jvl3c21b] closed with CloseStatus[code=1000, reason=null]
2025-01-11 18:33:53 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session jvl3c21b
2025-01-11 18:33:53 [clientInboundChannel-57] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=jvl3c21b
2025-01-11 18:33:53 [clientOutboundChannel-30] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=jvl3c21b}], simpSessionId=jvl3c21b}]
2025-01-11 18:33:53 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736638433953
2025-01-11 18:33:53 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 18:33:53 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:33:53 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 18:33:53 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:33:53 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:33:53 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736638433953
2025-01-11 18:33:53 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736638433953]
2025-01-11 18:33:53 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 18:33:53 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736638433953", parameters={t:[1736638433953]}
2025-01-11 18:33:53 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:33:53 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736638433953
2025-01-11 18:33:53 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:33:53 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736638433953]
2025-01-11 18:33:53 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/136/eqf1xjpw/websocket
2025-01-11 18:33:53 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/136/eqf1xjpw/websocket
2025-01-11 18:33:53 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:33:53 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/136/eqf1xjpw/websocket
2025-01-11 18:33:53 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:33:53 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:33:53 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/136/eqf1xjpw/websocket
2025-01-11 18:33:53 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/136/eqf1xjpw/websocket]
2025-01-11 18:33:53 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/136/eqf1xjpw/websocket - Origin: http://localhost:5173
2025-01-11 18:33:53 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/136/eqf1xjpw/websocket", parameters={}
2025-01-11 18:33:53 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:33:53 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/136/eqf1xjpw/websocket
2025-01-11 18:33:53 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 18:33:53 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/136/eqf1xjpw/websocket]
2025-01-11 18:33:53 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=eqf1xjpw]
2025-01-11 18:33:53 [http-nio-8080-exec-1] ERROR c.g.a.c.security.ClerkTokenValidator - Token verification failed
com.auth0.jwt.exceptions.TokenExpiredException: The Token has expired on 2025-01-11T23:24:41Z.
	at com.auth0.jwt.JWTVerifier$BaseVerification.assertValidInstantClaim(JWTVerifier.java:346)
	at com.auth0.jwt.JWTVerifier$BaseVerification.lambda$addMandatoryClaimChecks$17(JWTVerifier.java:308)
	at com.auth0.jwt.JWTVerifier$BaseVerification$1.verify(JWTVerifier.java:405)
	at com.auth0.jwt.JWTVerifier.verifyClaims(JWTVerifier.java:482)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:464)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:58)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkChannelInterceptor.preSend(ClerkChannelInterceptor.java:36)
	at org.springframework.messaging.support.AbstractMessageChannel$ChannelInterceptorChain.applyPreSend(AbstractMessageChannel.java:181)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:135)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:125)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageFromClient(StompSubProtocolHandler.java:343)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:336)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.delegateMessages(AbstractSockJsSession.java:346)
	at org.springframework.web.socket.sockjs.transport.session.WebSocketServerSockJsSession.handleMessage(WebSocketServerSockJsSession.java:195)
	at org.springframework.web.socket.sockjs.transport.handler.SockJsWebSocketHandler.handleTextMessage(SockJsWebSocketHandler.java:93)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-01-11 18:33:54 [http-nio-8080-exec-1] ERROR c.g.a.c.s.ClerkChannelInterceptor - WebSocket authentication failed
com.auth0.jwt.exceptions.JWTVerificationException: Invalid token
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:65)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkChannelInterceptor.preSend(ClerkChannelInterceptor.java:36)
	at org.springframework.messaging.support.AbstractMessageChannel$ChannelInterceptorChain.applyPreSend(AbstractMessageChannel.java:181)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:135)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:125)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageFromClient(StompSubProtocolHandler.java:343)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:336)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.delegateMessages(AbstractSockJsSession.java:346)
	at org.springframework.web.socket.sockjs.transport.session.WebSocketServerSockJsSession.handleMessage(WebSocketServerSockJsSession.java:195)
	at org.springframework.web.socket.sockjs.transport.handler.SockJsWebSocketHandler.handleTextMessage(SockJsWebSocketHandler.java:93)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: com.auth0.jwt.exceptions.TokenExpiredException: The Token has expired on 2025-01-11T23:24:41Z.
	at com.auth0.jwt.JWTVerifier$BaseVerification.assertValidInstantClaim(JWTVerifier.java:346)
	at com.auth0.jwt.JWTVerifier$BaseVerification.lambda$addMandatoryClaimChecks$17(JWTVerifier.java:308)
	at com.auth0.jwt.JWTVerifier$BaseVerification$1.verify(JWTVerifier.java:405)
	at com.auth0.jwt.JWTVerifier.verifyClaims(JWTVerifier.java:482)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:464)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:58)
	... 34 common frames omitted
2025-01-11 18:33:54 [http-nio-8080-exec-1] DEBUG org.springframework.web.SimpLogging - ClerkChannelInterceptor returned null from preSend, i.e. precluding the send.
2025-01-11 18:33:55 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [sv0dpooq]
2025-01-11 18:34:00 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [jvl3c21b]
2025-01-11 18:34:07 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/channels
2025-01-11 18:34:07 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/channels
2025-01-11 18:34:07 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: POST /api/channels
2025-01-11 18:34:07 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:34:07 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:34:07 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:34:07 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:34:07 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for POST /api/channels
2025-01-11 18:34:07 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/channels
2025-01-11 18:34:07 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [POST /api/channels]
2025-01-11 18:34:07 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: POST /api/channels - Origin: http://localhost:5173
2025-01-11 18:34:07 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/channels", parameters={}
2025-01-11 18:34:07 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#createChannel(ChannelDTO, String)
2025-01-11 18:34:07 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ChannelDTO(id=null, name=1, description=null, type=PUBLIC, createdBy=null, createdAt=null, memberIds (truncated)...]
2025-01-11 18:34:07 [http-nio-8080-exec-5] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.gauntletai.agustinbiondi.chatgenius.dto.ChannelDTO> com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController.createChannel(com.gauntletai.agustinbiondi.chatgenius.dto.ChannelDTO,java.lang.String): [Field error in object 'channelDTO' on field 'name': rejected value [1]; codes [Size.channelDTO.name,Size.name,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [channelDTO.name,name]; arguments []; default message [name],50,3]; default message [Channel name must be between 3 and 50 characters]] ]
2025-01-11 18:34:07 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 18:34:07 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: POST /api/channels, payload={"name":"1","type":"PUBLIC","memberIds":[]}]
2025-01-11 18:34:07 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-01-11 18:34:07 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:34:07 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=eqf1xjpw] closed with CloseStatus[code=1000, reason=null]
2025-01-11 18:34:07 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session eqf1xjpw
2025-01-11 18:34:08 [clientInboundChannel-60] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=eqf1xjpw
2025-01-11 18:34:08 [clientOutboundChannel-31] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=eqf1xjpw}], simpSessionId=eqf1xjpw}]
2025-01-11 18:34:09 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736638449454
2025-01-11 18:34:09 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 18:34:09 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:34:09 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 18:34:09 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:34:09 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:34:09 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736638449454
2025-01-11 18:34:09 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736638449454]
2025-01-11 18:34:09 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 18:34:09 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736638449454", parameters={t:[1736638449454]}
2025-01-11 18:34:09 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:34:09 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736638449454
2025-01-11 18:34:09 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:34:09 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736638449454]
2025-01-11 18:34:09 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/360/smd1sl0y/websocket
2025-01-11 18:34:09 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/360/smd1sl0y/websocket
2025-01-11 18:34:09 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:34:09 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/360/smd1sl0y/websocket
2025-01-11 18:34:09 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:34:09 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:34:09 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/360/smd1sl0y/websocket
2025-01-11 18:34:09 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/360/smd1sl0y/websocket]
2025-01-11 18:34:09 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/360/smd1sl0y/websocket - Origin: http://localhost:5173
2025-01-11 18:34:09 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/360/smd1sl0y/websocket", parameters={}
2025-01-11 18:34:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:34:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/360/smd1sl0y/websocket
2025-01-11 18:34:09 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 18:34:09 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/360/smd1sl0y/websocket]
2025-01-11 18:34:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=smd1sl0y]
2025-01-11 18:34:09 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:34:09 [clientInboundChannel-54] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=smd1sl0y
2025-01-11 18:34:15 [MessageBroker-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [eqf1xjpw]
2025-01-11 18:34:56 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=smd1sl0y] closed with CloseStatus[code=1000, reason=null]
2025-01-11 18:34:56 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session smd1sl0y
2025-01-11 18:34:56 [clientInboundChannel-62] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=smd1sl0y
2025-01-11 18:34:56 [clientOutboundChannel-33] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=smd1sl0y}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=smd1sl0y}]
2025-01-11 18:34:59 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 18:34:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 18:34:59 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 18:34:59 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:34:59 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 18:34:59 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:34:59 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736638499385
2025-01-11 18:34:59 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 18:34:59 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:34:59 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:34:59 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 18:34:59 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:34:59 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:34:59 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:34:59 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736638499385
2025-01-11 18:34:59 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736638499385]
2025-01-11 18:34:59 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 18:34:59 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736638499385", parameters={t:[1736638499385]}
2025-01-11 18:34:59 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:34:59 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736638499385
2025-01-11 18:34:59 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:34:59 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:34:59 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:34:59 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736638499385]
2025-01-11 18:34:59 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/909/lidwzxu3/websocket
2025-01-11 18:34:59 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/909/lidwzxu3/websocket
2025-01-11 18:34:59 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:34:59 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/909/lidwzxu3/websocket
2025-01-11 18:34:59 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:34:59 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:34:59 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:34:59 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 18:34:59 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:34:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 18:34:59 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/909/lidwzxu3/websocket
2025-01-11 18:34:59 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 18:34:59 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 18:34:59 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 18:34:59 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/909/lidwzxu3/websocket]
2025-01-11 18:34:59 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 18:34:59 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 18:34:59 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/909/lidwzxu3/websocket - Origin: http://localhost:5173
2025-01-11 18:34:59 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 18:34:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 18:34:59 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 18:34:59 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 18:34:59 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 18:34:59 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/909/lidwzxu3/websocket", parameters={}
2025-01-11 18:34:59 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:34:59 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 18:34:59 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 18:34:59 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:34:59 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 18:34:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:34:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/909/lidwzxu3/websocket
2025-01-11 18:34:59 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 18:34:59 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 18:34:59 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 18:34:59 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/909/lidwzxu3/websocket]
2025-01-11 18:34:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=lidwzxu3]
2025-01-11 18:34:59 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 29ms
2025-01-11 18:34:59 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 18:34:59 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:34:59 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 18:34:59 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:34:59 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 18:34:59 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:34:59 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 53ms
2025-01-11 18:34:59 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 18:34:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:34:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 18:34:59 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:34:59 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 18:34:59 [clientInboundChannel-59] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=lidwzxu3
2025-01-11 18:34:59 [clientInboundChannel-55] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=lidwzxu3
2025-01-11 18:35:04 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/channels
2025-01-11 18:35:04 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: POST /api/channels
2025-01-11 18:35:04 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:35:04 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:35:04 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:35:04 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:35:04 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for POST /api/channels
2025-01-11 18:35:04 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/channels
2025-01-11 18:35:04 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [POST /api/channels]
2025-01-11 18:35:04 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: POST /api/channels - Origin: http://localhost:5173
2025-01-11 18:35:04 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/channels", parameters={}
2025-01-11 18:35:04 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#createChannel(ChannelDTO, String)
2025-01-11 18:35:04 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ChannelDTO(id=null, name=1, description=null, type=PUBLIC, createdBy=null, createdAt=null, memberIds (truncated)...]
2025-01-11 18:35:04 [http-nio-8080-exec-4] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.gauntletai.agustinbiondi.chatgenius.dto.ChannelDTO> com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController.createChannel(com.gauntletai.agustinbiondi.chatgenius.dto.ChannelDTO,java.lang.String): [Field error in object 'channelDTO' on field 'name': rejected value [1]; codes [Size.channelDTO.name,Size.name,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [channelDTO.name,name]; arguments []; default message [name],50,3]; default message [Channel name must be between 3 and 50 characters]] ]
2025-01-11 18:35:04 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 18:35:04 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: POST /api/channels, payload={"name":"1","type":"PUBLIC","memberIds":[]}]
2025-01-11 18:35:04 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-01-11 18:35:04 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:35:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=lidwzxu3] closed with CloseStatus[code=1000, reason=null]
2025-01-11 18:35:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session lidwzxu3
2025-01-11 18:35:04 [clientInboundChannel-63] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=lidwzxu3
2025-01-11 18:35:04 [clientOutboundChannel-35] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=lidwzxu3}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=lidwzxu3}]
2025-01-11 18:35:05 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [smd1sl0y]
2025-01-11 18:35:05 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736638505725
2025-01-11 18:35:05 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 18:35:05 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:35:05 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 18:35:05 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:35:05 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:35:05 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736638505725
2025-01-11 18:35:05 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736638505725]
2025-01-11 18:35:05 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 18:35:05 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736638505725", parameters={t:[1736638505725]}
2025-01-11 18:35:05 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:35:05 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736638505725
2025-01-11 18:35:05 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:35:05 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736638505725]
2025-01-11 18:35:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/243/g4wlbwnu/websocket
2025-01-11 18:35:05 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/243/g4wlbwnu/websocket
2025-01-11 18:35:05 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:35:05 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/243/g4wlbwnu/websocket
2025-01-11 18:35:05 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:35:05 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:35:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/243/g4wlbwnu/websocket
2025-01-11 18:35:05 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/243/g4wlbwnu/websocket]
2025-01-11 18:35:05 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/243/g4wlbwnu/websocket - Origin: http://localhost:5173
2025-01-11 18:35:05 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/243/g4wlbwnu/websocket", parameters={}
2025-01-11 18:35:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:35:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/243/g4wlbwnu/websocket
2025-01-11 18:35:05 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 18:35:05 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/243/g4wlbwnu/websocket]
2025-01-11 18:35:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=g4wlbwnu]
2025-01-11 18:35:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:35:05 [clientInboundChannel-60] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=g4wlbwnu
2025-01-11 18:35:10 [MessageBroker-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [lidwzxu3]
2025-01-11 18:36:35 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=g4wlbwnu] closed with CloseStatus[code=1000, reason=null]
2025-01-11 18:36:35 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session g4wlbwnu
2025-01-11 18:36:35 [clientInboundChannel-65] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=g4wlbwnu
2025-01-11 18:36:35 [clientOutboundChannel-37] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=g4wlbwnu}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=g4wlbwnu}]
2025-01-11 18:36:36 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 18:36:36 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 18:36:36 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:36:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736638596596
2025-01-11 18:36:36 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 18:36:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 18:36:36 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:36:36 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 18:36:36 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 18:36:36 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:36:36 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:36:36 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:36:36 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:36:36 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:36:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736638596596
2025-01-11 18:36:36 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736638596596]
2025-01-11 18:36:36 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:36:36 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:36:36 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 18:36:36 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736638596596", parameters={t:[1736638596596]}
2025-01-11 18:36:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:36:36 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:36:36 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:36:36 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 18:36:36 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 18:36:36 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 18:36:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 18:36:36 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 18:36:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736638596596
2025-01-11 18:36:36 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 18:36:36 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 18:36:36 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 18:36:36 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 18:36:36 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 18:36:36 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 18:36:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 18:36:36 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 18:36:36 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 18:36:36 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:36:36 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:36:36 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 18:36:36 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 18:36:36 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:36:36 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736638596596]
2025-01-11 18:36:36 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 18:36:36 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 27ms
2025-01-11 18:36:36 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 18:36:36 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:36:36 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 18:36:36 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:36:36 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 18:36:36 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/813/0utb3fcf/websocket
2025-01-11 18:36:36 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/813/0utb3fcf/websocket
2025-01-11 18:36:36 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 50ms
2025-01-11 18:36:36 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 18:36:36 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:36:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:36:36 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/813/0utb3fcf/websocket
2025-01-11 18:36:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 18:36:36 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:36:36 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:36:36 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 18:36:36 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:36:36 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/813/0utb3fcf/websocket
2025-01-11 18:36:36 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/813/0utb3fcf/websocket]
2025-01-11 18:36:36 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/813/0utb3fcf/websocket - Origin: http://localhost:5173
2025-01-11 18:36:36 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/813/0utb3fcf/websocket", parameters={}
2025-01-11 18:36:36 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:36:36 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/813/0utb3fcf/websocket
2025-01-11 18:36:36 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 18:36:36 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/813/0utb3fcf/websocket]
2025-01-11 18:36:36 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=0utb3fcf]
2025-01-11 18:36:36 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:36:36 [clientInboundChannel-68] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=0utb3fcf
2025-01-11 18:36:36 [clientInboundChannel-71] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=0utb3fcf
2025-01-11 18:36:45 [MessageBroker-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [g4wlbwnu]
2025-01-11 18:38:11 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=0utb3fcf] closed with CloseStatus[code=1000, reason=null]
2025-01-11 18:38:11 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session 0utb3fcf
2025-01-11 18:38:11 [clientInboundChannel-73] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=0utb3fcf
2025-01-11 18:38:11 [clientOutboundChannel-39] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=0utb3fcf}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=0utb3fcf}]
2025-01-11 18:38:18 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 18:38:18 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 18:38:18 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:38:18 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:38:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:38:18 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:38:18 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 18:38:18 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 18:38:18 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 18:38:18 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 18:38:18 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 18:38:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 18:38:18 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 18:38:18 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:38:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 18:38:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 18:38:18 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 17ms
2025-01-11 18:38:18 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 18:38:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:38:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 18:38:18 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:38:18 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 18:38:18 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 18:38:19 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736638698017
2025-01-11 18:38:19 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 18:38:19 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 18:38:19 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:38:19 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:38:19 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:38:19 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 18:38:19 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:38:19 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:38:19 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736638698017
2025-01-11 18:38:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:38:19 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736638698017]
2025-01-11 18:38:19 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 18:38:19 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736638698017", parameters={t:[1736638698017]}
2025-01-11 18:38:19 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:38:19 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736638698017
2025-01-11 18:38:19 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:38:19 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:38:19 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 18:38:19 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736638698017]
2025-01-11 18:38:19 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 18:38:19 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 18:38:19 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 18:38:19 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 18:38:19 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 18:38:19 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 18:38:19 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:38:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 18:38:19 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 28ms
2025-01-11 18:38:19 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 18:38:19 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:38:19 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 18:38:19 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:38:19 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 18:38:19 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/678/5r05m1yl/websocket
2025-01-11 18:38:19 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/678/5r05m1yl/websocket
2025-01-11 18:38:19 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:38:19 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/678/5r05m1yl/websocket
2025-01-11 18:38:19 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:38:19 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:38:19 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/678/5r05m1yl/websocket
2025-01-11 18:38:19 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/678/5r05m1yl/websocket]
2025-01-11 18:38:19 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/678/5r05m1yl/websocket - Origin: http://localhost:5173
2025-01-11 18:38:19 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/678/5r05m1yl/websocket", parameters={}
2025-01-11 18:38:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:38:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/678/5r05m1yl/websocket
2025-01-11 18:38:19 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 18:38:19 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/678/5r05m1yl/websocket]
2025-01-11 18:38:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=5r05m1yl]
2025-01-11 18:38:20 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:38:20 [clientInboundChannel-76] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=5r05m1yl
2025-01-11 18:38:20 [MessageBroker-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [0utb3fcf]
2025-01-11 18:38:20 [clientInboundChannel-79] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=5r05m1yl
2025-01-11 18:38:28 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=5r05m1yl] closed with CloseStatus[code=1000, reason=null]
2025-01-11 18:38:28 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session 5r05m1yl
2025-01-11 18:38:28 [clientInboundChannel-74] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=5r05m1yl
2025-01-11 18:38:28 [clientOutboundChannel-41] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=5r05m1yl}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=5r05m1yl}]
2025-01-11 18:38:32 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 18:38:32 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 18:38:32 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 18:38:32 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736638712043
2025-01-11 18:38:32 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:38:32 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 18:38:32 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:38:32 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:38:32 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 18:38:32 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:38:32 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:38:32 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 18:38:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:38:32 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:38:32 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:38:32 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:38:32 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736638712043
2025-01-11 18:38:32 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736638712043]
2025-01-11 18:38:32 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 18:38:32 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736638712043", parameters={t:[1736638712043]}
2025-01-11 18:38:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:38:32 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:38:32 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:38:32 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 18:38:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736638712043
2025-01-11 18:38:32 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 18:38:32 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 18:38:32 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 18:38:32 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 18:38:32 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 18:38:32 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:38:32 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 18:38:32 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 18:38:32 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 18:38:32 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 18:38:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 18:38:32 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736638712043]
2025-01-11 18:38:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 18:38:32 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 18:38:32 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:38:32 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 18:38:32 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:38:32 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 18:38:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 18:38:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 18:38:32 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 15ms
2025-01-11 18:38:32 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 18:38:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:38:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 18:38:32 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:38:32 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 18:38:32 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 23ms
2025-01-11 18:38:32 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 18:38:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:38:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 18:38:32 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:38:32 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 18:38:32 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/463/nagnwahd/websocket
2025-01-11 18:38:32 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/463/nagnwahd/websocket
2025-01-11 18:38:32 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:38:32 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/463/nagnwahd/websocket
2025-01-11 18:38:32 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:38:32 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:38:32 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/463/nagnwahd/websocket
2025-01-11 18:38:32 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/463/nagnwahd/websocket]
2025-01-11 18:38:32 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/463/nagnwahd/websocket - Origin: http://localhost:5173
2025-01-11 18:38:32 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/463/nagnwahd/websocket", parameters={}
2025-01-11 18:38:32 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:38:32 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/463/nagnwahd/websocket
2025-01-11 18:38:32 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 18:38:32 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/463/nagnwahd/websocket]
2025-01-11 18:38:32 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=nagnwahd]
2025-01-11 18:38:32 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:38:32 [clientInboundChannel-77] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=nagnwahd
2025-01-11 18:38:32 [clientInboundChannel-78] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=nagnwahd
2025-01-11 18:38:33 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=nagnwahd] closed with CloseStatus[code=1000, reason=null]
2025-01-11 18:38:33 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session nagnwahd
2025-01-11 18:38:33 [clientInboundChannel-75] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=nagnwahd
2025-01-11 18:38:33 [clientOutboundChannel-43] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=nagnwahd}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=nagnwahd}]
2025-01-11 18:38:35 [MessageBroker-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [5r05m1yl]
2025-01-11 18:38:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 18:38:36 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 18:38:36 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:38:36 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 18:38:36 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:38:36 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 18:38:36 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:38:36 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:38:36 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:38:36 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736638716823
2025-01-11 18:38:36 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 18:38:36 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:38:36 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:38:36 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 18:38:36 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:38:36 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:38:36 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 18:38:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 18:38:36 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:38:36 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 18:38:36 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 18:38:36 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 18:38:36 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 18:38:36 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 18:38:36 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:38:36 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736638716823
2025-01-11 18:38:36 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 18:38:36 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:38:36 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736638716823]
2025-01-11 18:38:36 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 18:38:36 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 18:38:36 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 18:38:36 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 18:38:36 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736638716823", parameters={t:[1736638716823]}
2025-01-11 18:38:36 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 18:38:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 18:38:36 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:38:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 18:38:36 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 18:38:36 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736638716823
2025-01-11 18:38:36 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 18:38:36 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:38:36 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:38:36 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 18:38:36 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736638716823]
2025-01-11 18:38:36 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 11ms
2025-01-11 18:38:36 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 18:38:36 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 23ms
2025-01-11 18:38:36 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 18:38:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:38:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 18:38:36 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:38:36 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 18:38:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:38:36 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 18:38:36 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:38:36 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 18:38:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/759/5vpbnomn/websocket
2025-01-11 18:38:36 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/759/5vpbnomn/websocket
2025-01-11 18:38:36 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:38:36 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/759/5vpbnomn/websocket
2025-01-11 18:38:36 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:38:36 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:38:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/759/5vpbnomn/websocket
2025-01-11 18:38:36 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/759/5vpbnomn/websocket]
2025-01-11 18:38:36 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/759/5vpbnomn/websocket - Origin: http://localhost:5173
2025-01-11 18:38:36 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/759/5vpbnomn/websocket", parameters={}
2025-01-11 18:38:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:38:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/759/5vpbnomn/websocket
2025-01-11 18:38:36 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 18:38:36 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/759/5vpbnomn/websocket]
2025-01-11 18:38:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=5vpbnomn]
2025-01-11 18:38:36 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:38:37 [clientInboundChannel-77] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=5vpbnomn
2025-01-11 18:38:37 [clientInboundChannel-78] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=5vpbnomn
2025-01-11 18:38:40 [MessageBroker-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [nagnwahd]
2025-01-11 18:38:54 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=5vpbnomn] closed with CloseStatus[code=1000, reason=null]
2025-01-11 18:38:54 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session 5vpbnomn
2025-01-11 18:38:54 [clientInboundChannel-76] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=5vpbnomn
2025-01-11 18:38:54 [clientOutboundChannel-45] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=5vpbnomn}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=5vpbnomn}]
2025-01-11 18:38:56 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 18:38:56 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 18:38:56 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:38:56 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736638736449
2025-01-11 18:38:56 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:38:56 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 18:38:56 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:38:56 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 18:38:56 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 18:38:56 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:38:56 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:38:56 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 18:38:56 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:38:56 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736638736449
2025-01-11 18:38:56 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:38:56 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736638736449]
2025-01-11 18:38:56 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:38:56 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 18:38:56 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736638736449", parameters={t:[1736638736449]}
2025-01-11 18:38:56 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:38:56 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:38:56 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736638736449
2025-01-11 18:38:56 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:38:56 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736638736449]
2025-01-11 18:38:56 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:38:56 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:38:56 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 18:38:56 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 18:38:56 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 18:38:56 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 18:38:56 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 18:38:56 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 18:38:56 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 18:38:56 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 18:38:56 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 18:38:56 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 18:38:56 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 18:38:56 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 18:38:56 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 18:38:56 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:38:56 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 18:38:56 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:38:56 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 18:38:56 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 18:38:56 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 32ms
2025-01-11 18:38:56 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 18:38:56 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 18:38:56 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:38:56 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 18:38:56 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:38:56 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 18:38:56 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 44ms
2025-01-11 18:38:56 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 18:38:56 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:38:56 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 18:38:56 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:38:56 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 18:38:56 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/104/p43b0ia4/websocket
2025-01-11 18:38:56 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/104/p43b0ia4/websocket
2025-01-11 18:38:56 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:38:56 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/104/p43b0ia4/websocket
2025-01-11 18:38:56 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:38:56 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:38:56 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/104/p43b0ia4/websocket
2025-01-11 18:38:56 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/104/p43b0ia4/websocket]
2025-01-11 18:38:56 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/104/p43b0ia4/websocket - Origin: http://localhost:5173
2025-01-11 18:38:56 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/104/p43b0ia4/websocket", parameters={}
2025-01-11 18:38:56 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:38:56 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/104/p43b0ia4/websocket
2025-01-11 18:38:56 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 18:38:56 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/104/p43b0ia4/websocket]
2025-01-11 18:38:56 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=p43b0ia4]
2025-01-11 18:38:56 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:38:56 [clientInboundChannel-79] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=p43b0ia4
2025-01-11 18:38:56 [clientInboundChannel-72] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=p43b0ia4
2025-01-11 18:39:00 [MessageBroker-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [5vpbnomn]
2025-01-11 18:39:09 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=p43b0ia4] closed with CloseStatus[code=1000, reason=null]
2025-01-11 18:39:09 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session p43b0ia4
2025-01-11 18:39:09 [clientInboundChannel-73] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=p43b0ia4
2025-01-11 18:39:09 [clientOutboundChannel-39] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=p43b0ia4}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=p43b0ia4}]
2025-01-11 18:39:11 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 18:39:11 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736638751395
2025-01-11 18:39:11 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 18:39:11 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 18:39:11 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:39:11 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 18:39:11 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:39:11 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 18:39:11 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:39:11 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:39:11 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 18:39:11 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:39:11 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:39:11 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736638751395
2025-01-11 18:39:11 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:39:11 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736638751395]
2025-01-11 18:39:11 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 18:39:11 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736638751395", parameters={t:[1736638751395]}
2025-01-11 18:39:11 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:39:11 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:39:11 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736638751395
2025-01-11 18:39:11 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:39:11 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:39:11 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736638751395]
2025-01-11 18:39:11 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/335/4erd00qs/websocket
2025-01-11 18:39:11 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/335/4erd00qs/websocket
2025-01-11 18:39:11 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:39:11 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:39:11 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/335/4erd00qs/websocket
2025-01-11 18:39:11 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 18:39:11 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:39:11 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:39:11 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 18:39:11 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:39:11 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 18:39:11 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 18:39:11 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/335/4erd00qs/websocket
2025-01-11 18:39:11 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 18:39:11 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 18:39:11 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/335/4erd00qs/websocket]
2025-01-11 18:39:11 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 18:39:11 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 18:39:11 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/335/4erd00qs/websocket - Origin: http://localhost:5173
2025-01-11 18:39:11 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 18:39:11 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 18:39:11 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/335/4erd00qs/websocket", parameters={}
2025-01-11 18:39:11 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 18:39:11 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 18:39:11 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 18:39:11 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:39:11 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 18:39:11 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:39:11 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 18:39:11 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 18:39:11 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:39:11 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/335/4erd00qs/websocket
2025-01-11 18:39:11 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 18:39:11 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 18:39:11 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/335/4erd00qs/websocket]
2025-01-11 18:39:11 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 24ms
2025-01-11 18:39:11 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 18:39:11 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:39:11 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 18:39:11 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:39:11 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 18:39:11 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=4erd00qs]
2025-01-11 18:39:11 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:39:11 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 67ms
2025-01-11 18:39:11 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 18:39:11 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:39:11 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 18:39:11 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:39:11 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 18:39:11 [clientInboundChannel-74] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=4erd00qs
2025-01-11 18:39:11 [clientInboundChannel-75] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=4erd00qs
2025-01-11 18:39:15 [MessageBroker-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [p43b0ia4]
2025-01-11 18:39:46 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=4erd00qs] closed with CloseStatus[code=1000, reason=null]
2025-01-11 18:39:46 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session 4erd00qs
2025-01-11 18:39:46 [clientInboundChannel-73] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=4erd00qs
2025-01-11 18:39:46 [clientOutboundChannel-47] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=4erd00qs}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=4erd00qs}]
2025-01-11 18:39:48 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 18:39:48 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736638787967
2025-01-11 18:39:48 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 18:39:48 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 18:39:48 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 18:39:48 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:39:48 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 18:39:48 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:39:48 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 18:39:48 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:39:48 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:39:48 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:39:48 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:39:48 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:39:48 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736638787967
2025-01-11 18:39:48 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736638787967]
2025-01-11 18:39:48 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:39:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:39:48 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 18:39:48 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736638787967", parameters={t:[1736638787967]}
2025-01-11 18:39:48 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:39:48 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:39:48 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 18:39:48 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 18:39:48 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 18:39:48 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 18:39:48 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 18:39:48 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 18:39:48 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736638787967
2025-01-11 18:39:48 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 18:39:48 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:39:48 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:39:48 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 18:39:48 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 18:39:48 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 18:39:48 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 18:39:48 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 18:39:48 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 18:39:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 18:39:48 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 18:39:48 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:39:48 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:39:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 18:39:48 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736638787967]
2025-01-11 18:39:48 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/379/gcxxxokt/websocket
2025-01-11 18:39:48 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/379/gcxxxokt/websocket
2025-01-11 18:39:48 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:39:48 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/379/gcxxxokt/websocket
2025-01-11 18:39:48 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 28ms
2025-01-11 18:39:48 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 18:39:48 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:39:48 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:39:48 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:39:48 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 18:39:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 18:39:48 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/379/gcxxxokt/websocket
2025-01-11 18:39:48 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:39:48 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 18:39:48 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/379/gcxxxokt/websocket]
2025-01-11 18:39:48 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/379/gcxxxokt/websocket - Origin: http://localhost:5173
2025-01-11 18:39:48 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/379/gcxxxokt/websocket", parameters={}
2025-01-11 18:39:48 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:39:48 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/379/gcxxxokt/websocket
2025-01-11 18:39:48 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 80ms
2025-01-11 18:39:48 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 18:39:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:39:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 18:39:48 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:39:48 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 18:39:48 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 18:39:48 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/379/gcxxxokt/websocket]
2025-01-11 18:39:48 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=gcxxxokt]
2025-01-11 18:39:48 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:39:48 [clientInboundChannel-74] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=gcxxxokt
2025-01-11 18:39:48 [clientInboundChannel-76] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=gcxxxokt
2025-01-11 18:39:52 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/channels
2025-01-11 18:39:52 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: POST /api/channels
2025-01-11 18:39:52 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:39:52 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:39:52 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:39:52 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:39:52 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for POST /api/channels
2025-01-11 18:39:52 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/channels
2025-01-11 18:39:52 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [POST /api/channels]
2025-01-11 18:39:52 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: POST /api/channels - Origin: http://localhost:5173
2025-01-11 18:39:52 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/channels", parameters={}
2025-01-11 18:39:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#createChannel(ChannelDTO, String)
2025-01-11 18:39:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ChannelDTO(id=null, name=1, description=null, type=PUBLIC, createdBy=null, createdAt=null, memberIds (truncated)...]
2025-01-11 18:39:52 [http-nio-8080-exec-6] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.gauntletai.agustinbiondi.chatgenius.dto.ChannelDTO> com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController.createChannel(com.gauntletai.agustinbiondi.chatgenius.dto.ChannelDTO,java.lang.String): [Field error in object 'channelDTO' on field 'name': rejected value [1]; codes [Size.channelDTO.name,Size.name,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [channelDTO.name,name]; arguments []; default message [name],50,3]; default message [Channel name must be between 3 and 50 characters]] ]
2025-01-11 18:39:52 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 18:39:52 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: POST /api/channels, payload={"name":"1","type":"PUBLIC","memberIds":[]}]
2025-01-11 18:39:52 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-01-11 18:39:52 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:39:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=gcxxxokt] closed with CloseStatus[code=1000, reason=null]
2025-01-11 18:39:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session gcxxxokt
2025-01-11 18:39:52 [clientInboundChannel-73] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=gcxxxokt
2025-01-11 18:39:52 [clientOutboundChannel-49] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=gcxxxokt}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=gcxxxokt}]
2025-01-11 18:39:53 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736638793701
2025-01-11 18:39:53 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 18:39:53 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:39:53 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 18:39:53 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:39:53 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:39:53 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736638793701
2025-01-11 18:39:53 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736638793701]
2025-01-11 18:39:53 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 18:39:53 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736638793701", parameters={t:[1736638793701]}
2025-01-11 18:39:53 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:39:53 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736638793701
2025-01-11 18:39:53 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:39:53 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736638793701]
2025-01-11 18:39:53 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/449/15wzy3qv/websocket
2025-01-11 18:39:53 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/449/15wzy3qv/websocket
2025-01-11 18:39:53 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:39:53 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/449/15wzy3qv/websocket
2025-01-11 18:39:53 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:39:53 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:39:53 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/449/15wzy3qv/websocket
2025-01-11 18:39:53 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/449/15wzy3qv/websocket]
2025-01-11 18:39:53 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/449/15wzy3qv/websocket - Origin: http://localhost:5173
2025-01-11 18:39:53 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/449/15wzy3qv/websocket", parameters={}
2025-01-11 18:39:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:39:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/449/15wzy3qv/websocket
2025-01-11 18:39:53 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 18:39:53 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/449/15wzy3qv/websocket]
2025-01-11 18:39:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=15wzy3qv]
2025-01-11 18:39:53 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:39:53 [clientInboundChannel-72] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=15wzy3qv
2025-01-11 18:39:55 [MessageBroker-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [4erd00qs]
2025-01-11 18:40:00 [MessageBroker-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [gcxxxokt]
2025-01-11 18:40:34 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=15wzy3qv] closed with CloseStatus[code=1000, reason=null]
2025-01-11 18:40:34 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session 15wzy3qv
2025-01-11 18:40:34 [clientInboundChannel-77] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=15wzy3qv
2025-01-11 18:40:34 [clientOutboundChannel-51] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=15wzy3qv}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=15wzy3qv}]
2025-01-11 18:40:39 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736638839173
2025-01-11 18:40:39 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 18:40:39 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:40:39 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 18:40:39 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:40:39 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:40:39 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736638839173
2025-01-11 18:40:39 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736638839173]
2025-01-11 18:40:39 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 18:40:39 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736638839173", parameters={t:[1736638839173]}
2025-01-11 18:40:39 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:40:39 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736638839173
2025-01-11 18:40:39 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:40:39 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736638839173]
2025-01-11 18:40:39 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/376/xaxvrqta/websocket
2025-01-11 18:40:39 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/376/xaxvrqta/websocket
2025-01-11 18:40:39 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:40:39 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/376/xaxvrqta/websocket
2025-01-11 18:40:39 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:40:39 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:40:39 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/376/xaxvrqta/websocket
2025-01-11 18:40:39 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/376/xaxvrqta/websocket]
2025-01-11 18:40:39 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/376/xaxvrqta/websocket - Origin: http://localhost:5173
2025-01-11 18:40:39 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/376/xaxvrqta/websocket", parameters={}
2025-01-11 18:40:39 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:40:39 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/376/xaxvrqta/websocket
2025-01-11 18:40:39 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 18:40:39 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/376/xaxvrqta/websocket]
2025-01-11 18:40:39 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=xaxvrqta]
2025-01-11 18:40:39 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:40:39 [clientInboundChannel-73] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=xaxvrqta
2025-01-11 18:40:40 [MessageBroker-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [15wzy3qv]
2025-01-11 18:41:59 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=xaxvrqta] closed with CloseStatus[code=1000, reason=null]
2025-01-11 18:41:59 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session xaxvrqta
2025-01-11 18:41:59 [clientInboundChannel-81] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=xaxvrqta
2025-01-11 18:41:59 [clientOutboundChannel-53] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=xaxvrqta}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=xaxvrqta}]
2025-01-11 18:42:00 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736638920565
2025-01-11 18:42:00 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 18:42:00 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 18:42:00 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 18:42:00 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:42:00 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 18:42:00 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 18:42:00 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:42:00 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 18:42:00 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:42:00 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:42:00 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:42:00 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736638920565
2025-01-11 18:42:00 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:42:00 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736638920565]
2025-01-11 18:42:00 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 18:42:00 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:42:00 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736638920565", parameters={t:[1736638920565]}
2025-01-11 18:42:00 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:42:00 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:42:00 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:42:00 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736638920565
2025-01-11 18:42:00 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:42:00 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736638920565]
2025-01-11 18:42:00 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:42:00 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:42:00 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 18:42:00 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 18:42:00 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 18:42:00 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 18:42:00 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 18:42:00 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 18:42:00 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 18:42:00 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 18:42:00 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 18:42:00 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 18:42:00 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 18:42:00 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 18:42:00 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 18:42:00 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:42:00 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 18:42:00 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:42:00 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 18:42:00 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 18:42:00 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 18:42:00 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/136/egkbrlwb/websocket
2025-01-11 18:42:00 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/136/egkbrlwb/websocket
2025-01-11 18:42:00 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:42:00 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 57ms
2025-01-11 18:42:00 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/136/egkbrlwb/websocket
2025-01-11 18:42:00 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 18:42:00 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:42:00 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 18:42:00 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:42:00 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 18:42:00 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:42:00 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:42:00 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 68ms
2025-01-11 18:42:00 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 18:42:00 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/136/egkbrlwb/websocket
2025-01-11 18:42:00 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:42:00 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 18:42:00 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:42:00 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 18:42:00 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/136/egkbrlwb/websocket]
2025-01-11 18:42:00 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/136/egkbrlwb/websocket - Origin: http://localhost:5173
2025-01-11 18:42:00 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/136/egkbrlwb/websocket", parameters={}
2025-01-11 18:42:00 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:42:00 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/136/egkbrlwb/websocket
2025-01-11 18:42:00 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 18:42:00 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/136/egkbrlwb/websocket]
2025-01-11 18:42:00 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=egkbrlwb]
2025-01-11 18:42:00 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:42:00 [clientInboundChannel-84] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=egkbrlwb
2025-01-11 18:42:00 [clientInboundChannel-87] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=egkbrlwb
2025-01-11 18:42:04 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/channels
2025-01-11 18:42:04 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: POST /api/channels
2025-01-11 18:42:04 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:42:04 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:42:04 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:42:04 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:42:04 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for POST /api/channels
2025-01-11 18:42:04 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/channels
2025-01-11 18:42:04 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [POST /api/channels]
2025-01-11 18:42:04 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: POST /api/channels - Origin: http://localhost:5173
2025-01-11 18:42:04 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/channels", parameters={}
2025-01-11 18:42:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#createChannel(ChannelDTO, String)
2025-01-11 18:42:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ChannelDTO(id=null, name=1, description=null, type=PUBLIC, createdBy=null, createdAt=null, memberIds (truncated)...]
2025-01-11 18:42:04 [http-nio-8080-exec-6] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.gauntletai.agustinbiondi.chatgenius.dto.ChannelDTO> com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController.createChannel(com.gauntletai.agustinbiondi.chatgenius.dto.ChannelDTO,java.lang.String): [Field error in object 'channelDTO' on field 'name': rejected value [1]; codes [Size.channelDTO.name,Size.name,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [channelDTO.name,name]; arguments []; default message [name],50,3]; default message [Channel name must be between 3 and 50 characters]] ]
2025-01-11 18:42:04 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 18:42:04 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: POST /api/channels, payload={"name":"1","type":"PUBLIC","memberIds":[]}]
2025-01-11 18:42:04 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-01-11 18:42:04 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:42:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=egkbrlwb] closed with CloseStatus[code=1000, reason=null]
2025-01-11 18:42:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session egkbrlwb
2025-01-11 18:42:04 [clientInboundChannel-82] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=egkbrlwb
2025-01-11 18:42:04 [clientOutboundChannel-55] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=egkbrlwb}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=egkbrlwb}]
2025-01-11 18:42:05 [MessageBroker-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [xaxvrqta]
2025-01-11 18:42:05 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736638925637
2025-01-11 18:42:05 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 18:42:05 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:42:05 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 18:42:05 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:42:05 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:42:05 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736638925637
2025-01-11 18:42:05 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736638925637]
2025-01-11 18:42:05 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 18:42:05 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736638925637", parameters={t:[1736638925637]}
2025-01-11 18:42:05 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:42:05 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736638925637
2025-01-11 18:42:05 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:42:05 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736638925637]
2025-01-11 18:42:05 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/017/xs0evxs5/websocket
2025-01-11 18:42:05 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/017/xs0evxs5/websocket
2025-01-11 18:42:05 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:42:05 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/017/xs0evxs5/websocket
2025-01-11 18:42:05 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:42:05 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:42:05 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/017/xs0evxs5/websocket
2025-01-11 18:42:05 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/017/xs0evxs5/websocket]
2025-01-11 18:42:05 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/017/xs0evxs5/websocket - Origin: http://localhost:5173
2025-01-11 18:42:05 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/017/xs0evxs5/websocket", parameters={}
2025-01-11 18:42:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:42:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/017/xs0evxs5/websocket
2025-01-11 18:42:05 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 18:42:05 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/017/xs0evxs5/websocket]
2025-01-11 18:42:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=xs0evxs5]
2025-01-11 18:42:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:42:05 [clientInboundChannel-85] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=xs0evxs5
2025-01-11 18:42:10 [MessageBroker-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [egkbrlwb]
2025-01-11 18:42:11 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=xs0evxs5] closed with CloseStatus[code=1000, reason=null]
2025-01-11 18:42:11 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session xs0evxs5
2025-01-11 18:42:11 [clientInboundChannel-86] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=xs0evxs5
2025-01-11 18:42:11 [clientOutboundChannel-57] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=xs0evxs5}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=xs0evxs5}]
2025-01-11 18:42:12 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 18:42:12 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736638932680
2025-01-11 18:42:12 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 18:42:12 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 18:42:12 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 18:42:12 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:42:12 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 18:42:12 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:42:12 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:42:12 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 18:42:12 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:42:12 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:42:12 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:42:12 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:42:12 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736638932680
2025-01-11 18:42:12 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736638932680]
2025-01-11 18:42:12 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:42:12 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:42:12 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 18:42:12 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736638932680", parameters={t:[1736638932680]}
2025-01-11 18:42:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:42:12 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:42:12 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 18:42:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736638932680
2025-01-11 18:42:12 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 18:42:12 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 18:42:12 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 18:42:12 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 18:42:12 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 18:42:12 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 18:42:12 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:42:12 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:42:12 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:42:12 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 18:42:12 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 18:42:12 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 18:42:12 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 18:42:12 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736638932680]
2025-01-11 18:42:12 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 18:42:12 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 18:42:12 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 18:42:12 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 18:42:12 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 18:42:12 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:42:12 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 18:42:12 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 10ms
2025-01-11 18:42:12 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 18:42:12 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/773/ahd40o3v/websocket
2025-01-11 18:42:12 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:42:12 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 18:42:12 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 27ms
2025-01-11 18:42:12 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:42:12 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 18:42:12 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 18:42:12 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:42:12 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 18:42:12 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:42:12 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 18:42:12 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/773/ahd40o3v/websocket
2025-01-11 18:42:12 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:42:12 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/773/ahd40o3v/websocket
2025-01-11 18:42:12 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:42:12 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:42:12 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/773/ahd40o3v/websocket
2025-01-11 18:42:12 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/773/ahd40o3v/websocket]
2025-01-11 18:42:12 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/773/ahd40o3v/websocket - Origin: http://localhost:5173
2025-01-11 18:42:12 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/773/ahd40o3v/websocket", parameters={}
2025-01-11 18:42:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:42:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/773/ahd40o3v/websocket
2025-01-11 18:42:12 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 18:42:12 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/773/ahd40o3v/websocket]
2025-01-11 18:42:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=ahd40o3v]
2025-01-11 18:42:12 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:42:12 [clientInboundChannel-83] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=ahd40o3v
2025-01-11 18:42:12 [clientInboundChannel-81] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=ahd40o3v
2025-01-11 18:42:20 [MessageBroker-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [xs0evxs5]
2025-01-11 18:43:45 [clientInboundChannel-88] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/presence session=ahd40o3v, lookupDestination='/presence'
2025-01-11 18:43:45 [clientInboundChannel-88] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2025-01-11 18:43:45 [clientInboundChannel-92] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT receipt=close-1 session=ahd40o3v
2025-01-11 18:43:45 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=ahd40o3v] closed with CloseStatus[code=1000, reason=null]
2025-01-11 18:43:45 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session ahd40o3v
2025-01-11 18:43:45 [clientInboundChannel-95] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=ahd40o3v
2025-01-11 18:43:45 [clientOutboundChannel-60] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=ahd40o3v}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=ahd40o3v}]
2025-01-11 18:43:45 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736639025948
2025-01-11 18:43:45 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 18:43:45 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:43:45 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 18:43:45 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:43:45 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:43:45 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736639025948
2025-01-11 18:43:45 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736639025948]
2025-01-11 18:43:45 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 18:43:45 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736639025948", parameters={t:[1736639025948]}
2025-01-11 18:43:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:43:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736639025948
2025-01-11 18:43:45 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:43:45 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736639025948]
2025-01-11 18:43:45 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/778/m0u3adp4/websocket
2025-01-11 18:43:45 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/778/m0u3adp4/websocket
2025-01-11 18:43:45 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:43:45 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/778/m0u3adp4/websocket
2025-01-11 18:43:45 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:43:45 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:43:45 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/778/m0u3adp4/websocket
2025-01-11 18:43:45 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/778/m0u3adp4/websocket]
2025-01-11 18:43:45 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/778/m0u3adp4/websocket - Origin: http://localhost:5173
2025-01-11 18:43:45 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/778/m0u3adp4/websocket", parameters={}
2025-01-11 18:43:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:43:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/778/m0u3adp4/websocket
2025-01-11 18:43:45 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 18:43:45 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/778/m0u3adp4/websocket]
2025-01-11 18:43:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=m0u3adp4]
2025-01-11 18:43:45 [http-nio-8080-exec-6] ERROR c.g.a.c.security.ClerkTokenValidator - Token verification failed
com.auth0.jwt.exceptions.TokenExpiredException: The Token has expired on 2025-01-11T23:43:11Z.
	at com.auth0.jwt.JWTVerifier$BaseVerification.assertValidInstantClaim(JWTVerifier.java:346)
	at com.auth0.jwt.JWTVerifier$BaseVerification.lambda$addMandatoryClaimChecks$17(JWTVerifier.java:308)
	at com.auth0.jwt.JWTVerifier$BaseVerification$1.verify(JWTVerifier.java:405)
	at com.auth0.jwt.JWTVerifier.verifyClaims(JWTVerifier.java:482)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:464)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:58)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkChannelInterceptor.preSend(ClerkChannelInterceptor.java:36)
	at org.springframework.messaging.support.AbstractMessageChannel$ChannelInterceptorChain.applyPreSend(AbstractMessageChannel.java:181)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:135)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:125)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageFromClient(StompSubProtocolHandler.java:343)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:336)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.delegateMessages(AbstractSockJsSession.java:346)
	at org.springframework.web.socket.sockjs.transport.session.WebSocketServerSockJsSession.handleMessage(WebSocketServerSockJsSession.java:195)
	at org.springframework.web.socket.sockjs.transport.handler.SockJsWebSocketHandler.handleTextMessage(SockJsWebSocketHandler.java:93)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-01-11 18:43:46 [http-nio-8080-exec-6] ERROR c.g.a.c.s.ClerkChannelInterceptor - WebSocket authentication failed
com.auth0.jwt.exceptions.JWTVerificationException: Invalid token
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:65)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkChannelInterceptor.preSend(ClerkChannelInterceptor.java:36)
	at org.springframework.messaging.support.AbstractMessageChannel$ChannelInterceptorChain.applyPreSend(AbstractMessageChannel.java:181)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:135)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:125)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageFromClient(StompSubProtocolHandler.java:343)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:336)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.delegateMessages(AbstractSockJsSession.java:346)
	at org.springframework.web.socket.sockjs.transport.session.WebSocketServerSockJsSession.handleMessage(WebSocketServerSockJsSession.java:195)
	at org.springframework.web.socket.sockjs.transport.handler.SockJsWebSocketHandler.handleTextMessage(SockJsWebSocketHandler.java:93)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: com.auth0.jwt.exceptions.TokenExpiredException: The Token has expired on 2025-01-11T23:43:11Z.
	at com.auth0.jwt.JWTVerifier$BaseVerification.assertValidInstantClaim(JWTVerifier.java:346)
	at com.auth0.jwt.JWTVerifier$BaseVerification.lambda$addMandatoryClaimChecks$17(JWTVerifier.java:308)
	at com.auth0.jwt.JWTVerifier$BaseVerification$1.verify(JWTVerifier.java:405)
	at com.auth0.jwt.JWTVerifier.verifyClaims(JWTVerifier.java:482)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:464)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:58)
	... 34 common frames omitted
2025-01-11 18:43:46 [http-nio-8080-exec-6] DEBUG org.springframework.web.SimpLogging - ClerkChannelInterceptor returned null from preSend, i.e. precluding the send.
2025-01-11 18:43:55 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [ahd40o3v]
2025-01-11 18:44:12 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=m0u3adp4] closed with CloseStatus[code=1000, reason=null]
2025-01-11 18:44:12 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session m0u3adp4
2025-01-11 18:44:12 [clientInboundChannel-88] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=m0u3adp4
2025-01-11 18:44:12 [clientOutboundChannel-61] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=m0u3adp4}], simpSessionId=m0u3adp4}]
2025-01-11 18:44:14 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 18:44:14 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736639054254
2025-01-11 18:44:14 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 18:44:14 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 18:44:14 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 18:44:14 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:44:14 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 18:44:14 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:44:14 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 18:44:14 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:44:14 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:44:14 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:44:14 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:44:14 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:44:14 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:44:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:44:14 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736639054254
2025-01-11 18:44:14 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736639054254]
2025-01-11 18:44:14 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 18:44:14 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736639054254", parameters={t:[1736639054254]}
2025-01-11 18:44:14 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:44:14 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:44:14 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 18:44:14 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 18:44:14 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 18:44:14 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736639054254
2025-01-11 18:44:14 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 18:44:14 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 18:44:14 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:44:14 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 18:44:14 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 18:44:14 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:44:14 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:44:14 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 18:44:14 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 18:44:14 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 18:44:14 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 18:44:14 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 18:44:14 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736639054254]
2025-01-11 18:44:14 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 18:44:14 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 18:44:14 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 18:44:14 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:44:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 18:44:14 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 18:44:14 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/035/1tvwjojh/websocket
2025-01-11 18:44:14 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/035/1tvwjojh/websocket
2025-01-11 18:44:14 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 33ms
2025-01-11 18:44:14 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 18:44:14 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:44:14 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 18:44:14 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:44:14 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 18:44:14 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:44:14 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/035/1tvwjojh/websocket
2025-01-11 18:44:14 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:44:14 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 49ms
2025-01-11 18:44:14 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 18:44:14 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:44:14 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/035/1tvwjojh/websocket
2025-01-11 18:44:14 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:44:14 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/035/1tvwjojh/websocket]
2025-01-11 18:44:14 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 18:44:14 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/035/1tvwjojh/websocket - Origin: http://localhost:5173
2025-01-11 18:44:14 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/035/1tvwjojh/websocket", parameters={}
2025-01-11 18:44:14 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:44:14 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:44:14 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 18:44:14 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/035/1tvwjojh/websocket
2025-01-11 18:44:14 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 18:44:14 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/035/1tvwjojh/websocket]
2025-01-11 18:44:14 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=1tvwjojh]
2025-01-11 18:44:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:44:14 [clientInboundChannel-92] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=1tvwjojh
2025-01-11 18:44:14 [clientInboundChannel-94] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=1tvwjojh
2025-01-11 18:44:20 [MessageBroker-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [m0u3adp4]
2025-01-11 18:44:22 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/channels
2025-01-11 18:44:22 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: POST /api/channels
2025-01-11 18:44:22 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:44:22 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:44:22 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:44:22 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:44:22 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for POST /api/channels
2025-01-11 18:44:22 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/channels
2025-01-11 18:44:23 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [POST /api/channels]
2025-01-11 18:44:23 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: POST /api/channels - Origin: http://localhost:5173
2025-01-11 18:44:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/channels", parameters={}
2025-01-11 18:44:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#createChannel(ChannelDTO, String)
2025-01-11 18:44:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ChannelDTO(id=null, name=1, description=null, type=PUBLIC, createdBy=null, createdAt=null, memberIds (truncated)...]
2025-01-11 18:44:23 [http-nio-8080-exec-1] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.gauntletai.agustinbiondi.chatgenius.dto.ChannelDTO> com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController.createChannel(com.gauntletai.agustinbiondi.chatgenius.dto.ChannelDTO,java.lang.String): [Field error in object 'channelDTO' on field 'name': rejected value [1]; codes [Size.channelDTO.name,Size.name,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [channelDTO.name,name]; arguments []; default message [name],50,3]; default message [Channel name must be between 3 and 50 characters]] ]
2025-01-11 18:44:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 18:44:23 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: POST /api/channels, payload={"name":"1","type":"PUBLIC","memberIds":[]}]
2025-01-11 18:44:23 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-01-11 18:44:23 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:44:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=1tvwjojh] closed with CloseStatus[code=1000, reason=null]
2025-01-11 18:44:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session 1tvwjojh
2025-01-11 18:44:23 [clientInboundChannel-88] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=1tvwjojh
2025-01-11 18:44:23 [clientOutboundChannel-63] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=1tvwjojh}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=1tvwjojh}]
2025-01-11 18:44:24 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736639064394
2025-01-11 18:44:24 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 18:44:24 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:44:24 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 18:44:24 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:44:24 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:44:24 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736639064394
2025-01-11 18:44:24 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736639064394]
2025-01-11 18:44:24 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 18:44:24 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736639064394", parameters={t:[1736639064394]}
2025-01-11 18:44:24 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:44:24 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736639064394
2025-01-11 18:44:24 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:44:24 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736639064394]
2025-01-11 18:44:24 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/500/4lo10s4c/websocket
2025-01-11 18:44:24 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/500/4lo10s4c/websocket
2025-01-11 18:44:24 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:44:24 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/500/4lo10s4c/websocket
2025-01-11 18:44:24 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:44:24 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:44:24 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/500/4lo10s4c/websocket
2025-01-11 18:44:24 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/500/4lo10s4c/websocket]
2025-01-11 18:44:24 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/500/4lo10s4c/websocket - Origin: http://localhost:5173
2025-01-11 18:44:24 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/500/4lo10s4c/websocket", parameters={}
2025-01-11 18:44:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:44:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/500/4lo10s4c/websocket
2025-01-11 18:44:24 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 18:44:24 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/500/4lo10s4c/websocket]
2025-01-11 18:44:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=4lo10s4c]
2025-01-11 18:44:24 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:44:24 [clientInboundChannel-89] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=4lo10s4c
2025-01-11 18:44:28 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=4lo10s4c] closed with CloseStatus[code=1000, reason=null]
2025-01-11 18:44:28 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session 4lo10s4c
2025-01-11 18:44:28 [clientInboundChannel-91] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=4lo10s4c
2025-01-11 18:44:28 [clientOutboundChannel-65] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=4lo10s4c}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=4lo10s4c}]
2025-01-11 18:44:29 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 18:44:29 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 18:44:29 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 18:44:29 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:44:29 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 18:44:29 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:44:29 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:44:29 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736639069642
2025-01-11 18:44:29 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:44:29 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 18:44:29 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:44:29 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 18:44:29 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:44:29 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:44:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:44:29 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:44:29 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736639069642
2025-01-11 18:44:29 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736639069642]
2025-01-11 18:44:29 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 18:44:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736639069642", parameters={t:[1736639069642]}
2025-01-11 18:44:29 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:44:29 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:44:29 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 18:44:29 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 18:44:29 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 18:44:29 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 18:44:29 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 18:44:29 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 18:44:29 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 18:44:29 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 18:44:29 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 18:44:29 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 18:44:29 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 18:44:29 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 18:44:29 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 18:44:29 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 18:44:29 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:44:29 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:44:29 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 18:44:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 18:44:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:44:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736639069642
2025-01-11 18:44:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 18:44:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:44:29 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736639069642]
2025-01-11 18:44:29 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 16ms
2025-01-11 18:44:29 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 18:44:29 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:44:29 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 18:44:29 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:44:29 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 18:44:29 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/946/hjbcdbhz/websocket
2025-01-11 18:44:29 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/946/hjbcdbhz/websocket
2025-01-11 18:44:29 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:44:29 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 58ms
2025-01-11 18:44:29 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/946/hjbcdbhz/websocket
2025-01-11 18:44:29 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 18:44:29 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:44:29 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:44:29 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 18:44:29 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:44:29 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 18:44:29 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:44:29 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/946/hjbcdbhz/websocket
2025-01-11 18:44:29 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/946/hjbcdbhz/websocket]
2025-01-11 18:44:29 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/946/hjbcdbhz/websocket - Origin: http://localhost:5173
2025-01-11 18:44:29 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/946/hjbcdbhz/websocket", parameters={}
2025-01-11 18:44:29 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:44:29 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/946/hjbcdbhz/websocket
2025-01-11 18:44:29 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 18:44:29 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/946/hjbcdbhz/websocket]
2025-01-11 18:44:29 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=hjbcdbhz]
2025-01-11 18:44:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:44:29 [clientInboundChannel-88] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=hjbcdbhz
2025-01-11 18:44:29 [clientInboundChannel-89] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=hjbcdbhz
2025-01-11 18:44:30 [MessageBroker-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [1tvwjojh]
2025-01-11 18:44:33 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/channels
2025-01-11 18:44:33 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: POST /api/channels
2025-01-11 18:44:33 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:44:33 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:44:33 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:44:33 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:44:33 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for POST /api/channels
2025-01-11 18:44:33 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/channels
2025-01-11 18:44:33 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [POST /api/channels]
2025-01-11 18:44:33 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: POST /api/channels - Origin: http://localhost:5173
2025-01-11 18:44:33 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/channels", parameters={}
2025-01-11 18:44:33 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#createChannel(ChannelDTO, String)
2025-01-11 18:44:33 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ChannelDTO(id=null, name=1, description=null, type=PUBLIC, createdBy=null, createdAt=null, memberIds (truncated)...]
2025-01-11 18:44:33 [http-nio-8080-exec-5] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.gauntletai.agustinbiondi.chatgenius.dto.ChannelDTO> com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController.createChannel(com.gauntletai.agustinbiondi.chatgenius.dto.ChannelDTO,java.lang.String): [Field error in object 'channelDTO' on field 'name': rejected value [1]; codes [Size.channelDTO.name,Size.name,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [channelDTO.name,name]; arguments []; default message [name],50,3]; default message [Channel name must be between 3 and 50 characters]] ]
2025-01-11 18:44:33 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 18:44:33 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: POST /api/channels, payload={"name":"1","type":"PUBLIC","memberIds":[]}]
2025-01-11 18:44:33 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-01-11 18:44:33 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:44:33 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=hjbcdbhz] closed with CloseStatus[code=1000, reason=null]
2025-01-11 18:44:33 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session hjbcdbhz
2025-01-11 18:44:33 [clientInboundChannel-91] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=hjbcdbhz
2025-01-11 18:44:33 [clientOutboundChannel-59] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=hjbcdbhz}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=hjbcdbhz}]
2025-01-11 18:44:34 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736639074574
2025-01-11 18:44:34 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 18:44:34 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:44:34 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 18:44:34 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:44:34 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:44:34 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736639074574
2025-01-11 18:44:34 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736639074574]
2025-01-11 18:44:34 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 18:44:34 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736639074574", parameters={t:[1736639074574]}
2025-01-11 18:44:34 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:44:34 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736639074574
2025-01-11 18:44:34 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:44:34 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736639074574]
2025-01-11 18:44:34 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/919/gcxseted/websocket
2025-01-11 18:44:34 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/919/gcxseted/websocket
2025-01-11 18:44:34 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:44:34 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/919/gcxseted/websocket
2025-01-11 18:44:34 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:44:34 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:44:34 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/919/gcxseted/websocket
2025-01-11 18:44:34 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/919/gcxseted/websocket]
2025-01-11 18:44:34 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/919/gcxseted/websocket - Origin: http://localhost:5173
2025-01-11 18:44:34 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/919/gcxseted/websocket", parameters={}
2025-01-11 18:44:34 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:44:34 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/919/gcxseted/websocket
2025-01-11 18:44:34 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 18:44:34 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/919/gcxseted/websocket]
2025-01-11 18:44:34 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=gcxseted]
2025-01-11 18:44:34 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:44:34 [clientInboundChannel-92] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=gcxseted
2025-01-11 18:44:35 [MessageBroker-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [4lo10s4c]
2025-01-11 18:44:40 [MessageBroker-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [hjbcdbhz]
2025-01-11 18:47:58 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=gcxseted] closed with CloseStatus[code=1000, reason=null]
2025-01-11 18:47:58 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session gcxseted
2025-01-11 18:47:58 [clientInboundChannel-97] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=gcxseted
2025-01-11 18:47:58 [clientOutboundChannel-67] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=gcxseted}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=gcxseted}]
2025-01-11 18:48:00 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 18:48:00 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 18:48:00 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:48:00 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 18:48:00 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736639280457
2025-01-11 18:48:00 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:48:00 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 18:48:00 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 18:48:00 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:48:00 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:48:00 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:48:00 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 18:48:00 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:48:00 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:48:00 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:48:00 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:48:00 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736639280457
2025-01-11 18:48:00 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:48:00 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 18:48:00 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 18:48:00 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736639280457]
2025-01-11 18:48:00 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 18:48:00 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 18:48:00 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 18:48:00 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 18:48:00 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 18:48:00 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736639280457", parameters={t:[1736639280457]}
2025-01-11 18:48:00 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 18:48:00 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:48:00 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:48:00 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736639280457
2025-01-11 18:48:00 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 18:48:00 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:48:00 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 18:48:00 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 18:48:00 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:48:00 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 18:48:00 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736639280457]
2025-01-11 18:48:00 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 18:48:00 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 18:48:00 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 18:48:00 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 18:48:00 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:48:00 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 18:48:00 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 18:48:00 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/933/bp4k0ojf/websocket
2025-01-11 18:48:00 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/933/bp4k0ojf/websocket
2025-01-11 18:48:00 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:48:00 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 26ms
2025-01-11 18:48:00 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 40ms
2025-01-11 18:48:00 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 18:48:00 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/933/bp4k0ojf/websocket
2025-01-11 18:48:00 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 18:48:00 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:48:00 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:48:00 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:48:00 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 18:48:00 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 18:48:00 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:48:00 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:48:00 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 18:48:00 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 18:48:00 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:48:00 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/933/bp4k0ojf/websocket
2025-01-11 18:48:00 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/933/bp4k0ojf/websocket]
2025-01-11 18:48:00 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/933/bp4k0ojf/websocket - Origin: http://localhost:5173
2025-01-11 18:48:00 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/933/bp4k0ojf/websocket", parameters={}
2025-01-11 18:48:00 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:48:00 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/933/bp4k0ojf/websocket
2025-01-11 18:48:00 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 18:48:00 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/933/bp4k0ojf/websocket]
2025-01-11 18:48:00 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=bp4k0ojf]
2025-01-11 18:48:00 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:48:00 [clientInboundChannel-100] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=bp4k0ojf
2025-01-11 18:48:00 [clientInboundChannel-103] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=bp4k0ojf
2025-01-11 18:48:05 [MessageBroker-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [gcxseted]
2025-01-11 18:48:16 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=bp4k0ojf] closed with CloseStatus[code=1000, reason=null]
2025-01-11 18:48:16 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session bp4k0ojf
2025-01-11 18:48:16 [clientInboundChannel-98] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=bp4k0ojf
2025-01-11 18:48:16 [clientOutboundChannel-69] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=bp4k0ojf}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=bp4k0ojf}]
2025-01-11 18:48:18 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 18:48:18 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 18:48:18 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 18:48:18 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736639298001
2025-01-11 18:48:18 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 18:48:18 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:48:18 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:48:18 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 18:48:18 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:48:18 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:48:18 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:48:18 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 18:48:18 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:48:18 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:48:18 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736639298001
2025-01-11 18:48:18 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:48:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:48:18 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736639298001]
2025-01-11 18:48:18 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 18:48:18 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736639298001", parameters={t:[1736639298001]}
2025-01-11 18:48:18 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:48:18 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:48:18 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 18:48:18 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 18:48:18 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:48:18 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 18:48:18 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 18:48:18 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 18:48:18 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 18:48:18 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 18:48:18 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 18:48:18 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 18:48:18 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 18:48:18 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 18:48:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 18:48:18 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736639298001
2025-01-11 18:48:18 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 18:48:18 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 18:48:18 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:48:18 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:48:18 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:48:18 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736639298001]
2025-01-11 18:48:18 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 18:48:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 18:48:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 18:48:18 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/392/hdxlrahu/websocket
2025-01-11 18:48:18 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/392/hdxlrahu/websocket
2025-01-11 18:48:18 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 40ms
2025-01-11 18:48:18 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 18:48:18 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:48:18 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 18:48:18 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:48:18 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 18:48:18 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:48:18 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/392/hdxlrahu/websocket
2025-01-11 18:48:18 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:48:18 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 138ms
2025-01-11 18:48:18 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 18:48:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:48:18 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:48:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 18:48:18 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:48:18 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 18:48:18 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/392/hdxlrahu/websocket
2025-01-11 18:48:18 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/392/hdxlrahu/websocket]
2025-01-11 18:48:18 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/392/hdxlrahu/websocket - Origin: http://localhost:5173
2025-01-11 18:48:18 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/392/hdxlrahu/websocket", parameters={}
2025-01-11 18:48:18 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:48:18 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/392/hdxlrahu/websocket
2025-01-11 18:48:18 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 18:48:18 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/392/hdxlrahu/websocket]
2025-01-11 18:48:18 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=hdxlrahu]
2025-01-11 18:48:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:48:18 [clientInboundChannel-99] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=hdxlrahu
2025-01-11 18:48:18 [clientInboundChannel-103] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=hdxlrahu
2025-01-11 18:48:18 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=hdxlrahu] closed with CloseStatus[code=1000, reason=null]
2025-01-11 18:48:18 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session hdxlrahu
2025-01-11 18:48:18 [clientInboundChannel-101] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=hdxlrahu
2025-01-11 18:48:18 [clientOutboundChannel-71] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=hdxlrahu}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=hdxlrahu}]
2025-01-11 18:48:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 18:48:20 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736639300194
2025-01-11 18:48:20 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 18:48:20 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 18:48:20 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 18:48:20 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 18:48:20 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:48:20 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:48:20 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 18:48:20 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:48:20 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:48:20 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:48:20 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:48:20 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736639300194
2025-01-11 18:48:20 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:48:20 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736639300194]
2025-01-11 18:48:20 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 18:48:20 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736639300194", parameters={t:[1736639300194]}
2025-01-11 18:48:20 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:48:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:48:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:48:20 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736639300194
2025-01-11 18:48:20 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:48:20 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736639300194]
2025-01-11 18:48:20 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:48:20 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 18:48:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 18:48:20 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 18:48:20 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 18:48:20 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 18:48:20 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 18:48:20 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:48:20 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 18:48:20 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 18:48:20 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:48:20 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 18:48:20 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 18:48:20 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 18:48:20 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 18:48:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 18:48:20 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 18:48:20 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 18:48:20 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:48:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 18:48:20 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/306/fuzdnspc/websocket
2025-01-11 18:48:20 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/306/fuzdnspc/websocket
2025-01-11 18:48:20 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:48:20 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/306/fuzdnspc/websocket
2025-01-11 18:48:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 18:48:20 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:48:20 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 30ms
2025-01-11 18:48:20 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:48:20 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 18:48:20 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:48:20 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/306/fuzdnspc/websocket
2025-01-11 18:48:20 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 18:48:20 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/306/fuzdnspc/websocket]
2025-01-11 18:48:20 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/306/fuzdnspc/websocket - Origin: http://localhost:5173
2025-01-11 18:48:20 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/306/fuzdnspc/websocket", parameters={}
2025-01-11 18:48:20 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:48:20 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 18:48:20 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:48:20 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 54ms
2025-01-11 18:48:20 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 18:48:20 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/306/fuzdnspc/websocket
2025-01-11 18:48:20 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:48:20 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 18:48:20 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:48:20 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 18:48:20 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 18:48:20 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/306/fuzdnspc/websocket]
2025-01-11 18:48:20 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=fuzdnspc]
2025-01-11 18:48:20 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:48:20 [clientInboundChannel-96] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=fuzdnspc
2025-01-11 18:48:20 [clientInboundChannel-103] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=fuzdnspc
2025-01-11 18:48:22 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=fuzdnspc] closed with CloseStatus[code=1000, reason=null]
2025-01-11 18:48:22 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session fuzdnspc
2025-01-11 18:48:22 [clientInboundChannel-100] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=fuzdnspc
2025-01-11 18:48:22 [clientOutboundChannel-73] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=fuzdnspc}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=fuzdnspc}]
2025-01-11 18:48:23 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 18:48:23 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 18:48:23 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 18:48:23 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736639303610
2025-01-11 18:48:23 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:48:23 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:48:23 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 18:48:23 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:48:23 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 18:48:23 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:48:23 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 18:48:23 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:48:23 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:48:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:48:23 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:48:23 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736639303610
2025-01-11 18:48:23 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736639303610]
2025-01-11 18:48:23 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 18:48:23 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736639303610", parameters={t:[1736639303610]}
2025-01-11 18:48:23 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:48:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:48:23 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:48:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736639303610
2025-01-11 18:48:23 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 18:48:23 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 18:48:23 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:48:23 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 18:48:23 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 18:48:23 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736639303610]
2025-01-11 18:48:23 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 18:48:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 18:48:23 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 18:48:23 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:48:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 18:48:23 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/820/rthemqbo/websocket
2025-01-11 18:48:23 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:48:23 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 18:48:23 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 18:48:23 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 18:48:23 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/820/rthemqbo/websocket
2025-01-11 18:48:23 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 18:48:23 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:48:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 18:48:23 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/820/rthemqbo/websocket
2025-01-11 18:48:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 18:48:23 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:48:23 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 18:48:23 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:48:23 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:48:23 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 18:48:23 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 28ms
2025-01-11 18:48:23 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 18:48:23 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/820/rthemqbo/websocket
2025-01-11 18:48:23 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/820/rthemqbo/websocket]
2025-01-11 18:48:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:48:23 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/820/rthemqbo/websocket - Origin: http://localhost:5173
2025-01-11 18:48:23 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/820/rthemqbo/websocket", parameters={}
2025-01-11 18:48:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 18:48:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:48:23 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:48:23 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 18:48:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/820/rthemqbo/websocket
2025-01-11 18:48:23 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 18:48:23 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/820/rthemqbo/websocket]
2025-01-11 18:48:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=rthemqbo]
2025-01-11 18:48:23 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 18:48:23 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:48:23 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 51ms
2025-01-11 18:48:23 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 18:48:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:48:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 18:48:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:48:23 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 18:48:23 [clientInboundChannel-102] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=rthemqbo
2025-01-11 18:48:23 [clientInboundChannel-98] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=rthemqbo
2025-01-11 18:48:25 [MessageBroker-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 2 sessions: [bp4k0ojf, hdxlrahu]
2025-01-11 18:48:30 [MessageBroker-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [fuzdnspc]
2025-01-11 18:48:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/channels
2025-01-11 18:48:36 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: POST /api/channels
2025-01-11 18:48:36 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:48:36 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:48:36 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:48:36 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:48:36 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for POST /api/channels
2025-01-11 18:48:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/channels
2025-01-11 18:48:36 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [POST /api/channels]
2025-01-11 18:48:36 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: POST /api/channels - Origin: http://localhost:5173
2025-01-11 18:48:36 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/channels", parameters={}
2025-01-11 18:48:36 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#createChannel(ChannelDTO, String)
2025-01-11 18:48:36 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ChannelDTO(id=null, name=1, description=null, type=PUBLIC, createdBy=null, createdAt=null, memberIds (truncated)...]
2025-01-11 18:48:36 [http-nio-8080-exec-9] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.gauntletai.agustinbiondi.chatgenius.dto.ChannelDTO> com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController.createChannel(com.gauntletai.agustinbiondi.chatgenius.dto.ChannelDTO,java.lang.String): [Field error in object 'channelDTO' on field 'name': rejected value [1]; codes [Size.channelDTO.name,Size.name,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [channelDTO.name,name]; arguments []; default message [name],50,3]; default message [Channel name must be between 3 and 50 characters]] ]
2025-01-11 18:48:36 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 18:48:36 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: POST /api/channels, payload={"name":"1","type":"PUBLIC","memberIds":[]}]
2025-01-11 18:48:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-01-11 18:48:36 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:48:37 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=rthemqbo] closed with CloseStatus[code=1000, reason=null]
2025-01-11 18:48:37 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session rthemqbo
2025-01-11 18:48:37 [clientInboundChannel-99] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=rthemqbo
2025-01-11 18:48:37 [clientOutboundChannel-67] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=rthemqbo}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=rthemqbo}]
2025-01-11 18:48:38 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736639318437
2025-01-11 18:48:38 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 18:48:38 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:48:38 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 18:48:38 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:48:38 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:48:38 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736639318437
2025-01-11 18:48:38 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736639318437]
2025-01-11 18:48:38 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 18:48:38 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736639318437", parameters={t:[1736639318437]}
2025-01-11 18:48:38 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:48:38 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736639318437
2025-01-11 18:48:38 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:48:38 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736639318437]
2025-01-11 18:48:38 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/136/jbrpcgjd/websocket
2025-01-11 18:48:38 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/136/jbrpcgjd/websocket
2025-01-11 18:48:38 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:48:38 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/136/jbrpcgjd/websocket
2025-01-11 18:48:38 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:48:38 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:48:38 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/136/jbrpcgjd/websocket
2025-01-11 18:48:38 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/136/jbrpcgjd/websocket]
2025-01-11 18:48:38 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/136/jbrpcgjd/websocket - Origin: http://localhost:5173
2025-01-11 18:48:38 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/136/jbrpcgjd/websocket", parameters={}
2025-01-11 18:48:38 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:48:38 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/136/jbrpcgjd/websocket
2025-01-11 18:48:38 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 18:48:38 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/136/jbrpcgjd/websocket]
2025-01-11 18:48:38 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=jbrpcgjd]
2025-01-11 18:48:38 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:48:38 [clientInboundChannel-97] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=jbrpcgjd
2025-01-11 18:48:45 [MessageBroker-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [rthemqbo]
2025-01-11 18:49:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=jbrpcgjd] closed with CloseStatus[code=1000, reason=null]
2025-01-11 18:49:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session jbrpcgjd
2025-01-11 18:49:10 [clientInboundChannel-101] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=jbrpcgjd
2025-01-11 18:49:10 [clientOutboundChannel-69] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=jbrpcgjd}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=jbrpcgjd}]
2025-01-11 18:49:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 18:49:12 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 18:49:12 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:49:12 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736639352257
2025-01-11 18:49:12 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:49:12 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 18:49:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 18:49:12 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:49:12 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 18:49:12 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 18:49:12 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:49:12 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:49:12 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:49:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:49:12 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:49:12 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736639352257
2025-01-11 18:49:12 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736639352257]
2025-01-11 18:49:12 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 18:49:12 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736639352257", parameters={t:[1736639352257]}
2025-01-11 18:49:12 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:49:12 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736639352257
2025-01-11 18:49:12 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:49:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:49:12 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736639352257]
2025-01-11 18:49:12 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:49:12 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 18:49:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 18:49:12 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 18:49:12 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 18:49:12 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 18:49:12 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 18:49:12 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 18:49:12 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:49:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/831/dpib21xd/websocket
2025-01-11 18:49:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 18:49:12 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:49:12 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 18:49:12 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/831/dpib21xd/websocket
2025-01-11 18:49:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 18:49:12 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:49:12 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 18:49:12 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/831/dpib21xd/websocket
2025-01-11 18:49:12 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:49:12 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 18:49:12 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:49:12 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 18:49:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/831/dpib21xd/websocket
2025-01-11 18:49:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 18:49:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 18:49:12 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/831/dpib21xd/websocket]
2025-01-11 18:49:12 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 18:49:12 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/831/dpib21xd/websocket - Origin: http://localhost:5173
2025-01-11 18:49:12 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:49:12 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/831/dpib21xd/websocket", parameters={}
2025-01-11 18:49:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 18:49:12 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:49:12 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 19ms
2025-01-11 18:49:12 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 18:49:12 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:49:12 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/831/dpib21xd/websocket
2025-01-11 18:49:12 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 18:49:12 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:49:12 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 18:49:12 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 18:49:12 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/831/dpib21xd/websocket]
2025-01-11 18:49:12 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 44ms
2025-01-11 18:49:12 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 18:49:12 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=dpib21xd]
2025-01-11 18:49:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:49:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 18:49:12 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:49:12 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 18:49:12 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:49:12 [clientInboundChannel-99] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=dpib21xd
2025-01-11 18:49:12 [clientInboundChannel-103] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=dpib21xd
2025-01-11 18:49:19 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/channels
2025-01-11 18:49:19 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: POST /api/channels
2025-01-11 18:49:19 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:49:19 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:49:19 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:49:19 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:49:20 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for POST /api/channels
2025-01-11 18:49:20 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/channels
2025-01-11 18:49:20 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [POST /api/channels]
2025-01-11 18:49:20 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: POST /api/channels - Origin: http://localhost:5173
2025-01-11 18:49:20 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/channels", parameters={}
2025-01-11 18:49:20 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#createChannel(ChannelDTO, String)
2025-01-11 18:49:20 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ChannelDTO(id=null, name=1, description=null, type=PUBLIC, createdBy=null, createdAt=null, memberIds (truncated)...]
2025-01-11 18:49:20 [http-nio-8080-exec-1] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.gauntletai.agustinbiondi.chatgenius.dto.ChannelDTO> com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController.createChannel(com.gauntletai.agustinbiondi.chatgenius.dto.ChannelDTO,java.lang.String): [Field error in object 'channelDTO' on field 'name': rejected value [1]; codes [Size.channelDTO.name,Size.name,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [channelDTO.name,name]; arguments []; default message [name],50,3]; default message [Channel name must be between 3 and 50 characters]] ]
2025-01-11 18:49:20 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 18:49:20 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: POST /api/channels, payload={"name":"1","type":"PUBLIC","memberIds":[]}]
2025-01-11 18:49:20 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-01-11 18:49:20 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:49:20 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=dpib21xd] closed with CloseStatus[code=1000, reason=null]
2025-01-11 18:49:20 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session dpib21xd
2025-01-11 18:49:20 [clientInboundChannel-100] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=dpib21xd
2025-01-11 18:49:20 [clientOutboundChannel-75] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=dpib21xd}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=dpib21xd}]
2025-01-11 18:49:20 [MessageBroker-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [jbrpcgjd]
2025-01-11 18:49:21 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736639361629
2025-01-11 18:49:21 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 18:49:21 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:49:21 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 18:49:21 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:49:21 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:49:21 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736639361629
2025-01-11 18:49:21 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736639361629]
2025-01-11 18:49:21 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 18:49:21 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736639361629", parameters={t:[1736639361629]}
2025-01-11 18:49:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:49:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736639361629
2025-01-11 18:49:21 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:49:21 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736639361629]
2025-01-11 18:49:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/279/apfdaozy/websocket
2025-01-11 18:49:21 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/279/apfdaozy/websocket
2025-01-11 18:49:21 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:49:21 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/279/apfdaozy/websocket
2025-01-11 18:49:21 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:49:21 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:49:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/279/apfdaozy/websocket
2025-01-11 18:49:21 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/279/apfdaozy/websocket]
2025-01-11 18:49:21 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/279/apfdaozy/websocket - Origin: http://localhost:5173
2025-01-11 18:49:21 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/279/apfdaozy/websocket", parameters={}
2025-01-11 18:49:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:49:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/279/apfdaozy/websocket
2025-01-11 18:49:21 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 18:49:21 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/279/apfdaozy/websocket]
2025-01-11 18:49:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=apfdaozy]
2025-01-11 18:49:21 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:49:21 [clientInboundChannel-99] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=apfdaozy
2025-01-11 18:49:25 [MessageBroker-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [dpib21xd]
2025-01-11 18:52:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=apfdaozy] closed with CloseStatus[code=1000, reason=null]
2025-01-11 18:52:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session apfdaozy
2025-01-11 18:52:08 [clientInboundChannel-105] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=apfdaozy
2025-01-11 18:52:08 [clientOutboundChannel-77] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=apfdaozy}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=apfdaozy}]
2025-01-11 18:52:09 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 18:52:09 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 18:52:09 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736639529862
2025-01-11 18:52:09 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 18:52:09 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 18:52:09 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:52:09 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 18:52:09 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:52:09 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:52:09 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:52:09 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 18:52:09 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:52:09 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736639529862
2025-01-11 18:52:09 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736639529862]
2025-01-11 18:52:09 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:52:09 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 18:52:09 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736639529862", parameters={t:[1736639529862]}
2025-01-11 18:52:09 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:52:09 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:52:09 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:52:09 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:52:09 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736639529862
2025-01-11 18:52:09 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:52:09 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736639529862]
2025-01-11 18:52:09 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/254/cw2qku5g/websocket
2025-01-11 18:52:09 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/254/cw2qku5g/websocket
2025-01-11 18:52:09 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:52:09 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:52:09 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/254/cw2qku5g/websocket
2025-01-11 18:52:09 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 18:52:09 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:52:09 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:52:09 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:52:09 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 18:52:09 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 18:52:09 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/254/cw2qku5g/websocket
2025-01-11 18:52:09 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 18:52:09 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 18:52:09 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 18:52:09 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 18:52:09 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/254/cw2qku5g/websocket]
2025-01-11 18:52:09 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 18:52:09 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/254/cw2qku5g/websocket - Origin: http://localhost:5173
2025-01-11 18:52:09 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 18:52:09 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 18:52:09 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/254/cw2qku5g/websocket", parameters={}
2025-01-11 18:52:09 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 18:52:09 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 18:52:09 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:52:09 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 18:52:09 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 18:52:09 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:52:09 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 18:52:09 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 18:52:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:52:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/254/cw2qku5g/websocket
2025-01-11 18:52:10 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 18:52:10 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 18:52:10 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/254/cw2qku5g/websocket]
2025-01-11 18:52:10 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 25ms
2025-01-11 18:52:10 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 18:52:10 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:52:10 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 18:52:10 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:52:10 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 18:52:10 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 36ms
2025-01-11 18:52:10 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 18:52:10 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:52:10 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 18:52:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=cw2qku5g]
2025-01-11 18:52:10 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:52:10 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 18:52:10 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:52:10 [clientInboundChannel-108] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=cw2qku5g
2025-01-11 18:52:10 [clientInboundChannel-111] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=cw2qku5g
2025-01-11 18:52:15 [MessageBroker-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [apfdaozy]
2025-01-11 18:55:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=cw2qku5g] closed with CloseStatus[code=1000, reason=null]
2025-01-11 18:55:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session cw2qku5g
2025-01-11 18:55:08 [clientInboundChannel-113] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=cw2qku5g
2025-01-11 18:55:08 [clientOutboundChannel-79] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=cw2qku5g}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=cw2qku5g}]
2025-01-11 18:55:10 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users
2025-01-11 18:55:10 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736639710179
2025-01-11 18:55:10 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 18:55:10 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:55:10 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 18:55:10 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 18:55:10 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:55:10 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 18:55:10 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:55:10 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736639710179
2025-01-11 18:55:10 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:55:10 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736639710179]
2025-01-11 18:55:10 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 18:55:10 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:55:10 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 18:55:10 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736639710179", parameters={t:[1736639710179]}
2025-01-11 18:55:10 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 18:55:10 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:55:10 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:55:10 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736639710179
2025-01-11 18:55:10 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:55:10 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:55:10 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736639710179]
2025-01-11 18:55:10 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:55:10 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:55:10 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/768/nmgwen50/websocket
2025-01-11 18:55:10 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/768/nmgwen50/websocket
2025-01-11 18:55:10 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:55:10 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/768/nmgwen50/websocket
2025-01-11 18:55:10 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:55:10 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:55:10 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:55:10 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:55:10 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/768/nmgwen50/websocket
2025-01-11 18:55:10 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 18:55:10 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/768/nmgwen50/websocket]
2025-01-11 18:55:10 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 18:55:10 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 18:55:10 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 18:55:10 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 18:55:10 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/768/nmgwen50/websocket - Origin: http://localhost:5173
2025-01-11 18:55:10 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 18:55:10 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 18:55:10 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/768/nmgwen50/websocket", parameters={}
2025-01-11 18:55:10 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 18:55:10 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 18:55:10 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 18:55:10 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 18:55:10 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 18:55:10 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 18:55:10 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 18:55:10 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:55:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:55:10 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 18:55:10 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 18:55:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/768/nmgwen50/websocket
2025-01-11 18:55:10 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 18:55:10 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 18:55:10 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 16ms
2025-01-11 18:55:10 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 18:55:10 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 18:55:10 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/768/nmgwen50/websocket]
2025-01-11 18:55:10 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:55:10 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 18:55:10 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:55:10 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 18:55:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=nmgwen50]
2025-01-11 18:55:10 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:55:10 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 45ms
2025-01-11 18:55:10 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 18:55:10 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 18:55:10 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 18:55:10 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:55:10 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 18:55:10 [clientInboundChannel-116] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=nmgwen50
2025-01-11 18:55:10 [clientInboundChannel-119] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=nmgwen50
2025-01-11 18:55:15 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [cw2qku5g]
2025-01-11 18:57:51 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/channels
2025-01-11 18:57:51 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: POST /api/channels
2025-01-11 18:57:51 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 18:57:51 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 18:57:51 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:57:51 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 18:57:51 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for POST /api/channels
2025-01-11 18:57:51 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/channels
2025-01-11 18:57:51 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [POST /api/channels]
2025-01-11 18:57:51 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: POST /api/channels - Origin: http://localhost:5173
2025-01-11 18:57:51 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/channels", parameters={}
2025-01-11 18:57:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#createChannel(ChannelDTO, String)
2025-01-11 18:57:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ChannelDTO(id=null, name=1, description=null, type=PUBLIC, createdBy=null, createdAt=null, memberIds (truncated)...]
2025-01-11 18:57:51 [http-nio-8080-exec-7] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.gauntletai.agustinbiondi.chatgenius.dto.ChannelDTO> com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController.createChannel(com.gauntletai.agustinbiondi.chatgenius.dto.ChannelDTO,java.lang.String): [Field error in object 'channelDTO' on field 'name': rejected value [1]; codes [Size.channelDTO.name,Size.name,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [channelDTO.name,name]; arguments []; default message [name],50,3]; default message [Channel name must be between 3 and 50 characters]] ]
2025-01-11 18:57:51 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-01-11 18:57:51 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: POST /api/channels, payload={"name":"1","type":"PUBLIC","memberIds":[]}]
2025-01-11 18:57:51 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-01-11 18:57:51 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:57:51 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=nmgwen50] closed with CloseStatus[code=1000, reason=null]
2025-01-11 18:57:51 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session nmgwen50
2025-01-11 18:57:52 [clientInboundChannel-121] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=nmgwen50
2025-01-11 18:57:52 [clientOutboundChannel-81] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=nmgwen50}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=nmgwen50}]
2025-01-11 18:57:53 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736639873272
2025-01-11 18:57:53 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 18:57:53 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:57:53 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 18:57:53 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:57:53 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:57:53 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736639873272
2025-01-11 18:57:53 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736639873272]
2025-01-11 18:57:53 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 18:57:53 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736639873272", parameters={t:[1736639873272]}
2025-01-11 18:57:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:57:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736639873272
2025-01-11 18:57:53 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 18:57:53 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736639873272]
2025-01-11 18:57:53 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/177/db0ijxex/websocket
2025-01-11 18:57:53 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/177/db0ijxex/websocket
2025-01-11 18:57:53 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 18:57:53 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/177/db0ijxex/websocket
2025-01-11 18:57:53 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 18:57:53 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 18:57:53 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/177/db0ijxex/websocket
2025-01-11 18:57:53 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/177/db0ijxex/websocket]
2025-01-11 18:57:53 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/177/db0ijxex/websocket - Origin: http://localhost:5173
2025-01-11 18:57:53 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/177/db0ijxex/websocket", parameters={}
2025-01-11 18:57:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 18:57:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/177/db0ijxex/websocket
2025-01-11 18:57:53 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 18:57:53 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/177/db0ijxex/websocket]
2025-01-11 18:57:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=db0ijxex]
2025-01-11 18:57:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 18:57:53 [clientInboundChannel-124] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=db0ijxex
2025-01-11 18:58:00 [MessageBroker-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [nmgwen50]
2025-01-11 18:58:04 [MessageBroker-2] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 50 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(50)-CONNECTED(39)-DISCONNECT(8)], stompBrokerRelay[null], inboundChannel[pool size = 6, active threads = 0, queued tasks = 0, completed tasks = 390], outboundChannel[pool size = 2, active threads = 0, queued tasks = 0, completed tasks = 97], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 2, completed tasks = 1292]
2025-01-11 19:00:16 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=db0ijxex] closed with CloseStatus[code=1000, reason=null]
2025-01-11 19:00:16 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session db0ijxex
2025-01-11 19:00:16 [clientInboundChannel-127] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=db0ijxex
2025-01-11 19:00:16 [clientOutboundChannel-83] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=db0ijxex}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=db0ijxex}]
2025-01-11 19:00:18 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 19:00:18 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 19:00:18 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 19:00:18 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 19:00:18 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 19:00:18 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 19:00:18 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736640018012
2025-01-11 19:00:18 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 19:00:18 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 19:00:18 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 19:00:18 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 19:00:18 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 19:00:18 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 19:00:18 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 19:00:18 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736640018012
2025-01-11 19:00:18 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736640018012]
2025-01-11 19:00:18 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 19:00:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 19:00:18 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 19:00:18 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736640018012", parameters={t:[1736640018012]}
2025-01-11 19:00:18 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 19:00:18 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736640018012
2025-01-11 19:00:18 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 19:00:18 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 19:00:18 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 19:00:18 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 19:00:18 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 19:00:18 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 19:00:18 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 19:00:18 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736640018012]
2025-01-11 19:00:18 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 19:00:18 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 19:00:18 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 19:00:18 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 19:00:18 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 19:00:18 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 19:00:18 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 19:00:18 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 19:00:18 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 19:00:18 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 19:00:18 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 19:00:18 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 19:00:18 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 19:00:18 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 19:00:18 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/779/f5cuiaaw/websocket
2025-01-11 19:00:18 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/779/f5cuiaaw/websocket
2025-01-11 19:00:18 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 19:00:18 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/779/f5cuiaaw/websocket
2025-01-11 19:00:18 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 19:00:18 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 48ms
2025-01-11 19:00:18 [http-nio-8080-exec-10] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 19:00:18 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 19:00:18 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 19:00:18 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 19:00:18 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/779/f5cuiaaw/websocket
2025-01-11 19:00:18 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 19:00:18 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/779/f5cuiaaw/websocket]
2025-01-11 19:00:18 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 19:00:18 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 19:00:18 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/779/f5cuiaaw/websocket - Origin: http://localhost:5173
2025-01-11 19:00:18 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/779/f5cuiaaw/websocket", parameters={}
2025-01-11 19:00:18 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 62ms
2025-01-11 19:00:18 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@13666880
2025-01-11 19:00:18 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 19:00:18 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 19:00:18 [http-nio-8080-exec-10] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/779/f5cuiaaw/websocket
2025-01-11 19:00:18 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 19:00:18 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 19:00:18 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 19:00:18 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 19:00:18 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/779/f5cuiaaw/websocket]
2025-01-11 19:00:18 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=f5cuiaaw]
2025-01-11 19:00:18 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 19:00:18 [clientInboundChannel-130] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=f5cuiaaw
2025-01-11 19:00:18 [clientInboundChannel-133] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=f5cuiaaw
2025-01-11 19:00:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/channels
2025-01-11 19:00:20 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: POST /api/channels
2025-01-11 19:00:20 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 19:00:20 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 19:00:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 19:00:20 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 19:00:20 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for POST /api/channels
2025-01-11 19:00:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/channels
2025-01-11 19:00:20 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [POST /api/channels]
2025-01-11 19:00:20 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: POST /api/channels - Origin: http://localhost:5173
2025-01-11 19:00:20 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/channels", parameters={}
2025-01-11 19:00:20 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#createChannel(ChannelDTO, String)
2025-01-11 19:00:20 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ChannelDTO(id=null, name=123, description=null, type=PUBLIC, createdBy=null, createdAt=null, memberI (truncated)...]
2025-01-11 19:00:20 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: POST , Controller: ChannelController.createChannel
2025-01-11 19:00:20 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: [ChannelDTO(id=null, name=123, description=null, type=PUBLIC, createdBy=null, createdAt=null, memberIds=[]), user_2rMjbsf5HEAsTOk08nq01mt3exa]
2025-01-11 19:00:20 [http-nio-8080-exec-8] INFO  c.g.a.c.service.ChannelServiceImpl - Creating channel with name: 123, creator: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 19:00:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 19:00:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        channels
        (created_at, created_by, description, name, type, id) 
    values
        (?, ?, ?, ?, ?, ?)
2025-01-11 19:00:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        cm1_0.id 
    from
        channel_memberships cm1_0 
    left join
        users u1_0 
            on u1_0.user_id=cm1_0.user_id 
    where
        cm1_0.channel_id=? 
        and u1_0.user_id=? 
    fetch
        first ? rows only
2025-01-11 19:00:20 [http-nio-8080-exec-8] DEBUG c.g.a.c.w.WebSocketEventHandler - Broadcasting channel created event for channel: 4b1755f5-a789-4724-ae84-e3a4b90feab5
2025-01-11 19:00:20 [http-nio-8080-exec-8] DEBUG org.springframework.web.SimpLogging - Processing MESSAGE destination=/topic/channels/events session=null payload={
  "type" : "CREATED",
  "channel" : {
    "id" : "4b1755f5-a789-4724-ae84-e...(truncated)
2025-01-11 19:00:20 [http-nio-8080-exec-8] DEBUG org.springframework.web.SimpLogging - Broadcasting to 1 sessions.
2025-01-11 19:00:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        channel_memberships
        (channel_id, joined_at, last_read_at, user_id, id) 
    values
        (?, ?, ?, ?, ?)
2025-01-11 19:00:20 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 19:00:20 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 19:00:20 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 19:00:20 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 19:00:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 19:00:20 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 19:00:20 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 19:00:20 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 19:00:20 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 19:00:20 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 19:00:20 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 19:00:20 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 19:00:20 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 19:00:20 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 19:00:20 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: POST , Duration: 170ms
2025-01-11 19:00:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 19:00:20 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,ChannelDTO(id=4b1755f5-a789-4724-ae84-e3a4b90feab5, name=123, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-12T00:00:20.745853Z, memberIds=[]),[]>
2025-01-11 19:00:20 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 19:00:20 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ChannelDTO(id=4b1755f5-a789-4724-ae84-e3a4b90feab5, name=123, description=null, type=PUBLIC, created (truncated)...]
2025-01-11 19:00:20 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 19:00:20 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: POST /api/channels, payload={"name":"123","type":"PUBLIC","memberIds":[]}]
2025-01-11 19:00:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 19:00:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 19:00:20 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 42ms
2025-01-11 19:00:20 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa]), ChannelDTO(id=4b1755f5-a789-4724-ae84-e3a4b90feab5, name=123, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-12T00:00:20.745853Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 19:00:20 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 19:00:20 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 19:00:20 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 19:00:20 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 19:00:20 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 19:00:20 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 19:00:20 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 19:00:20 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 19:00:20 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 19:00:20 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 19:00:20 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 19:00:20 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 19:00:20 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 19:00:20 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 19:00:20 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 19:00:20 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 19:00:20 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 19:00:20 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 19:00:20 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 19:00:20 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 19:00:20 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 19:00:20 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 32ms
2025-01-11 19:00:20 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa]), ChannelDTO(id=4b1755f5-a789-4724-ae84-e3a4b90feab5, name=123, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-12T00:00:20.745853Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 19:00:20 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 19:00:20 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 19:00:20 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 19:00:20 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 19:00:25 [MessageBroker-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [db0ijxex]
2025-01-11 19:02:40 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-01-11 19:02:40 [SpringApplicationShutdownHook] DEBUG o.s.w.s.s.t.s.WebSocketServerSockJsSession - Closing SockJS session f5cuiaaw with CloseStatus[code=1001, reason=null]
2025-01-11 19:02:40 [SpringApplicationShutdownHook] DEBUG o.s.w.s.a.NativeWebSocketSession - Closing StandardWebSocketSession[id=4a12e77e-6362-22c8-3378-01bd3f13fb60, uri=ws://localhost:8080/ws/779/f5cuiaaw/websocket]
2025-01-11 19:02:40 [SpringApplicationShutdownHook] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=f5cuiaaw] closed with CloseStatus[code=1001, reason=null]
2025-01-11 19:02:40 [SpringApplicationShutdownHook] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session f5cuiaaw
2025-01-11 19:02:40 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - Detected unsent DISCONNECT message. Processing anyway.
2025-01-11 19:02:40 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=f5cuiaaw
2025-01-11 19:02:40 [SpringApplicationShutdownHook] WARN  o.s.w.s.h.ExceptionWebSocketHandlerDecorator - Unhandled exception after connection closed for ExceptionWebSocketHandlerDecorator [delegate=LoggingWebSocketHandlerDecorator [delegate=SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]]]
org.springframework.messaging.MessageDeliveryException: Failed to send message to ExecutorSubscribableChannel[clientInboundChannel]
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:149)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:125)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.afterSessionEnded(StompSubProtocolHandler.java:685)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.clearSession(SubProtocolWebSocketHandler.java:531)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.afterConnectionClosed(SubProtocolWebSocketHandler.java:400)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.afterConnectionClosed(WebSocketHandlerDecorator.java:85)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.afterConnectionClosed(LoggingWebSocketHandlerDecorator.java:72)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.afterConnectionClosed(ExceptionWebSocketHandlerDecorator.java:78)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.close(AbstractSockJsSession.java:200)
	at org.springframework.web.socket.handler.WebSocketSessionDecorator.close(WebSocketSessionDecorator.java:160)
	at org.springframework.web.socket.handler.ConcurrentWebSocketSessionDecorator.close(ConcurrentWebSocketSessionDecorator.java:271)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.stop(SubProtocolWebSocketHandler.java:289)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.stop(SubProtocolWebSocketHandler.java:302)
	at org.springframework.context.support.DefaultLifecycleProcessor.doStop(DefaultLifecycleProcessor.java:344)
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.stop(DefaultLifecycleProcessor.java:483)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.context.support.DefaultLifecycleProcessor.stopBeans(DefaultLifecycleProcessor.java:313)
	at org.springframework.context.support.DefaultLifecycleProcessor.onClose(DefaultLifecycleProcessor.java:214)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1136)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1090)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.springframework.core.task.TaskRejectedException: ExecutorService in shutdown state did not accept task: org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask@5b673b39
	at org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor.execute(ThreadPoolTaskExecutor.java:365)
	at org.springframework.messaging.support.ExecutorSubscribableChannel.sendInternal(ExecutorSubscribableChannel.java:103)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:139)
	... 24 common frames omitted
Caused by: java.util.concurrent.RejectedExecutionException: Task org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask@5b673b39 rejected from org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor$1@452bcee[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 399]
	at java.base/java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2081)
	at java.base/java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:841)
	at java.base/java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1376)
	at org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor$1.execute(ThreadPoolTaskExecutor.java:269)
	at org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor.execute(ThreadPoolTaskExecutor.java:362)
	... 26 common frames omitted
2025-01-11 19:02:40 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-01-11 19:02:40 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-01-11 19:02:40 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5471182c]]
2025-01-11 19:02:40 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5471182c]
2025-01-11 19:02:40 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5471182c]
2025-01-11 19:02:40 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-01-11 19:02:40 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-01-11 19:02:40 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-01-11 19:02:41 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-11 19:02:41 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-01-11 19:02:41 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-01-11 19:02:58 [main] INFO  c.g.a.chatgenius.Application - Starting Application using Java 21.0.3 with PID 23800 (C:\Users\Agustin\Gauntlet\ChatGenius2\backend\build\classes\java\main started by Agustin in C:\Users\Agustin\Gauntlet\ChatGenius2)
2025-01-11 19:02:58 [main] DEBUG c.g.a.chatgenius.Application - Running with Spring Boot v3.2.2, Spring v6.1.3
2025-01-11 19:02:58 [main] INFO  c.g.a.chatgenius.Application - The following 1 profile is active: "dev"
2025-01-11 19:03:03 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-11 19:03:03 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 249 ms. Found 4 JPA repository interfaces.
2025-01-11 19:03:06 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-01-11 19:03:06 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-11 19:03:06 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.18]
2025-01-11 19:03:07 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-11 19:03:07 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 8973 ms
2025-01-11 19:03:08 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-11 19:03:09 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2025-01-11 19:03:09 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-01-11 19:03:10 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-11 19:03:10 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-11 19:03:12 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-11 19:03:12 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-01-11 19:03:12 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@bc88295
2025-01-11 19:03:12 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-01-11 19:03:13 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-11 19:03:14 [main] DEBUG c.g.a.c.security.ClerkAuthFilter - Filter 'clerkAuthFilter' configured for use
2025-01-11 19:03:14 [main] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Filter 'logFilter' configured for use
2025-01-11 19:03:14 [main] DEBUG c.g.a.c.c.RequestLoggingConfig$1 - Filter 'corsLoggingFilter' configured for use
2025-01-11 19:03:14 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-11 19:03:16 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 64c9f474-7698-45d6-a92a-d7ebae5f56b1

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-01-11 19:03:16 [main] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws/**] in 'stompWebSocketHandlerMapping'
2025-01-11 19:03:16 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 22 mappings in 'requestMappingHandlerMapping'
2025-01-11 19:03:17 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-01-11 19:03:17 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@63214338, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5eea3f69, org.springframework.security.web.context.SecurityContextHolderFilter@67988d92, org.springframework.security.web.header.HeaderWriterFilter@3178f903, org.springframework.web.filter.CorsFilter@27178dd5, org.springframework.security.web.csrf.CsrfFilter@4245e409, org.springframework.security.web.authentication.logout.LogoutFilter@44cefd71, com.gauntletai.agustinbiondi.chatgenius.security.ClerkAuthFilter@24f77077, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78a4764f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1079496c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@48fc2397, org.springframework.security.web.session.SessionManagementFilter@786384a6, org.springframework.security.web.access.ExceptionTranslationFilter@3829bb5, org.springframework.security.web.access.intercept.AuthorizationFilter@2de0f3e3]
2025-01-11 19:03:17 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.g.a.c.c.ChannelController:
	
2025-01-11 19:03:17 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.g.a.c.c.ClerkWebhookController:
	
2025-01-11 19:03:17 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.g.a.c.c.DevUserController:
	
2025-01-11 19:03:17 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.g.a.c.c.UserController:
	
2025-01-11 19:03:17 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.g.a.c.c.WebSocketController:
	{[MESSAGE],[/channels/{channelId}/typing]}: handleTypingEvent(UUID,Principal)
	{[MESSAGE],[/channels/{channelId}/messages]}: handleMessage(UUID,MessageDTO,Principal)
2025-01-11 19:03:17 [main] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.b.a.w.s.e.BasicErrorController:
	
2025-01-11 19:03:17 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-01-11 19:03:17 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-01-11 19:03:18 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-01-11 19:03:18 [main] DEBUG org.springframework.web.SimpLogging - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-01-11 19:03:18 [main] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-01-11 19:03:18 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-01-11 19:03:18 [main] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5471182c]
2025-01-11 19:03:18 [main] DEBUG org.springframework.web.SimpLogging - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5471182c]
2025-01-11 19:03:18 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5471182c]]
2025-01-11 19:03:18 [main] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-01-11 19:03:18 [main] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-01-11 19:03:18 [main] DEBUG org.springframework.web.SimpLogging - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-01-11 19:03:18 [main] INFO  c.g.a.chatgenius.Application - Started Application in 21.524 seconds (process running for 22.558)
2025-01-11 19:03:22 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-11 19:03:22 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-01-11 19:03:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-01-11 19:03:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-01-11 19:03:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-01-11 19:03:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@6614e25
2025-01-11 19:03:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@627beb93
2025-01-11 19:03:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='true': request parameters and headers will be shown which may lead to unsafe logging of potentially sensitive data
2025-01-11 19:03:22 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 9 ms
2025-01-11 19:03:22 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736640202520
2025-01-11 19:03:22 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 19:03:22 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 19:03:22 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 19:03:22 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 19:03:22 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 19:03:22 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736640202520
2025-01-11 19:03:22 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736640202520]
2025-01-11 19:03:22 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 19:03:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736640202520", parameters={t:[1736640202520]}
2025-01-11 19:03:22 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@5bfa2801
2025-01-11 19:03:22 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736640202520
2025-01-11 19:03:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 19:03:22 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736640202520]
2025-01-11 19:03:22 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/212/lawoxef5/websocket
2025-01-11 19:03:22 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/212/lawoxef5/websocket
2025-01-11 19:03:22 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 19:03:22 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/212/lawoxef5/websocket
2025-01-11 19:03:22 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 19:03:22 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 19:03:22 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/212/lawoxef5/websocket
2025-01-11 19:03:22 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/212/lawoxef5/websocket]
2025-01-11 19:03:22 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/212/lawoxef5/websocket - Origin: http://localhost:5173
2025-01-11 19:03:22 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/212/lawoxef5/websocket", parameters={}
2025-01-11 19:03:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@5bfa2801
2025-01-11 19:03:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/212/lawoxef5/websocket
2025-01-11 19:03:23 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 19:03:23 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/212/lawoxef5/websocket]
2025-01-11 19:03:23 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=lawoxef5]
2025-01-11 19:03:23 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/channels
2025-01-11 19:03:23 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: POST /api/channels
2025-01-11 19:03:23 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 19:03:23 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 19:03:23 [http-nio-8080-exec-2] ERROR c.g.a.c.security.ClerkTokenValidator - Token verification failed
com.auth0.jwt.exceptions.TokenExpiredException: The Token has expired on 2025-01-12T00:01:16Z.
	at com.auth0.jwt.JWTVerifier$BaseVerification.assertValidInstantClaim(JWTVerifier.java:346)
	at com.auth0.jwt.JWTVerifier$BaseVerification.lambda$addMandatoryClaimChecks$17(JWTVerifier.java:308)
	at com.auth0.jwt.JWTVerifier$BaseVerification$1.verify(JWTVerifier.java:405)
	at com.auth0.jwt.JWTVerifier.verifyClaims(JWTVerifier.java:482)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:464)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:58)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkChannelInterceptor.preSend(ClerkChannelInterceptor.java:36)
	at org.springframework.messaging.support.AbstractMessageChannel$ChannelInterceptorChain.applyPreSend(AbstractMessageChannel.java:181)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:135)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:125)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageFromClient(StompSubProtocolHandler.java:343)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:336)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.delegateMessages(AbstractSockJsSession.java:346)
	at org.springframework.web.socket.sockjs.transport.session.WebSocketServerSockJsSession.handleMessage(WebSocketServerSockJsSession.java:195)
	at org.springframework.web.socket.sockjs.transport.handler.SockJsWebSocketHandler.handleTextMessage(SockJsWebSocketHandler.java:93)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-01-11 19:03:23 [http-nio-8080-exec-2] ERROR c.g.a.c.s.ClerkChannelInterceptor - WebSocket authentication failed
com.auth0.jwt.exceptions.JWTVerificationException: Invalid token
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:65)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkChannelInterceptor.preSend(ClerkChannelInterceptor.java:36)
	at org.springframework.messaging.support.AbstractMessageChannel$ChannelInterceptorChain.applyPreSend(AbstractMessageChannel.java:181)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:135)
	at org.springframework.messaging.support.AbstractMessageChannel.send(AbstractMessageChannel.java:125)
	at org.springframework.web.socket.messaging.StompSubProtocolHandler.handleMessageFromClient(StompSubProtocolHandler.java:343)
	at org.springframework.web.socket.messaging.SubProtocolWebSocketHandler.handleMessage(SubProtocolWebSocketHandler.java:336)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.sockjs.transport.session.AbstractSockJsSession.delegateMessages(AbstractSockJsSession.java:346)
	at org.springframework.web.socket.sockjs.transport.session.WebSocketServerSockJsSession.handleMessage(WebSocketServerSockJsSession.java:195)
	at org.springframework.web.socket.sockjs.transport.handler.SockJsWebSocketHandler.handleTextMessage(SockJsWebSocketHandler.java:93)
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: com.auth0.jwt.exceptions.TokenExpiredException: The Token has expired on 2025-01-12T00:01:16Z.
	at com.auth0.jwt.JWTVerifier$BaseVerification.assertValidInstantClaim(JWTVerifier.java:346)
	at com.auth0.jwt.JWTVerifier$BaseVerification.lambda$addMandatoryClaimChecks$17(JWTVerifier.java:308)
	at com.auth0.jwt.JWTVerifier$BaseVerification$1.verify(JWTVerifier.java:405)
	at com.auth0.jwt.JWTVerifier.verifyClaims(JWTVerifier.java:482)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:464)
	at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)
	at com.gauntletai.agustinbiondi.chatgenius.security.ClerkTokenValidator.verifyToken(ClerkTokenValidator.java:58)
	... 34 common frames omitted
2025-01-11 19:03:23 [http-nio-8080-exec-2] DEBUG org.springframework.web.SimpLogging - ClerkChannelInterceptor returned null from preSend, i.e. precluding the send.
2025-01-11 19:03:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 19:03:24 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 19:03:24 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for POST /api/channels
2025-01-11 19:03:24 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/channels
2025-01-11 19:03:24 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [POST /api/channels]
2025-01-11 19:03:24 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: POST /api/channels - Origin: http://localhost:5173
2025-01-11 19:03:24 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/channels", parameters={}
2025-01-11 19:03:24 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#createChannel(ChannelDTO, String)
2025-01-11 19:03:24 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ChannelDTO(id=null, name=1, description=null, type=PUBLIC, createdBy=null, createdAt=null, memberIds (truncated)...]
2025-01-11 19:03:24 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: POST , Controller: ChannelController.createChannel
2025-01-11 19:03:24 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: [ChannelDTO(id=null, name=1, description=null, type=PUBLIC, createdBy=null, createdAt=null, memberIds=[]), user_2rMjbsf5HEAsTOk08nq01mt3exa]
2025-01-11 19:03:24 [http-nio-8080-exec-3] INFO  c.g.a.c.service.ChannelServiceImpl - Creating channel with name: 1, creator: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 19:03:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 19:03:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        channels
        (created_at, created_by, description, name, type, id) 
    values
        (?, ?, ?, ?, ?, ?)
2025-01-11 19:03:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        cm1_0.id 
    from
        channel_memberships cm1_0 
    left join
        users u1_0 
            on u1_0.user_id=cm1_0.user_id 
    where
        cm1_0.channel_id=? 
        and u1_0.user_id=? 
    fetch
        first ? rows only
2025-01-11 19:03:24 [http-nio-8080-exec-3] DEBUG c.g.a.c.w.WebSocketEventHandler - Broadcasting channel created event for channel: 8c15834a-0b75-404b-a28c-77482791efcd
2025-01-11 19:03:24 [http-nio-8080-exec-3] DEBUG org.springframework.web.SimpLogging - Processing MESSAGE destination=/topic/channels/events session=null payload={
  "type" : "CREATED",
  "channel" : {
    "id" : "8c15834a-0b75-404b-a28c-7...(truncated)
2025-01-11 19:03:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        channel_memberships
        (channel_id, joined_at, last_read_at, user_id, id) 
    values
        (?, ?, ?, ?, ?)
2025-01-11 19:03:24 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: POST , Duration: 393ms
2025-01-11 19:03:24 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,ChannelDTO(id=8c15834a-0b75-404b-a28c-77482791efcd, name=1, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-12T00:03:24.641953Z, memberIds=[]),[]>
2025-01-11 19:03:24 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 19:03:24 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ChannelDTO(id=8c15834a-0b75-404b-a28c-77482791efcd, name=1, description=null, type=PUBLIC, createdBy (truncated)...]
2025-01-11 19:03:24 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 19:03:24 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: POST /api/channels, payload={"name":"1","type":"PUBLIC","memberIds":[]}]
2025-01-11 19:03:24 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 19:03:24 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 19:03:24 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 19:03:24 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 19:03:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 19:03:24 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 19:03:24 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 19:03:24 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 19:03:24 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 19:03:24 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 19:03:24 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 19:03:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 19:03:24 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 19:03:24 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 19:03:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 19:03:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 19:03:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 19:03:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 19:03:24 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 84ms
2025-01-11 19:03:24 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa]), ChannelDTO(id=4b1755f5-a789-4724-ae84-e3a4b90feab5, name=123, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-12T00:00:20.745853Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa]), ChannelDTO(id=8c15834a-0b75-404b-a28c-77482791efcd, name=1, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-12T00:03:24.641953Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 19:03:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 19:03:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 19:03:24 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 19:03:24 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 19:04:18 [MessageBroker-4] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 1 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(1)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 2, completed tasks = 14]
2025-01-11 19:05:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=lawoxef5] closed with CloseStatus[code=1000, reason=null]
2025-01-11 19:05:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session lawoxef5
2025-01-11 19:05:31 [clientInboundChannel-2] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=lawoxef5
2025-01-11 19:05:31 [clientOutboundChannel-1] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=lawoxef5}], simpSessionId=lawoxef5}]
2025-01-11 19:05:31 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736640331980
2025-01-11 19:05:31 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 19:05:31 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 19:05:31 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 19:05:31 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 19:05:31 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 19:05:31 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736640331980
2025-01-11 19:05:31 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736640331980]
2025-01-11 19:05:31 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 19:05:32 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736640331980", parameters={t:[1736640331980]}
2025-01-11 19:05:32 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@5bfa2801
2025-01-11 19:05:32 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736640331980
2025-01-11 19:05:32 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 19:05:32 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736640331980]
2025-01-11 19:05:32 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/503/2psnidqb/websocket
2025-01-11 19:05:32 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/503/2psnidqb/websocket
2025-01-11 19:05:32 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 19:05:32 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/503/2psnidqb/websocket
2025-01-11 19:05:32 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 19:05:32 [http-nio-8080-exec-9] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 19:05:32 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/503/2psnidqb/websocket
2025-01-11 19:05:32 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/503/2psnidqb/websocket]
2025-01-11 19:05:32 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/503/2psnidqb/websocket - Origin: http://localhost:5173
2025-01-11 19:05:32 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/503/2psnidqb/websocket", parameters={}
2025-01-11 19:05:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@5bfa2801
2025-01-11 19:05:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/503/2psnidqb/websocket
2025-01-11 19:05:32 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 19:05:32 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/503/2psnidqb/websocket]
2025-01-11 19:05:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=2psnidqb]
2025-01-11 19:05:32 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 19:05:32 [clientInboundChannel-5] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=2psnidqb
2025-01-11 19:05:32 [clientInboundChannel-8] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=2psnidqb
2025-01-11 19:05:38 [MessageBroker-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [lawoxef5]
2025-01-11 19:05:43 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/channels
2025-01-11 19:05:43 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: POST /api/channels
2025-01-11 19:05:43 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 19:05:43 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 19:05:43 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 19:05:43 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 19:05:43 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for POST /api/channels
2025-01-11 19:05:43 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/channels
2025-01-11 19:05:43 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [POST /api/channels]
2025-01-11 19:05:43 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: POST /api/channels - Origin: http://localhost:5173
2025-01-11 19:05:43 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/channels", parameters={}
2025-01-11 19:05:43 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#createChannel(ChannelDTO, String)
2025-01-11 19:05:43 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ChannelDTO(id=null, name=2, description=null, type=PUBLIC, createdBy=null, createdAt=null, memberIds (truncated)...]
2025-01-11 19:05:43 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: POST , Controller: ChannelController.createChannel
2025-01-11 19:05:43 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: [ChannelDTO(id=null, name=2, description=null, type=PUBLIC, createdBy=null, createdAt=null, memberIds=[]), user_2rMjbsf5HEAsTOk08nq01mt3exa]
2025-01-11 19:05:43 [http-nio-8080-exec-2] INFO  c.g.a.c.service.ChannelServiceImpl - Creating channel with name: 2, creator: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 19:05:43 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 19:05:43 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        channels
        (created_at, created_by, description, name, type, id) 
    values
        (?, ?, ?, ?, ?, ?)
2025-01-11 19:05:43 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        cm1_0.id 
    from
        channel_memberships cm1_0 
    left join
        users u1_0 
            on u1_0.user_id=cm1_0.user_id 
    where
        cm1_0.channel_id=? 
        and u1_0.user_id=? 
    fetch
        first ? rows only
2025-01-11 19:05:43 [http-nio-8080-exec-2] DEBUG c.g.a.c.w.WebSocketEventHandler - Broadcasting channel created event for channel: d703c1d5-c0be-4edc-aab5-2534ce822316
2025-01-11 19:05:43 [http-nio-8080-exec-2] DEBUG org.springframework.web.SimpLogging - Processing MESSAGE destination=/topic/channels/events session=null payload={
  "type" : "CREATED",
  "channel" : {
    "id" : "d703c1d5-c0be-4edc-aab5-2...(truncated)
2025-01-11 19:05:43 [http-nio-8080-exec-2] DEBUG org.springframework.web.SimpLogging - Broadcasting to 1 sessions.
2025-01-11 19:05:43 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        channel_memberships
        (channel_id, joined_at, last_read_at, user_id, id) 
    values
        (?, ?, ?, ?, ?)
2025-01-11 19:05:43 [http-nio-8080-exec-2] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: POST , Duration: 70ms
2025-01-11 19:05:43 [http-nio-8080-exec-2] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,ChannelDTO(id=d703c1d5-c0be-4edc-aab5-2534ce822316, name=2, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-12T00:05:43.249863Z, memberIds=[]),[]>
2025-01-11 19:05:43 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 19:05:43 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 19:05:43 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ChannelDTO(id=d703c1d5-c0be-4edc-aab5-2534ce822316, name=2, description=null, type=PUBLIC, createdBy (truncated)...]
2025-01-11 19:05:43 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 19:05:43 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 19:05:43 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: POST /api/channels, payload={"name":"2","type":"PUBLIC","memberIds":[]}]
2025-01-11 19:05:43 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 19:05:43 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 19:05:43 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 19:05:43 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 19:05:43 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 19:05:43 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 19:05:43 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 19:05:43 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 19:05:43 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 19:05:43 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 19:05:43 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 19:05:43 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 19:05:43 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 19:05:43 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 19:05:43 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 19:05:43 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 19:05:43 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 19:05:43 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 34ms
2025-01-11 19:05:43 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa]), ChannelDTO(id=4b1755f5-a789-4724-ae84-e3a4b90feab5, name=123, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-12T00:00:20.745853Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa]), ChannelDTO(id=8c15834a-0b75-404b-a28c-77482791efcd, name=1, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-12T00:03:24.641953Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa]), ChannelDTO(id=d703c1d5-c0be-4edc-aab5-2534ce822316, name=2, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-12T00:05:43.249863Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 19:05:43 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 19:05:43 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 19:05:43 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 19:05:43 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 19:05:43 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 19:05:43 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 19:05:43 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 19:05:43 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 19:05:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 19:05:43 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 19:05:43 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 19:05:43 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 19:05:43 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 19:05:43 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 19:05:43 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 19:05:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 19:05:43 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 19:05:43 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 19:05:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 19:05:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 19:05:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 19:05:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 19:05:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 19:05:43 [http-nio-8080-exec-4] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 32ms
2025-01-11 19:05:43 [http-nio-8080-exec-4] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa]), ChannelDTO(id=4b1755f5-a789-4724-ae84-e3a4b90feab5, name=123, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-12T00:00:20.745853Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa]), ChannelDTO(id=8c15834a-0b75-404b-a28c-77482791efcd, name=1, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-12T00:03:24.641953Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa]), ChannelDTO(id=d703c1d5-c0be-4edc-aab5-2534ce822316, name=2, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-12T00:05:43.249863Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 19:05:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 19:05:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 19:05:43 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 19:05:43 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 19:05:49 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/channels/d703c1d5-c0be-4edc-aab5-2534ce822316
2025-01-11 19:05:49 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/channels/d703c1d5-c0be-4edc-aab5-2534ce822316
2025-01-11 19:05:49 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: DELETE /api/channels/d703c1d5-c0be-4edc-aab5-2534ce822316
2025-01-11 19:05:49 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 19:05:49 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 19:05:49 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 19:05:49 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 19:05:49 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for DELETE /api/channels/d703c1d5-c0be-4edc-aab5-2534ce822316
2025-01-11 19:05:49 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/channels/d703c1d5-c0be-4edc-aab5-2534ce822316
2025-01-11 19:05:49 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [DELETE /api/channels/d703c1d5-c0be-4edc-aab5-2534ce822316]
2025-01-11 19:05:49 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: DELETE /api/channels/d703c1d5-c0be-4edc-aab5-2534ce822316 - Origin: http://localhost:5173
2025-01-11 19:05:49 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/channels/d703c1d5-c0be-4edc-aab5-2534ce822316", parameters={}
2025-01-11 19:05:49 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#deleteChannel(UUID, String)
2025-01-11 19:05:49 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: DELETE /{channelId}, Controller: ChannelController.deleteChannel
2025-01-11 19:05:49 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: [d703c1d5-c0be-4edc-aab5-2534ce822316, user_2rMjbsf5HEAsTOk08nq01mt3exa]
2025-01-11 19:05:49 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.id=?
2025-01-11 19:05:50 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 19:05:50 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.content,
        m1_0.created_at,
        m1_0.created_by,
        m1_0.edited_at,
        m1_0.is_edited,
        m1_0.parent_id,
        m1_0.type 
    from
        messages m1_0 
    where
        m1_0.channel_id=?
2025-01-11 19:05:50 [http-nio-8080-exec-6] DEBUG c.g.a.c.w.WebSocketEventHandler - Broadcasting channel deleted event for channel: d703c1d5-c0be-4edc-aab5-2534ce822316
2025-01-11 19:05:50 [http-nio-8080-exec-6] DEBUG org.springframework.web.SimpLogging - Processing MESSAGE destination=/topic/channels/events session=null payload={
  "type" : "DELETED",
  "channel" : {
    "id" : "d703c1d5-c0be-4edc-aab5-2...(truncated)
2025-01-11 19:05:50 [http-nio-8080-exec-6] DEBUG org.springframework.web.SimpLogging - Broadcasting to 1 sessions.
2025-01-11 19:05:50 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    delete 
    from
        channel_memberships 
    where
        id=?
2025-01-11 19:05:50 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 19:05:50 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 19:05:50 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 19:05:50 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 19:05:50 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 19:05:50 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    delete 
    from
        channels 
    where
        id=?
2025-01-11 19:05:50 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 19:05:50 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 19:05:50 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 19:05:50 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 19:05:50 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 19:05:50 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 19:05:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 19:05:50 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 19:05:50 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 19:05:50 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 19:05:50 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: DELETE /{channelId}, Duration: 86ms
2025-01-11 19:05:50 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[]>
2025-01-11 19:05:50 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 19:05:50 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-01-11 19:05:50 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 19:05:50 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: DELETE /api/channels/d703c1d5-c0be-4edc-aab5-2534ce822316]
2025-01-11 19:05:50 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 19:05:50 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 19:05:50 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 19:05:50 [http-nio-8080-exec-7] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 42ms
2025-01-11 19:05:50 [http-nio-8080-exec-7] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa]), ChannelDTO(id=4b1755f5-a789-4724-ae84-e3a4b90feab5, name=123, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-12T00:00:20.745853Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa]), ChannelDTO(id=8c15834a-0b75-404b-a28c-77482791efcd, name=1, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-12T00:03:24.641953Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 19:05:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 19:05:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 19:05:50 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 19:05:50 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 19:05:50 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 19:05:50 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 19:05:50 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 19:05:50 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 19:05:50 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 19:05:50 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 19:05:50 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 19:05:50 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 19:05:50 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 19:05:50 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 19:05:50 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 19:05:50 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 19:05:50 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 19:05:50 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 19:05:50 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 19:05:50 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 19:05:50 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 19:05:50 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 19:05:50 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 28ms
2025-01-11 19:05:50 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa]), ChannelDTO(id=4b1755f5-a789-4724-ae84-e3a4b90feab5, name=123, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-12T00:00:20.745853Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa]), ChannelDTO(id=8c15834a-0b75-404b-a28c-77482791efcd, name=1, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-12T00:03:24.641953Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 19:05:50 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 19:05:50 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 19:05:50 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 19:05:50 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 19:05:54 [clientInboundChannel-1] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/presence session=2psnidqb, lookupDestination='/presence'
2025-01-11 19:05:55 [clientInboundChannel-1] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2025-01-11 19:05:55 [clientInboundChannel-2] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT receipt=close-1 session=2psnidqb
2025-01-11 19:05:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=2psnidqb] closed with CloseStatus[code=1000, reason=null]
2025-01-11 19:05:55 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736640355108
2025-01-11 19:05:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session 2psnidqb
2025-01-11 19:05:55 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 19:05:55 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 19:05:55 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 19:05:55 [clientInboundChannel-8] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=2psnidqb
2025-01-11 19:05:55 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 19:05:55 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 19:05:55 [clientOutboundChannel-6] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=2psnidqb}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=2psnidqb}]
2025-01-11 19:05:55 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736640355108
2025-01-11 19:05:55 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736640355108]
2025-01-11 19:05:55 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 19:05:55 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736640355108", parameters={t:[1736640355108]}
2025-01-11 19:05:55 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@5bfa2801
2025-01-11 19:05:55 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736640355108
2025-01-11 19:05:55 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 19:05:55 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736640355108]
2025-01-11 19:05:55 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/479/hjz0fojc/websocket
2025-01-11 19:05:55 [http-nio-8080-exec-2] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/479/hjz0fojc/websocket
2025-01-11 19:05:55 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 19:05:55 [http-nio-8080-exec-2] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/479/hjz0fojc/websocket
2025-01-11 19:05:55 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 19:05:55 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 19:05:55 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/479/hjz0fojc/websocket
2025-01-11 19:05:55 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/479/hjz0fojc/websocket]
2025-01-11 19:05:55 [http-nio-8080-exec-2] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/479/hjz0fojc/websocket - Origin: http://localhost:5173
2025-01-11 19:05:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/479/hjz0fojc/websocket", parameters={}
2025-01-11 19:05:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@5bfa2801
2025-01-11 19:05:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/479/hjz0fojc/websocket
2025-01-11 19:05:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 19:05:55 [http-nio-8080-exec-2] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/479/hjz0fojc/websocket]
2025-01-11 19:05:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=hjz0fojc]
2025-01-11 19:05:55 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 19:05:55 [clientInboundChannel-5] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=hjz0fojc
2025-01-11 19:05:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=hjz0fojc] closed with CloseStatus[code=1000, reason=null]
2025-01-11 19:05:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session hjz0fojc
2025-01-11 19:05:57 [clientInboundChannel-1] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=hjz0fojc
2025-01-11 19:05:57 [clientOutboundChannel-8] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=hjz0fojc}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=hjz0fojc}]
2025-01-11 19:05:58 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 19:05:58 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736640358759
2025-01-11 19:05:58 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 19:05:58 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 19:05:58 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 19:05:58 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 19:05:58 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 19:05:58 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 19:05:58 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 19:05:58 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 19:05:58 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 19:05:58 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 19:05:58 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 19:05:58 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 19:05:58 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 19:05:58 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 19:05:58 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 19:05:58 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736640358759
2025-01-11 19:05:58 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 19:05:58 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 19:05:58 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 19:05:58 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736640358759]
2025-01-11 19:05:58 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 19:05:58 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 19:05:58 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 19:05:58 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 19:05:58 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 19:05:58 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 19:05:58 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 19:05:58 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 19:05:58 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 19:05:58 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 19:05:58 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 19:05:58 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 19:05:58 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736640358759", parameters={t:[1736640358759]}
2025-01-11 19:05:58 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 19:05:58 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 19:05:58 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 19:05:58 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 19:05:58 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@5bfa2801
2025-01-11 19:05:58 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 19:05:58 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736640358759
2025-01-11 19:05:58 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 19:05:58 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736640358759]
2025-01-11 19:05:58 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 19:05:58 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 31ms
2025-01-11 19:05:58 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 19:05:58 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 19:05:58 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 19:05:58 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 19:05:58 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 19:05:58 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 19:05:58 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/774/3wx2ylfr/websocket
2025-01-11 19:05:58 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/774/3wx2ylfr/websocket
2025-01-11 19:05:58 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 19:05:58 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/774/3wx2ylfr/websocket
2025-01-11 19:05:58 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 19:05:58 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 19:05:58 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/774/3wx2ylfr/websocket
2025-01-11 19:05:58 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/774/3wx2ylfr/websocket]
2025-01-11 19:05:58 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/774/3wx2ylfr/websocket - Origin: http://localhost:5173
2025-01-11 19:05:58 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/774/3wx2ylfr/websocket", parameters={}
2025-01-11 19:05:58 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@5bfa2801
2025-01-11 19:05:58 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/774/3wx2ylfr/websocket
2025-01-11 19:05:58 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 19:05:58 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/774/3wx2ylfr/websocket]
2025-01-11 19:05:58 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=3wx2ylfr]
2025-01-11 19:05:58 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 19:05:58 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 19:05:58 [clientInboundChannel-4] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=3wx2ylfr
2025-01-11 19:05:59 [clientInboundChannel-5] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=3wx2ylfr
2025-01-11 19:05:59 [http-nio-8080-exec-5] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 150ms
2025-01-11 19:05:59 [http-nio-8080-exec-5] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa]), ChannelDTO(id=4b1755f5-a789-4724-ae84-e3a4b90feab5, name=123, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-12T00:00:20.745853Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa]), ChannelDTO(id=8c15834a-0b75-404b-a28c-77482791efcd, name=1, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-12T00:03:24.641953Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 19:05:59 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 19:05:59 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 19:05:59 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 19:05:59 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 19:06:02 [MessageBroker-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 2 sessions: [2psnidqb, hjz0fojc]
2025-01-11 19:06:51 [clientInboundChannel-7] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/presence session=3wx2ylfr, lookupDestination='/presence'
2025-01-11 19:06:51 [clientInboundChannel-1] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT receipt=close-1 session=3wx2ylfr
2025-01-11 19:06:51 [clientInboundChannel-7] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2025-01-11 19:06:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=3wx2ylfr] closed with CloseStatus[code=1000, reason=null]
2025-01-11 19:06:51 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736640411072
2025-01-11 19:06:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session 3wx2ylfr
2025-01-11 19:06:51 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 19:06:51 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 19:06:51 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 19:06:51 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 19:06:51 [http-nio-8080-exec-8] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 19:06:51 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736640411072
2025-01-11 19:06:51 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736640411072]
2025-01-11 19:06:51 [clientInboundChannel-5] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=3wx2ylfr
2025-01-11 19:06:51 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 19:06:51 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736640411072", parameters={t:[1736640411072]}
2025-01-11 19:06:51 [clientOutboundChannel-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=3wx2ylfr}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=3wx2ylfr}]
2025-01-11 19:06:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@5bfa2801
2025-01-11 19:06:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736640411072
2025-01-11 19:06:51 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 19:06:51 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736640411072]
2025-01-11 19:06:51 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/499/qyca4u4b/websocket
2025-01-11 19:06:51 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/499/qyca4u4b/websocket
2025-01-11 19:06:51 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 19:06:51 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/499/qyca4u4b/websocket
2025-01-11 19:06:51 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 19:06:51 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 19:06:51 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/499/qyca4u4b/websocket
2025-01-11 19:06:51 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/499/qyca4u4b/websocket]
2025-01-11 19:06:51 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/499/qyca4u4b/websocket - Origin: http://localhost:5173
2025-01-11 19:06:51 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/499/qyca4u4b/websocket", parameters={}
2025-01-11 19:06:51 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@5bfa2801
2025-01-11 19:06:51 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/499/qyca4u4b/websocket
2025-01-11 19:06:51 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 19:06:51 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/499/qyca4u4b/websocket]
2025-01-11 19:06:51 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=qyca4u4b]
2025-01-11 19:06:51 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 19:06:51 [clientInboundChannel-4] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=qyca4u4b
2025-01-11 19:06:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=qyca4u4b] closed with CloseStatus[code=1000, reason=null]
2025-01-11 19:06:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session qyca4u4b
2025-01-11 19:06:52 [clientInboundChannel-1] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=qyca4u4b
2025-01-11 19:06:52 [clientOutboundChannel-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=qyca4u4b}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=qyca4u4b}]
2025-01-11 19:06:54 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 19:06:54 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 19:06:54 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 19:06:54 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736640414184
2025-01-11 19:06:54 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 19:06:54 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 19:06:54 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 19:06:54 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 19:06:54 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 19:06:54 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 19:06:54 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 19:06:54 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 19:06:54 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 19:06:54 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736640414184
2025-01-11 19:06:54 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736640414184]
2025-01-11 19:06:54 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 19:06:54 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736640414184", parameters={t:[1736640414184]}
2025-01-11 19:06:54 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 19:06:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 19:06:54 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@5bfa2801
2025-01-11 19:06:54 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736640414184
2025-01-11 19:06:54 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 19:06:54 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 19:06:54 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736640414184]
2025-01-11 19:06:54 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 19:06:54 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 19:06:54 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 19:06:54 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 19:06:54 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 19:06:54 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 19:06:54 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 19:06:54 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 19:06:54 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 19:06:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 19:06:54 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 19:06:54 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 19:06:54 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 19:06:54 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 19:06:54 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 19:06:54 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 19:06:54 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 19:06:54 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 19:06:54 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 19:06:54 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/269/11iornmi/websocket
2025-01-11 19:06:54 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 19:06:54 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/269/11iornmi/websocket
2025-01-11 19:06:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 19:06:54 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 19:06:54 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/269/11iornmi/websocket
2025-01-11 19:06:54 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 19:06:54 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 19:06:54 [http-nio-8080-exec-1] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 19ms
2025-01-11 19:06:54 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/269/11iornmi/websocket
2025-01-11 19:06:54 [http-nio-8080-exec-1] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 19:06:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 19:06:54 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/269/11iornmi/websocket]
2025-01-11 19:06:54 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 19:06:54 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/269/11iornmi/websocket - Origin: http://localhost:5173
2025-01-11 19:06:54 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 19:06:54 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/269/11iornmi/websocket", parameters={}
2025-01-11 19:06:54 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 19:06:54 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 19:06:54 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@5bfa2801
2025-01-11 19:06:54 [http-nio-8080-exec-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/269/11iornmi/websocket
2025-01-11 19:06:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 19:06:54 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 19:06:54 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/269/11iornmi/websocket]
2025-01-11 19:06:54 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=11iornmi]
2025-01-11 19:06:54 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 76ms
2025-01-11 19:06:54 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa]), ChannelDTO(id=4b1755f5-a789-4724-ae84-e3a4b90feab5, name=123, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-12T00:00:20.745853Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa]), ChannelDTO(id=8c15834a-0b75-404b-a28c-77482791efcd, name=1, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-12T00:03:24.641953Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 19:06:54 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 19:06:54 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 19:06:54 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 19:06:54 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 19:06:54 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 19:06:54 [clientInboundChannel-5] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=11iornmi
2025-01-11 19:06:54 [clientInboundChannel-3] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=11iornmi
2025-01-11 19:06:58 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 2 sessions: [qyca4u4b, 3wx2ylfr]
2025-01-11 19:06:58 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/channels/4b1755f5-a789-4724-ae84-e3a4b90feab5
2025-01-11 19:06:58 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/channels/4b1755f5-a789-4724-ae84-e3a4b90feab5
2025-01-11 19:06:58 [http-nio-8080-exec-8] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: DELETE /api/channels/4b1755f5-a789-4724-ae84-e3a4b90feab5
2025-01-11 19:06:58 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 19:06:58 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 19:06:58 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 19:06:58 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 19:06:58 [http-nio-8080-exec-8] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for DELETE /api/channels/4b1755f5-a789-4724-ae84-e3a4b90feab5
2025-01-11 19:06:58 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/channels/4b1755f5-a789-4724-ae84-e3a4b90feab5
2025-01-11 19:06:58 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [DELETE /api/channels/4b1755f5-a789-4724-ae84-e3a4b90feab5]
2025-01-11 19:06:58 [http-nio-8080-exec-8] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: DELETE /api/channels/4b1755f5-a789-4724-ae84-e3a4b90feab5 - Origin: http://localhost:5173
2025-01-11 19:06:58 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/channels/4b1755f5-a789-4724-ae84-e3a4b90feab5", parameters={}
2025-01-11 19:06:58 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#deleteChannel(UUID, String)
2025-01-11 19:06:58 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: DELETE /{channelId}, Controller: ChannelController.deleteChannel
2025-01-11 19:06:58 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: [4b1755f5-a789-4724-ae84-e3a4b90feab5, user_2rMjbsf5HEAsTOk08nq01mt3exa]
2025-01-11 19:06:58 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.id=?
2025-01-11 19:06:58 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 19:06:58 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.content,
        m1_0.created_at,
        m1_0.created_by,
        m1_0.edited_at,
        m1_0.is_edited,
        m1_0.parent_id,
        m1_0.type 
    from
        messages m1_0 
    where
        m1_0.channel_id=?
2025-01-11 19:06:58 [http-nio-8080-exec-8] DEBUG c.g.a.c.w.WebSocketEventHandler - Broadcasting channel deleted event for channel: 4b1755f5-a789-4724-ae84-e3a4b90feab5
2025-01-11 19:06:58 [http-nio-8080-exec-8] DEBUG org.springframework.web.SimpLogging - Processing MESSAGE destination=/topic/channels/events session=null payload={
  "type" : "DELETED",
  "channel" : {
    "id" : "4b1755f5-a789-4724-ae84-e...(truncated)
2025-01-11 19:06:58 [http-nio-8080-exec-8] DEBUG org.springframework.web.SimpLogging - Broadcasting to 1 sessions.
2025-01-11 19:06:58 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    delete 
    from
        channel_memberships 
    where
        id=?
2025-01-11 19:06:58 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    delete 
    from
        channels 
    where
        id=?
2025-01-11 19:06:58 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 19:06:58 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 19:06:58 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 19:06:58 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 19:06:58 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 19:06:58 [http-nio-8080-exec-8] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: DELETE /{channelId}, Duration: 61ms
2025-01-11 19:06:58 [http-nio-8080-exec-8] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[]>
2025-01-11 19:06:58 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 19:06:58 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2025-01-11 19:06:58 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 19:06:58 [http-nio-8080-exec-8] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: DELETE /api/channels/4b1755f5-a789-4724-ae84-e3a4b90feab5]
2025-01-11 19:06:58 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 19:06:58 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 19:06:58 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 19:06:58 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 19:06:58 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 19:06:58 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 19:06:58 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 19:06:58 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 19:06:58 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 19:06:58 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 19:06:58 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 19:06:58 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 19:06:58 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 57ms
2025-01-11 19:06:58 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa]), ChannelDTO(id=8c15834a-0b75-404b-a28c-77482791efcd, name=1, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-12T00:03:24.641953Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 19:06:58 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 19:06:58 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 19:06:58 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 19:06:58 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 19:06:58 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 19:06:58 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 19:06:58 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 19:06:58 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 19:06:59 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 19:06:59 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 19:06:59 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 19:06:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 19:06:59 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 19:06:59 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 19:06:59 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 19:06:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 19:06:59 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 19:06:59 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 19:06:59 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 19:06:59 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 19:06:59 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 19:06:59 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 20ms
2025-01-11 19:06:59 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa]), ChannelDTO(id=8c15834a-0b75-404b-a28c-77482791efcd, name=1, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-12T00:03:24.641953Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 19:06:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 19:06:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 19:06:59 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 19:06:59 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 19:07:00 [clientInboundChannel-1] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/presence session=11iornmi, lookupDestination='/presence'
2025-01-11 19:07:00 [clientInboundChannel-2] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT receipt=close-1 session=11iornmi
2025-01-11 19:07:00 [clientInboundChannel-1] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2025-01-11 19:07:00 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736640420526
2025-01-11 19:07:00 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 19:07:00 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=11iornmi] closed with CloseStatus[code=1000, reason=null]
2025-01-11 19:07:00 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 19:07:00 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session 11iornmi
2025-01-11 19:07:00 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 19:07:00 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 19:07:00 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 19:07:00 [clientInboundChannel-3] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=11iornmi
2025-01-11 19:07:00 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736640420526
2025-01-11 19:07:00 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736640420526]
2025-01-11 19:07:00 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 19:07:00 [clientOutboundChannel-14] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=11iornmi}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=11iornmi}]
2025-01-11 19:07:00 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736640420526", parameters={t:[1736640420526]}
2025-01-11 19:07:00 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@5bfa2801
2025-01-11 19:07:00 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736640420526
2025-01-11 19:07:00 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 19:07:00 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736640420526]
2025-01-11 19:07:00 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/262/qw0xcsw0/websocket
2025-01-11 19:07:00 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/262/qw0xcsw0/websocket
2025-01-11 19:07:00 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 19:07:00 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/262/qw0xcsw0/websocket
2025-01-11 19:07:00 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 19:07:00 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 19:07:00 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/262/qw0xcsw0/websocket
2025-01-11 19:07:00 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/262/qw0xcsw0/websocket]
2025-01-11 19:07:00 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/262/qw0xcsw0/websocket - Origin: http://localhost:5173
2025-01-11 19:07:00 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/262/qw0xcsw0/websocket", parameters={}
2025-01-11 19:07:00 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@5bfa2801
2025-01-11 19:07:00 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/262/qw0xcsw0/websocket
2025-01-11 19:07:00 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 19:07:00 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/262/qw0xcsw0/websocket]
2025-01-11 19:07:00 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=qw0xcsw0]
2025-01-11 19:07:00 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 19:07:00 [clientInboundChannel-6] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=qw0xcsw0
2025-01-11 19:07:03 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=qw0xcsw0] closed with CloseStatus[code=1000, reason=null]
2025-01-11 19:07:03 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session qw0xcsw0
2025-01-11 19:07:03 [clientInboundChannel-2] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=qw0xcsw0
2025-01-11 19:07:03 [clientOutboundChannel-10] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=qw0xcsw0}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=qw0xcsw0}]
2025-01-11 19:07:06 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 19:07:06 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 19:07:06 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 19:07:06 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 19:07:06 [http-nio-8080-exec-9] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 19:07:06 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 19:07:06 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 19:07:06 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 19:07:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 19:07:06 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 19:07:06 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 19:07:06 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 19:07:06 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 19:07:06 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 19:07:06 [http-nio-8080-exec-9] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 19:07:06 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 19:07:06 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 19:07:06 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 19:07:06 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 19:07:06 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 19:07:06 [http-nio-8080-exec-9] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 19:07:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 19:07:06 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 19:07:06 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 19:07:06 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 19:07:06 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 19:07:06 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 19:07:06 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 19:07:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 19:07:06 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 19:07:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 19:07:06 [http-nio-8080-exec-9] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 11ms
2025-01-11 19:07:06 [http-nio-8080-exec-9] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 19:07:06 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 19:07:06 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 19:07:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 19:07:06 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 19:07:06 [http-nio-8080-exec-9] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 19:07:06 [http-nio-8080-exec-6] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 23ms
2025-01-11 19:07:06 [http-nio-8080-exec-6] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa]), ChannelDTO(id=8c15834a-0b75-404b-a28c-77482791efcd, name=1, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-12T00:03:24.641953Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 19:07:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 19:07:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 19:07:06 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 19:07:06 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 19:07:06 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736640426347
2025-01-11 19:07:06 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 19:07:06 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 19:07:06 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 19:07:06 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 19:07:06 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 19:07:06 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736640426347
2025-01-11 19:07:06 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736640426347]
2025-01-11 19:07:06 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 19:07:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736640426347", parameters={t:[1736640426347]}
2025-01-11 19:07:06 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@5bfa2801
2025-01-11 19:07:06 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736640426347
2025-01-11 19:07:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 19:07:06 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736640426347]
2025-01-11 19:07:06 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/122/euig0yh4/websocket
2025-01-11 19:07:06 [http-nio-8080-exec-5] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/122/euig0yh4/websocket
2025-01-11 19:07:06 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 19:07:06 [http-nio-8080-exec-5] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/122/euig0yh4/websocket
2025-01-11 19:07:06 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 19:07:06 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 19:07:06 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/122/euig0yh4/websocket
2025-01-11 19:07:06 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/122/euig0yh4/websocket]
2025-01-11 19:07:06 [http-nio-8080-exec-5] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/122/euig0yh4/websocket - Origin: http://localhost:5173
2025-01-11 19:07:06 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/122/euig0yh4/websocket", parameters={}
2025-01-11 19:07:06 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@5bfa2801
2025-01-11 19:07:06 [http-nio-8080-exec-5] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/122/euig0yh4/websocket
2025-01-11 19:07:06 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 19:07:06 [http-nio-8080-exec-5] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/122/euig0yh4/websocket]
2025-01-11 19:07:06 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=euig0yh4]
2025-01-11 19:07:06 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 19:07:06 [clientInboundChannel-3] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=euig0yh4
2025-01-11 19:07:06 [clientInboundChannel-6] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=euig0yh4
2025-01-11 19:07:07 [MessageBroker-2] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [11iornmi]
2025-01-11 19:07:13 [MessageBroker-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [qw0xcsw0]
2025-01-11 19:07:52 [clientInboundChannel-2] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /app/presence session=euig0yh4, lookupDestination='/presence'
2025-01-11 19:07:52 [clientInboundChannel-2] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2025-01-11 19:07:52 [clientInboundChannel-7] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT receipt=close-1 session=euig0yh4
2025-01-11 19:07:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=euig0yh4] closed with CloseStatus[code=1000, reason=null]
2025-01-11 19:07:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session euig0yh4
2025-01-11 19:07:52 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736640472901
2025-01-11 19:07:52 [http-nio-8080-exec-6] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 19:07:52 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 19:07:52 [clientInboundChannel-6] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=euig0yh4
2025-01-11 19:07:52 [http-nio-8080-exec-6] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 19:07:52 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 19:07:52 [clientOutboundChannel-6] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=euig0yh4}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=euig0yh4}]
2025-01-11 19:07:52 [http-nio-8080-exec-6] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 19:07:52 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736640472901
2025-01-11 19:07:52 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736640472901]
2025-01-11 19:07:52 [http-nio-8080-exec-6] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 19:07:52 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736640472901", parameters={t:[1736640472901]}
2025-01-11 19:07:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@5bfa2801
2025-01-11 19:07:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736640472901
2025-01-11 19:07:52 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 19:07:52 [http-nio-8080-exec-6] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736640472901]
2025-01-11 19:07:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/053/cqlyhk1o/websocket
2025-01-11 19:07:52 [http-nio-8080-exec-1] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/053/cqlyhk1o/websocket
2025-01-11 19:07:52 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 19:07:52 [http-nio-8080-exec-1] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/053/cqlyhk1o/websocket
2025-01-11 19:07:52 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 19:07:52 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 19:07:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/053/cqlyhk1o/websocket
2025-01-11 19:07:52 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/053/cqlyhk1o/websocket]
2025-01-11 19:07:52 [http-nio-8080-exec-1] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/053/cqlyhk1o/websocket - Origin: http://localhost:5173
2025-01-11 19:07:52 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/053/cqlyhk1o/websocket", parameters={}
2025-01-11 19:07:52 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@5bfa2801
2025-01-11 19:07:52 [http-nio-8080-exec-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/053/cqlyhk1o/websocket
2025-01-11 19:07:52 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 19:07:52 [http-nio-8080-exec-1] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/053/cqlyhk1o/websocket]
2025-01-11 19:07:52 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=cqlyhk1o]
2025-01-11 19:07:52 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 19:07:52 [clientInboundChannel-5] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=cqlyhk1o
2025-01-11 19:07:54 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=cqlyhk1o] closed with CloseStatus[code=1000, reason=null]
2025-01-11 19:07:54 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - Clearing session cqlyhk1o
2025-01-11 19:07:54 [clientInboundChannel-4] DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=cqlyhk1o
2025-01-11 19:07:54 [clientOutboundChannel-13] DEBUG o.s.w.s.m.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=cqlyhk1o}], simpUser=UsernamePasswordAuthenticationToken [Principal=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9, Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_ADMIN]], simpSessionId=cqlyhk1o}]
2025-01-11 19:07:56 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/channels/public
2025-01-11 19:07:56 [http-nio-8080-exec-3] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/channels/public
2025-01-11 19:07:56 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users
2025-01-11 19:07:56 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 19:07:56 [http-nio-8080-exec-10] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /api/users
2025-01-11 19:07:56 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Found bearer token in request
2025-01-11 19:07:56 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 19:07:56 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Token verified for Clerk user ID: user_2rMjbsf5HEAsTOk08nq01mt3exa
2025-01-11 19:07:56 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 19:07:56 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 19:07:56 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 19:07:56 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Setting authentication for user user_2rMjbsf5HEAsTOk08nq01mt3exa with role ADMIN
2025-01-11 19:07:56 [http-nio-8080-exec-10] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/users
2025-01-11 19:07:56 [http-nio-8080-exec-3] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /api/channels/public
2025-01-11 19:07:56 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users
2025-01-11 19:07:56 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/channels/public
2025-01-11 19:07:56 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/users]
2025-01-11 19:07:56 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /api/channels/public]
2025-01-11 19:07:56 [http-nio-8080-exec-10] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/users - Origin: http://localhost:5173
2025-01-11 19:07:56 [http-nio-8080-exec-3] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /api/channels/public - Origin: http://localhost:5173
2025-01-11 19:07:56 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/users", parameters={}
2025-01-11 19:07:56 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/channels/public", parameters={}
2025-01-11 19:07:56 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.UserController#findAll()
2025-01-11 19:07:56 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.gauntletai.agustinbiondi.chatgenius.controller.ChannelController#getPublicChannels()
2025-01-11 19:07:56 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Controller: UserController.findAll
2025-01-11 19:07:56 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request received - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Controller: ChannelController.getPublicChannels
2025-01-11 19:07:56 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 19:07:56 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Method arguments: []
2025-01-11 19:07:56 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0
2025-01-11 19:07:56 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.description,
        c1_0.name,
        c1_0.type 
    from
        channels c1_0 
    where
        c1_0.type=?
2025-01-11 19:07:56 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 19:07:56 [http-nio-8080-exec-10] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET , Duration: 15ms
2025-01-11 19:07:56 [http-nio-8080-exec-10] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmail.com, role=ADMIN, createdAt=2025-01-11T06:21:09.931465Z)],[]>
2025-01-11 19:07:56 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 19:07:56 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        m1_0.channel_id,
        m1_0.id,
        m1_0.joined_at,
        m1_0.last_read_at,
        m1_0.user_id 
    from
        channel_memberships m1_0 
    where
        m1_0.channel_id=?
2025-01-11 19:07:56 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UserDTO(userId=user_2rMjbsf5HEAsTOk08nq01mt3exa, username=agustin.biondi, email=agustin.biondi@gmai (truncated)...]
2025-01-11 19:07:56 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 19:07:56 [http-nio-8080-exec-10] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/users]
2025-01-11 19:07:56 [http-nio-8080-exec-3] INFO  c.g.a.c.a.ControllerLoggingAspect - Request completed - User: user_2rMjbsf5HEAsTOk08nq01mt3exa, Method: GET /public, Duration: 27ms
2025-01-11 19:07:56 [http-nio-8080-exec-3] DEBUG c.g.a.c.a.ControllerLoggingAspect - Response: <200 OK OK,[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-11T22:27:27.591883Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa]), ChannelDTO(id=8c15834a-0b75-404b-a28c-77482791efcd, name=1, description=null, type=PUBLIC, createdBy=user_2rMjbsf5HEAsTOk08nq01mt3exa, createdAt=2025-01-12T00:03:24.641953Z, memberIds=[user_2rMjbsf5HEAsTOk08nq01mt3exa])],[]>
2025-01-11 19:07:56 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-01-11 19:07:56 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ChannelDTO(id=21666a59-c37c-4684-a875-a2d6aa31ae1e, name=sdfd, description=null, type=PUBLIC, creat (truncated)...]
2025-01-11 19:07:56 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 19:07:56 [http-nio-8080-exec-3] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /api/channels/public]
2025-01-11 19:07:56 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/info?t=1736640476226
2025-01-11 19:07:56 [http-nio-8080-exec-4] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/info
2025-01-11 19:07:56 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 19:07:56 [http-nio-8080-exec-4] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/info
2025-01-11 19:07:56 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 19:07:56 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 19:07:56 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/info?t=1736640476226
2025-01-11 19:07:56 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/info?t=1736640476226]
2025-01-11 19:07:56 [http-nio-8080-exec-4] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/info - Origin: http://localhost:5173
2025-01-11 19:07:56 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/info?t=1736640476226", parameters={t:[1736640476226]}
2025-01-11 19:07:56 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@5bfa2801
2025-01-11 19:07:56 [http-nio-8080-exec-4] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/info?t=1736640476226
2025-01-11 19:07:56 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-01-11 19:07:56 [http-nio-8080-exec-4] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/info?t=1736640476226]
2025-01-11 19:07:56 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /ws/551/r5i0qgcb/websocket
2025-01-11 19:07:56 [http-nio-8080-exec-7] INFO  c.g.a.c.security.ClerkAuthFilter - Processing request: GET /ws/551/r5i0qgcb/websocket
2025-01-11 19:07:56 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - No bearer token found in request
2025-01-11 19:07:56 [http-nio-8080-exec-7] DEBUG c.g.a.c.security.ClerkAuthFilter - Proceeding with filter chain for GET /ws/551/r5i0qgcb/websocket
2025-01-11 19:07:56 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-01-11 19:07:56 [http-nio-8080-exec-7] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id E9318BB5803E3CE20D341EF277968A3F
2025-01-11 19:07:56 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /ws/551/r5i0qgcb/websocket
2025-01-11 19:07:56 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - Before request [GET /ws/551/r5i0qgcb/websocket]
2025-01-11 19:07:56 [http-nio-8080-exec-7] INFO  c.g.a.c.config.RequestLoggingConfig - CORS request: GET /ws/551/r5i0qgcb/websocket - Origin: http://localhost:5173
2025-01-11 19:07:56 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/ws/551/r5i0qgcb/websocket", parameters={}
2025-01-11 19:07:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@5bfa2801
2025-01-11 19:07:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Processing transport request: GET http://localhost:8080/ws/551/r5i0qgcb/websocket
2025-01-11 19:07:56 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2025-01-11 19:07:56 [http-nio-8080-exec-7] DEBUG o.s.w.f.CommonsRequestLoggingFilter - REQUEST DATA: GET /ws/551/r5i0qgcb/websocket]
2025-01-11 19:07:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=r5i0qgcb]
2025-01-11 19:07:56 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.user_id=?
2025-01-11 19:07:56 [clientInboundChannel-6] DEBUG org.springframework.web.SimpLogging - Processing CONNECT user=com.gauntletai.agustinbiondi.chatgenius.model.User@e32802d9 session=r5i0qgcb
2025-01-11 19:07:56 [clientInboundChannel-5] DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /topic/channels/events id=sub-0 session=r5i0qgcb
2025-01-11 19:07:57 [MessageBroker-3] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [euig0yh4]
2025-01-11 19:08:02 [MessageBroker-1] DEBUG o.s.w.s.s.t.h.DefaultSockJsService - Closed 1 sessions: [cqlyhk1o]
