@startuml Frontend Component Hierarchy

skinparam backgroundColor white
skinparam handwritten false
skinparam component {
    BackgroundColor White
    BorderColor Black
    ArrowColor Black
}

package "App Structure" {
    [App] as app
    [ProtectedRoute] as protectedRoute
    [AuthLayout] as authLayout
    [MainLayout] as mainLayout
}

package "Authentication" {
    [SignIn] as signIn
    [SignUp] as signUp
    [SignedOut] as signedOut
    [ClerkProvider] as clerkProvider
}

package "Main Components" {
    package "Left Panel" {
        package "Sidebar" {
            [Sidebar] as sidebar
            [ChannelList] as channelList
            [CreateChannelButton] as createChannel
            [UserList] as userList
        }
    }
    
    package "Right Panel" {
        package "Navbar" {
            [Navbar] as navbar
            [SignOutButton] as signOutButton
        }

        package "ChatPanel" {
            [ChatPanel] as chatPanel
            [MessageList] as messageList
            [MessageInput] as messageInput
            [EmojiPicker] as emojiPicker
            [ReactionGroup] as reactionGroup
        }
    }
}

package "Services" {
    [channelService] as channelSvc
    [messageService] as messageSvc
    [websocketService] as wsSvc
    [userService] as userSvc
    [reactionService] as reactionSvc
}

' Main Structure
clerkProvider --> app
app --> protectedRoute
protectedRoute --> mainLayout
app --> authLayout

' Auth Flow
authLayout --> signIn
authLayout --> signUp
authLayout --> signedOut

' Main Layout Structure
mainLayout --> sidebar
mainLayout --> navbar
mainLayout --> chatPanel

' Sidebar Components
sidebar --> channelList
sidebar --> createChannel
sidebar --> userList

' Chat Panel Components
chatPanel --> messageList
chatPanel --> messageInput
messageList --> emojiPicker
messageList --> reactionGroup

' Navbar Components
navbar --> signOutButton

' Service Dependencies
mainLayout ..> channelSvc
mainLayout ..> wsSvc
mainLayout ..> userSvc
chatPanel ..> messageSvc
messageList ..> reactionSvc
sidebar ..> channelSvc

note right of mainLayout
  Main layout container
  Split into left sidebar and right content area
  Manages global state and WebSocket
end note

note right of sidebar
  Left panel component
  Manages channel list
  Handles user list
  Channel creation
end note

note right of "Right Panel"
  Right content area
  Navbar at top
  Chat panel fills remaining space
end note

@enduml 